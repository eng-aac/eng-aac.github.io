(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.5","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return vs})),n.d(e,"b",(function(){return ja})),n.d(e,"c",(function(){return Ia})),n.d(e,"d",(function(){return Oa})),n.d(e,"e",(function(){return Ta})),n.d(e,"f",(function(){return wu})),n.d(e,"g",(function(){return hu})),n.d(e,"h",(function(){return es})),n.d(e,"i",(function(){return qa})),n.d(e,"j",(function(){return co})),n.d(e,"k",(function(){return Ra})),n.d(e,"l",(function(){return lo})),n.d(e,"m",(function(){return wn})),n.d(e,"n",(function(){return ua})),n.d(e,"o",(function(){return X})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return J})),n.d(e,"r",(function(){return ys})),n.d(e,"s",(function(){return ko})),n.d(e,"t",(function(){return jo})),n.d(e,"u",(function(){return Pa})),n.d(e,"v",(function(){return ht})),n.d(e,"w",(function(){return du})),n.d(e,"x",(function(){return lt})),n.d(e,"y",(function(){return ou})),n.d(e,"z",(function(){return Ka})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return ka})),n.d(e,"C",(function(){return Aa})),n.d(e,"D",(function(){return go})),n.d(e,"E",(function(){return fo})),n.d(e,"F",(function(){return po})),n.d(e,"G",(function(){return yo})),n.d(e,"H",(function(){return cr})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return mu})),n.d(e,"K",(function(){return Do})),n.d(e,"L",(function(){return Ya})),n.d(e,"M",(function(){return rs})),n.d(e,"N",(function(){return bo})),n.d(e,"O",(function(){return vo})),n.d(e,"P",(function(){return Fo})),n.d(e,"Q",(function(){return _t})),n.d(e,"R",(function(){return au})),n.d(e,"S",(function(){return Mn})),n.d(e,"T",(function(){return Un})),n.d(e,"U",(function(){return bu})),n.d(e,"V",(function(){return nu})),n.d(e,"W",(function(){return Na})),n.d(e,"X",(function(){return is})),n.d(e,"Y",(function(){return Yo})),n.d(e,"Z",(function(){return ar})),n.d(e,"ab",(function(){return Bn})),n.d(e,"bb",(function(){return An})),n.d(e,"cb",(function(){return jn})),n.d(e,"db",(function(){return Dn})),n.d(e,"eb",(function(){return Pn})),n.d(e,"fb",(function(){return Nn})),n.d(e,"gb",(function(){return Rn})),n.d(e,"hb",(function(){return Qo})),n.d(e,"ib",(function(){return vu})),n.d(e,"jb",(function(){return Jo})),n.d(e,"kb",(function(){return Xo})),n.d(e,"lb",(function(){return kn})),n.d(e,"mb",(function(){return q})),n.d(e,"nb",(function(){return Ss})),n.d(e,"ob",(function(){return Fs})),n.d(e,"pb",(function(){return Ls})),n.d(e,"qb",(function(){return Wo})),n.d(e,"rb",(function(){return Jt})),n.d(e,"sb",(function(){return P})),n.d(e,"tb",(function(){return Cn})),n.d(e,"ub",(function(){return Bt})),n.d(e,"vb",(function(){return kr})),n.d(e,"wb",(function(){return Is})),n.d(e,"xb",(function(){return Js})),n.d(e,"yb",(function(){return _a})),n.d(e,"zb",(function(){return Ot})),n.d(e,"Ab",(function(){return jt})),n.d(e,"Bb",(function(){return S})),n.d(e,"Cb",(function(){return O})),n.d(e,"Db",(function(){return Ct})),n.d(e,"Eb",(function(){return Nt})),n.d(e,"Fb",(function(){return As})),n.d(e,"Gb",(function(){return Ds})),n.d(e,"Hb",(function(){return Rs})),n.d(e,"Ib",(function(){return Ps})),n.d(e,"Jb",(function(){return so})),n.d(e,"Kb",(function(){return ot})),n.d(e,"Lb",(function(){return ks})),n.d(e,"Mb",(function(){return Sa})),n.d(e,"Nb",(function(){return Us})),n.d(e,"Ob",(function(){return wa})),n.d(e,"Pb",(function(){return Vs})),n.d(e,"Qb",(function(){return oa})),n.d(e,"Rb",(function(){return aa})),n.d(e,"Sb",(function(){return Bs})),n.d(e,"Tb",(function(){return zs})),n.d(e,"Ub",(function(){return js})),n.d(e,"Vb",(function(){return Ks})),n.d(e,"Wb",(function(){return ba})),n.d(e,"Xb",(function(){return lr})),n.d(e,"Yb",(function(){return At})),n.d(e,"Zb",(function(){return Qs})),n.d(e,"ac",(function(){return Cs})),n.d(e,"bc",(function(){return no})),n.d(e,"cc",(function(){return ro})),n.d(e,"dc",(function(){return io}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}function m(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const y=m("Inject",t=>({token:t})),v=m("Optional"),b=m("Self"),_=m("SkipSelf");var w=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return I(t,t[C])||I(t,t[j])}function I(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(N))?t[A]:null}const C=E({"\u0275prov":E}),A=E({"\u0275inj":E}),k=E({"\u0275provFallback":E}),j=E({ngInjectableDef:E}),N=E({ngInjectorDef:E});function P(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(P).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function R(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const D=E({__forward_ref__:E});function L(t){return t.__forward_ref__=L,t.toString=function(){return P(this())},t}function F(t){return"function"==typeof(e=t)&&e.hasOwnProperty(D)&&e.__forward_ref__===L?t():t;var e}const U="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,H="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,q=U||V||M||H,z=E({"\u0275cmp":E}),B=E({"\u0275dir":E}),K=E({"\u0275pipe":E}),G=E({"\u0275mod":E}),$=E({"\u0275loc":E}),W=E({"\u0275fac":E}),Q=E({__NG_ELEMENT_ID__:E});class J{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const X=new J("INJECTOR",-1),Z={},Y=/\n/gm,tt=E({provide:String,useValue:E});let et,nt=void 0;function rt(t){const e=nt;return nt=t,e}function it(t){const e=et;return et=t,e}function st(t,e=w.Default){if(void 0===nt)throw new Error("inject() must be called from an injection context");return null===nt?at(t,void 0,e):nt.get(t,e&w.Optional?null:void 0,e)}function ot(t,e=w.Default){return(et||st)(F(t),e)}function at(t,e,n){const r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&w.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${P(t)}]`)}function ut(t){const e=[];for(let n=0;n<t.length;n++){const r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=w.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof v||"Optional"===i.ngMetadataName||i===v?n|=w.Optional:i instanceof _||"SkipSelf"===i.ngMetadataName||i===_?n|=w.SkipSelf:i instanceof b||"Self"===i.ngMetadataName||i===b?n|=w.Self:t=i instanceof y||i===y?i.token:i}e.push(ot(t,n))}else e.push(ot(r))}return e}class ct{get(t,e=Z){if(e===Z){const e=new Error(`NullInjectorError: No provider for ${P(t)}!`);throw e.name="NullInjectorError",e}return e}}class lt{}class ht{}function ft(t,e){t.forEach(t=>Array.isArray(t)?ft(t,e):e(t))}function dt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function mt(t,e,n){let r=vt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function yt(t,e){const n=vt(t,e);if(n>=0)return t[1|n]}function vt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var bt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),_t=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const wt={},Et=[];let St=0;function Ot(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||_t.Emulated,id:"c",styles:t.styles||Et,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=St++,n.inputs=kt(t.inputs,e),n.outputs=kt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(It):null,n})}function Tt(t){return Pt(t)||function(t){return t[B]||null}(t)}function It(t){return function(t){return t[K]||null}(t)}const xt={};function Ct(t){const e={type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{xt[t.id]=t.type}),e}function At(t,e){return g(()=>{const n=Dt(t,!0);n.declarations=e.declarations||Et,n.imports=e.imports||Et,n.exports=e.exports||Et})}function kt(t,e){if(null==t)return wt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const jt=Ot;function Nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pt(t){return t[z]||null}function Rt(t,e){return t.hasOwnProperty(W)?t[W]:null}function Dt(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${P(t)} does not have '\u0275mod' property.`);return n}function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function Ut(t){return 0!=(8&t.flags)}function Mt(t){return 2==(2&t.flags)}function Ht(t){return 1==(1&t.flags)}function Vt(t){return null!==t.template}function qt(t){return 0!=(512&t[2])}class zt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Bt(){return Kt}function Kt(t){return t.type.prototype.ngOnChanges&&(t.setInput=$t),Gt}function Gt(){const t=Wt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===wt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function $t(t,e,n,r){const i=Wt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:wt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new zt(u&&u.currentValue,e,o===wt),t[r]=e}function Wt(t){return t.__ngSimpleChanges__||null}Bt.ngInherit=!0;let Qt=void 0;function Jt(t){Qt=t}function Xt(t){return!!t.listen}const Zt={createRenderer:(t,e)=>void 0!==Qt?Qt:"undefined"!=typeof document?document:void 0};function Yt(t){for(;Array.isArray(t);)t=t[0];return t}function te(t,e){return Yt(e[t+20])}function ee(t,e){return Yt(e[t.index])}function ne(t,e){return t.data[e+20]}function re(t,e){const n=e[t];return Lt(n)?n:n[0]}function ie(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function se(t){return 4==(4&t[2])}function oe(t){return 128==(128&t[2])}function ae(t,e){return null===t||null==e?null:t[e]}function ue(t){t[18]=0}function ce(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const le={lFrame:Ce(null),bindingsEnabled:!0,checkNoChangesMode:!1};function he(){return le.bindingsEnabled}function fe(){return le.lFrame.lView}function de(){return le.lFrame.tView}function pe(){return le.lFrame.previousOrParentTNode}function ge(t,e){le.lFrame.previousOrParentTNode=t,le.lFrame.isParent=e}function me(){return le.lFrame.isParent}function ye(){le.lFrame.isParent=!1}function ve(){return le.checkNoChangesMode}function be(t){le.checkNoChangesMode=t}function _e(){return le.lFrame.bindingIndex++}function we(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ee(e)}function Ee(t){le.lFrame.currentDirectiveIndex=t}function Se(){return le.lFrame.currentQueryIndex}function Oe(t){le.lFrame.currentQueryIndex=t}function Te(t,e){const n=xe();le.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ie(t,e){const n=xe(),r=t[1];le.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function xe(){const t=le.lFrame,e=null===t?null:t.child;return null===e?Ce(t):e}function Ce(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ae(){const t=le.lFrame;return le.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const ke=Ae;function je(){const t=Ae();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ne(){return le.lFrame.selectedIndex}function Pe(t){le.lFrame.selectedIndex=t}function Re(){const t=le.lFrame;return ne(t.tView,t.selectedIndex)}function De(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Le(t,e,n){Me(t,e,3,n)}function Fe(t,e,n,r){(3&t[2])===n&&Me(t,e,n,r)}function Ue(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Me(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(He(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function He(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Ve{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function qe(t,e,n){const r=Xt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Be(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function ze(t){return 3===t||4===t||6===t}function Be(t){return 64===t.charCodeAt(0)}function Ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ge(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ge(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function $e(t){return-1!==t}function We(t){return 32767&t}function Qe(t){return t>>16}function Je(t,e){let n=Qe(t),r=e;for(;n>0;)r=r[15],n--;return r}function Xe(t){return"string"==typeof t?t:null==t?"":""+t}function Ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Xe(t)}const Ye=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function tn(t){return t instanceof Function?t():t}let en=!0;function nn(t){const e=en;return en=t,e}let rn=0;function sn(t,e){const n=an(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,on(r.data,t),on(e,null),on(r.blueprint,null));const i=un(t,e),s=t.injectorIndex;if($e(i)){const t=We(i),n=Je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function on(t,e){t.push(0,0,0,0,0,0,0,0,e)}function an(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function un(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function cn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=rn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function ln(t,e,n,r=w.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Te(e,t);try{const t=i();if(null!=t||r&w.Optional)return t;throw new Error(`No provider for ${Ze(n)}!`)}finally{ke()}}else if("number"==typeof i){if(-1===i)return new yn(t,e);let s=null,o=an(t,e),a=-1,u=r&w.Host?e[16][6]:null;for((-1===o||r&w.SkipSelf)&&(a=-1===o?un(t,e):e[o+8],mn(r,!1)?(s=e[1],o=We(a),e=Je(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(gn(i,o,t.data)){const t=fn(o,e,n,s,r,u);if(t!==hn)return t}mn(r,e[1].data[o+8]===u)&&gn(i,o,e)?(s=t,o=We(a),e=Je(a,e)):o=-1}}}if(r&w.Optional&&void 0===i&&(i=null),0==(r&(w.Self|w.Host))){const t=e[9],s=it(void 0);try{return t?t.get(n,i,r&w.Optional):at(n,i,r&w.Optional)}finally{it(s)}}if(r&w.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Ze(n)}]`)}const hn={};function fn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=dn(a,o,n,null==r?Mt(a)&&en:r!=o&&3===a.type,i&w.Host&&s===a);return null!==u?pn(e,o,u,a):hn}function dn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Vt(t)&&t.type===n)return u}return null}function pn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ve){const o=i;if(o.resolving)throw new Error("Circular dep for "+Ze(s[n]));const a=nn(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=it(o.injectImpl)),Te(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Kt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&it(u),nn(a),o.resolving=!1,ke()}}return i}function gn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function mn(t,e){return!(t&w.Self||t&w.Host&&e)}class yn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ln(this._tNode,this._lView,t,void 0,e)}}function vn(t){return t.ngDebugContext}function bn(t){return t.ngOriginalError}function _n(t,...e){t.error(...e)}class wn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||_n}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?vn(t)?vn(t):this._findContext(bn(t)):null}_findOriginalError(t){let e=bn(t);for(;e&&bn(e);)e=bn(e);return e}}class En{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Sn extends En{getTypeName(){return"HTML"}}class On extends En{getTypeName(){return"Style"}}class Tn extends En{getTypeName(){return"Script"}}class In extends En{getTypeName(){return"URL"}}class xn extends En{getTypeName(){return"ResourceURL"}}function Cn(t){return t instanceof En?t.changingThisBreaksApplicationSecurity:t}function An(t,e){const n=kn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function kn(t){return t instanceof En&&t.getTypeName()||null}function jn(t){return new Sn(t)}function Nn(t){return new On(t)}function Pn(t){return new Tn(t)}function Rn(t){return new In(t)}function Dn(t){return new xn(t)}let Ln=!0,Fn=!1;function Un(){return Fn=!0,Ln}function Mn(){if(Fn)throw new Error("Cannot enable prod mode after platform setup.");Ln=!1}class Hn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Vn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bn(t){return(t=String(t)).match(qn)||t.match(zn)?t:(Un()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Kn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Gn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const $n=Kn("area,br,col,hr,img,wbr"),Wn=Kn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qn=Kn("rp,rt"),Jn=Gn(Qn,Wn),Xn=Gn($n,Gn(Wn,Kn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Qn,Kn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),Zn=Kn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yn=Kn("srcset"),tr=Gn(Zn,Yn,Kn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),er=Kn("script,style,template");class nr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xn.hasOwnProperty(e))return this.sanitizedSomething=!0,!er.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!tr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Zn[s]&&(o=Bn(o)),Yn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Bn(t.trim())).join(", ")),this.buf.push(" ",e,'="',sr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xn.hasOwnProperty(e)&&!$n.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(sr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(rr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ir,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let or;function ar(t,e){let n=null;try{or=or||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Hn:new Vn(t)}(t);let r=e?String(e):"";n=or.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=or.getInertBodyElement(r)}while(r!==s);const o=new nr,a=o.sanitizeChildren(ur(n)||n);return Un()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=ur(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ur(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var cr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function lr(t){const e=function(){const t=fe();return t&&t[12]}();return e?e.sanitize(cr.URL,t)||"":An(t,"URL")?Cn(t):Bn(Xe(t))}function hr(t,e){t.__ngContext__=e}function fr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function dr(){throw new Error("Cannot mix multi providers and regular providers")}function pr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function gr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==pr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mr(t){return 0===t.type&&"ng-template"!==t.tagName}function yr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function vr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(ze(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!yr(t,u,n)||""===u&&1===e.length){if(br(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!gr(t.attrs,c,n)){if(br(r))return!1;o=!0}continue}const l=_r(8&r?"class":u,i,mr(t),n);if(-1===l){if(br(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==pr(e,c,0)||2&r&&c!==t){if(br(r))return!1;o=!0}}}}else{if(!o&&!br(r)&&!br(u))return!1;if(o&&br(u))continue;o=!1,r=u|1&r}}return br(r)||o}function br(t){return 0==(1&t)}function _r(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wr(t,e,n=!1){for(let r=0;r<e.length;r++)if(vr(t,e[r],n))return!0;return!1}function Er(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Sr(t,e){return t?":not("+e.trim()+")":e}function Or(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||br(o)||(e+=Sr(s,i),i=""),r=o,s=s||!br(r);n++}return""!==i&&(e+=Sr(s,i)),e}const Tr={};function Ir(t){const e=t[3];return Ft(e)?e[3]:e}function xr(t){return Ar(t[13])}function Cr(t){return Ar(t[4])}function Ar(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function kr(t){jr(de(),fe(),Ne()+t,ve())}function jr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Le(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Fe(e,r,0,n)}Pe(n)}function Nr(t,e){return t<<17|e<<2}function Pr(t){return t>>17&32767}function Rr(t){return 2|t}function Dr(t){return(131068&t)>>2}function Lr(t,e){return-131069&t|e<<2}function Fr(t){return 1|t}function Ur(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Oe(i),n.contentQueries(2,e[s],s)}}}function Mr(t,e,n){return Xt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Hr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ue(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Vr(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=pe(),a=me(),u=a?o:o&&o.parent,c=t.data[n]=Xr(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return ge(a,!0),a}function qr(t,e,n){Ie(e,e[6]);try{const r=t.viewQuery;null!==r&&bi(1,r,n);const i=t.template;null!==i&&Kr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ur(t,e),t.staticViewQueries&&bi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)pi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,je()}}function zr(t,e,n,r){const i=e[2];if(256==(256&i))return;Ie(e,e[6]);const s=ve();try{ue(e),le.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Kr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Le(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Fe(e,n,0,null),Ue(e,0)}if(function(t){for(let e=xr(t);null!==e;e=Cr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ce(r,1),n[2]|=1024}}}(e),function(t){for(let e=xr(t);null!==e;e=Cr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];oe(n)&&zr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ur(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Le(e,n)}else{const n=t.contentHooks;null!==n&&Fe(e,n,1),Ue(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Pe(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(we(r,i),o(2,e[i])),i++)}}}finally{Pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)di(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&bi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Le(e,n)}else{const n=t.viewHooks;null!==n&&Fe(e,n,2),Ue(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ce(e[3],-1))}finally{je()}}function Br(t,e,n,r){const i=e[10],s=!ve(),o=se(e);try{s&&!o&&i.begin&&i.begin(),o&&qr(t,e,r),zr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Kr(t,e,n,r,i){const s=Ne();try{Pe(-1),2&r&&e.length>20&&jr(t,e,0,ve()),n(r,i)}finally{Pe(s)}}function Gr(t,e,n){he()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||sn(n,e),hr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Vt(r);s&&ci(e,n,r);const u=pn(e,t,a,n);hr(u,e),null!==o&&li(0,a-i,u,r,0,o),s&&(re(n.index,e)[8]=u)}}(t,e,n,ee(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,u=le.lFrame.currentDirectiveIndex;try{Pe(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ee(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ri(r,i):o&&s.push(null)}}finally{Pe(-1),Ee(u)}}(t,e,n))}function $r(t,e,n=ee){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Wr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Qr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Qr(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function Jr(t,e,n,r){const i=wi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Xr(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Zr(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Yr(t,e,n,r,i,s,o,a){const u=ee(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Si(t,n,c,r,i),Mt(e)&&function(t,e){const n=re(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Xt(s)?s.setProperty(u,r,i):Be(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ti(t,e,n,r){let i=!1;if(he()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];wr(n,o.selectors,!1)&&(i||(i=[]),cn(sn(n,e),t,o.type),Vt(o)?(2&n.flags&&fr(n),si(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,ai(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ii(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ke(n.mergedAttrs,c.hostAttrs),ui(t,e,c),oi(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),ei(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||mr(e)?null:hi(n,i);s.push(c),o=Zr(n,u,o),a=Zr(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),ni(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ke(n.mergedAttrs,n.attrs),i}function ei(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ni(t,e,n){for(let r=0;r<n;r++)e.push(Tr),t.blueprint.push(Tr),t.data.push(null)}function ri(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ii(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function si(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function oi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Vt(e)&&(n[""]=t)}}function ai(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ui(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Rt(n.type)),i=new Ve(r,Vt(n),null);t.blueprint.push(i),e.push(i)}function ci(t,e,n){const r=ee(e,t),i=Wr(n),s=t[10],o=gi(t,Hr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function li(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function hi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function fi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function di(t,e){const n=re(e,t);if(oe(n)){const t=n[1];80&n[2]?zr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=xr(e);null!==r;r=Cr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];zr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=re(n[r],e);oe(i)&&i[5]>0&&t(i)}}(n)}}function pi(t,e){const n=re(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),qr(r,n,n[8])}function gi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function mi(t){for(;t;){t[2]|=64;const e=Ir(t);if(qt(t)&&!e)return t;t=e}return null}function yi(t,e,n){const r=e[10];r.begin&&r.begin();try{zr(t,e,t.template,n)}catch(i){throw Ei(e,i),i}finally{r.end&&r.end()}}function vi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ie(n),i=r[1];Br(i,r,i.template,n)}}(t[8])}function bi(t,e,n){Oe(0),e(t,n)}const _i=(()=>Promise.resolve(null))();function wi(t){return t[7]||(t[7]=[])}function Ei(t,e){const n=t[9],r=n?n.get(wn,null):null;r&&r.handleError(e)}function Si(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Oi(t,e){const n=e[3];return-1===t.index?Ft(n)?n:null:n}function Ti(t,e){const n=Oi(t,e);return n?Fi(e[11],n[7]):null}function Ii(t,e,n,r,i){if(null!=r){let s,o=!1;Ft(r)?s=r:Lt(r)&&(o=!0,r=r[0]);const a=Yt(r);0===t&&null!==n?null==i?Di(e,n,a):Ri(e,n,a,i||null):1===t&&null!==n?Ri(e,n,a,i||null):2===t?function(t,e,n){const r=Fi(t,e);r&&function(t,e,n,r){Xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Yt(n)&&Ii(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];qi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function xi(t,e,n,r){const i=Ti(t.node,e);i&&qi(t,e,e[11],n?1:2,i,r)}function Ci(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&ce(e[3],-1),n.splice(r,1)}function Ai(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Ci(i,r),e>0&&(t[n-1][4]=r[4]);const s=pt(t,10+e);xi(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function ki(t,e){if(!(256&e[2])){const n=e[11];Xt(n)&&n.destroyNode&&qi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ni(t[1],t);for(;e;){let n=null;if(Lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&Ni(e[1],e),e=ji(e,t);null===e&&(e=t),Lt(e)&&Ni(e[1],e),n=e&&e[4]}e=n}}(e)}}function ji(t,e){let n;return Lt(t)&&(n=t[6])&&2===n.type?Oi(n,t):t[3]===e?null:t[3]}function Ni(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ve)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Yt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Xt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ft(e[3])){r!==e[3]&&Ci(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Pi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Ti(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return ee(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==_t.ShadowDom&&n!==_t.Native)return null}return ee(r,n)}function Ri(t,e,n,r){Xt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Di(t,e,n){Xt(t)?t.appendChild(e,n):e.appendChild(n)}function Li(t,e,n,r){null!==r?Ri(t,e,n,r):Di(t,e,n)}function Fi(t,e){return Xt(t)?t.parentNode(e):e.parentNode}function Ui(t,e){if(2===t.type){const n=Oi(t,e);return null===n?null:Hi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?ee(t,e):null}function Mi(t,e,n,r){const i=Pi(t,r,e);if(null!=i){const t=e[11],s=Ui(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Li(t,i,n[e],s);else Li(t,i,n,s)}}function Hi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return ee(n,e);if(0===r)return Hi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ft(t)?Hi(-1,t):Yt(t)}}{const r=e[16],i=r[6],s=Ir(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Vi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&hr(Yt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Vi(t,e,n.child,r,i,s,!1),Ii(e,t,i,a,s)):1===u?zi(t,e,r,n,i,s):Ii(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function qi(t,e,n,r,i,s){Vi(n,r,t.node.child,e,i,s,!1)}function zi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ii(e,t,i,a[u],s);else Vi(t,e,a,o[3],i,s,!0)}function Bi(t,e,n){Xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ki(t,e,n){Xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Gi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(Yt(o)),Ft(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=Ir(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ki(this._lView[1],this._lView)}onDestroy(t){Jr(this._lView[1],this._lView,null,t)}markForCheck(){mi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){be(!0);try{yi(t,e,n)}finally{be(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,qi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class $i extends Gi{constructor(t){super(t),this._view=t}detectChanges(){vi(this._view)}checkNoChanges(){!function(t){be(!0);try{vi(t)}finally{be(!1)}}(this._view)}get context(){return null}}let Wi,Qi,Ji;function Xi(t,e,n){return Wi||(Wi=class extends t{}),new Wi(ee(e,n))}function Zi(t,e,n,r){return Qi||(Qi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Hr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),qr(e,n,t),new Gi(n)}}),0===n.type?new Qi(r,n,Xi(e,n,r)):null}function Yi(t,e,n,r){let i;Ji||(Ji=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Xi(e,this._hostTNode,this._hostView)}get injector(){return new yn(this._hostTNode,this._hostView)}get parentInjector(){const t=un(this._hostTNode,this._hostView),e=Je(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Qe(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return $e(t)&&null!=n?new yn(n,e):new yn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(lt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ji(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],dt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),xi(r,n,!0,Hi(i,this._lContainer)),t.attachToViewContainerRef(this),dt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ai(this._lContainer,e);n&&(pt(this._lContainer[8],e),ki(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ai(this._lContainer,e);return n&&null!=pt(this._lContainer[8],e)?new Gi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Ft(s))i=s;else{let t;if(4===n.type)t=Yt(s);else if(t=r[11].createComment(""),qt(r)){const e=r[11],i=ee(n,r);Ri(e,Fi(e,i),t,function(t,e){return Xt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Mi(r[1],r,t,n);r[n.index]=i=fi(s,r,t,n),gi(r,i)}return new Ji(i,n,r)}function ts(t=!1){return function(t,e,n){if(!n&&Mt(t)){const n=re(t.index,e);return new Gi(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Gi(e[16],e):null}(pe(),fe(),t)}let es=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ns(),t})();const ns=ts,rs=Function,is=new J("Set Injector scope."),ss={},os={},as=[];let us=void 0;function cs(){return void 0===us&&(us=new ct),us}function ls(t,e=null,n=null,r){return new hs(t,n,e||cs(),r)}class hs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ft(e,n=>this.processProvider(n,t,e)),ft([t],t=>this.processInjectorType(t,[],i)),this.records.set(X,ds(void 0,this));const s=this.records.get(is);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:P(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Z,n=w.Default){this.assertNotDestroyed();const r=rt(this);try{if(!(n&w.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof J)&&T(t);e=n&&this.injectableDefInScope(n)?ds(fs(t),ss):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&w.Self?cs():this.parent).get(t,e=n&w.Optional&&e===Z?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(P(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=P(e);if(Array.isArray(e))i=e.map(P).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):P(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Y,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{rt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(P(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=F(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ft(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ft(r,t=>this.processProvider(t,n,r||as))}}this.injectorDefTypes.add(s),this.records.set(s,ds(r.factory,ss));const a=r.providers;if(null!=a&&!o){const e=t;ft(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=gs(t=F(t))?t:F(t&&t.provide);const i=function(t,e,n){return ps(t)?ds(void 0,t.useValue):ds(function(t,e,n){let r=void 0;if(gs(t)){const e=F(t);return Rt(e)||fs(e)}if(ps(t))r=()=>F(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ut(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ot(F(t.useExisting));else{const i=F(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${P(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Rt(i)||fs(i);r=()=>new i(...ut(t.deps))}var i;return r}(t,e,n),ss)}(t,e,n);if(gs(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&dr()}else{let e=this.records.get(r);e?void 0===e.multi&&dr():(e=ds(void 0,ss,!0),e.factory=()=>ut(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===os?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(P(t)):e.value===ss&&(e.value=os,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function fs(t){const e=T(t),n=null!==e?e.factory:Rt(t);if(null!==n)return n;const r=x(t);if(null!==r)return r.factory;if(t instanceof J)throw new Error(`Token ${P(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=gt(e,"?");throw new Error(`Can't resolve all parameters for ${P(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[C]||t[j]||t[k]&&t[k]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ds(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ps(t){return null!==t&&"object"==typeof t&&tt in t}function gs(t){return"function"==typeof t}const ms=function(t,e,n){return function(t,e=null,n=null,r){const i=ls(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let ys=(()=>{class t{static create(t,e){return Array.isArray(t)?ms(t,e,""):ms(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Z,t.NULL=new ct,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>ot(X)}),t.__NG_ELEMENT_ID__=-1,t})();const vs=new J("AnalyzeForEntryComponents");function bs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=R(i,t):2==s&&(r=R(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let _s=null;function ws(){if(!_s){const t=q.Symbol;if(t&&t.iterator)_s=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_s=n)}}}return _s}class Es{constructor(t){this.wrapped=t}static wrap(t){return new Es(t)}static unwrap(t){return Es.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Es}}function Ss(t){return!!Os(t)&&(Array.isArray(t)||!(t instanceof Map)&&ws()in t)}function Os(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ts(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Is(t,e,n,r){const i=fe();return Ts(i,_e(),e)&&(de(),function(t,e,n,r,i,s){const o=ee(t,e),a=e[11];if(null==r)Xt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Xe(r):i(r,t.tagName||"",n);Xt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Re(),i,t,e,n,r)),Is}function xs(t,e,n,r){return Ts(t,_e(),n)?e+Xe(n)+r:Tr}function Cs(t,e,n,r,i,s,o,a){const u=fe(),c=de(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Vr(e,n[6],t,0,o||null,ae(c,a));ti(e,n,l,ae(c,u)),De(e,l);const h=l.tViews=Qr(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Xr(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];ge(h,!1);const f=u[11].createComment("");Mi(c,u,f,h),hr(f,u),gi(u,u[l]=fi(f,u,f,h)),Ht(h)&&Gr(c,u,h),null!=o&&$r(u,h,a)}function As(t,e=w.Default){const n=fe();return null==n?ot(t,e):ln(pe(),n,F(t),e)}function ks(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ze(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(pe(),t)}function js(t,e,n){const r=fe();return Ts(r,_e(),e)&&Yr(de(),Re(),r,t,e,r[11],n,!1),js}function Ns(t,e,n,r,i){const s=i?"class":"style";Si(t,n,e.inputs[s],s,r)}function Ps(t,e,n,r){const i=fe(),s=de(),o=20+t,a=i[11],u=i[o]=Mr(e,a,le.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=ae(a,s),c=Vr(e,n[6],t,3,i,u);return ti(e,n,c,ae(a,o)),null!==c.attrs&&bs(c,c.attrs,!1),null!==c.mergedAttrs&&bs(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];ge(c,!0);const l=c.mergedAttrs;null!==l&&qe(a,u,l);const h=c.classes;null!==h&&Ki(a,u,h);const f=c.styles;null!==f&&Bi(a,u,f),Mi(s,i,u,c),0===le.lFrame.elementDepthCount&&hr(u,i),le.lFrame.elementDepthCount++,Ht(c)&&(Gr(s,i,c),function(t,e,n){if(Ut(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&$r(i,c)}function Rs(){let t=pe();me()?ye():(t=t.parent,ge(t,!1));const e=t;le.lFrame.elementDepthCount--;const n=de();n.firstCreatePass&&(De(n,t),Ut(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ns(n,e,fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ns(n,e,fe(),e.stylesWithoutHost,!1)}function Ds(t,e,n,r){Ps(t,e,n,r),Rs()}function Ls(t){return!!t&&"function"==typeof t.then}function Fs(t){return!!t&&"function"==typeof t.subscribe}function Us(t,e,n=!1,r){const i=fe(),s=de(),o=pe();return function(t,e,n,r,i,s,o=!1,a){const u=Ht(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=wi(e);let h=!0;if(3===r.type){const f=ee(r,e),d=a?a(f):wt,p=d.target||f,g=l.length,m=a?t=>a(Yt(t[r.index])).target:r.index;if(Xt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Hs(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Hs(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Us}function Ms(t,e,n){try{return!1!==e(n)}catch(r){return Ei(t,r),!1}}function Hs(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?re(t.index,e):e;0==(32&e[2])&&mi(o);let a=Ms(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=Ms(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Vs(t=1){return function(t){return(le.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,le.lFrame.contextLView))[8]}(t)}function qs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?wr(t,s,!0):Er(r,s))return i}else n=i}return n}function zs(t){const e=fe()[16][6];if(!e.projection){const n=e.projection=gt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?qs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Bs(t,e=0,n){const r=fe(),i=de(),s=Vr(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),ye(),function(t,e,n){zi(e[11],0,e,n,Pi(t,n,e),Ui(n.parent||e[6],e))}(i,r,s)}function Ks(t,e,n,r,i){const s=fe(),o=xs(s,e,n,r);return o!==Tr&&Yr(de(),Re(),s,t,o,s[11],i,!1),Ks}const Gs=[];function $s(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Pr(s):Dr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];Ws(t[a],e)&&(u=!0,t[a+1]=r?Fr(n):Rr(n)),a=r?Pr(n):Dr(n)}u&&(t[n+1]=r?Rr(s):Fr(s))}function Ws(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&vt(t,e)>=0}function Qs(t,e,n){return Xs(t,e,n,!1),Qs}function Js(t,e){return Xs(t,e,null,!0),Js}function Xs(t,e,n,r){const i=fe(),s=de(),o=function(t){const e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ne()+20],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ys(n=Zs(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Zs(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Dr(r))return t[Pr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Zs(null,t,e,n[1],r),n=Ys(n,e.attrs,r),function(t,e,n,r){t[Pr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ys(r,t[s].hostAttrs,n);return Ys(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Pr(o),u=Dr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||vt(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Pr(t[a+1]);t[r+1]=Nr(e,a),0!==e&&(t[e+1]=Lr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Nr(a,0),0!==a&&(t[a+1]=Lr(t[a+1],r)),a=r;else t[r+1]=Nr(u,0),0===a?a=r:t[u+1]=Lr(t[u+1],r),u=r;l&&(t[r+1]=Rr(t[r+1])),$s(t,c,r,!0),$s(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&vt(s,e)>=0&&(n[r+1]=Fr(n[r+1]))}(e,c,t,r,s),o=Nr(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Tr&&Ts(i,o,e)&&function(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,c=u[a+1];eo(1==(1&c)?to(u,e,n,i,Dr(c),o):void 0)||(eo(s)||function(t){return 2==(2&t)}(c)&&(s=to(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Xt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,te(Ne(),n),i,s))}(s,s.data[Ne()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=P(Cn(t)))),t}(e,n),r,o)}function Zs(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ys(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ys(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mt(t,o,!!n||e[++s]))}return void 0===t?null:t}function to(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Tr&&(l=c?Gs:void 0);let h=c?yt(l,r):u===r?l:void 0;if(s&&!eo(h)&&(h=yt(e,r)),eo(h)&&(a=h,o))return a;const f=t[i+1];i=o?Pr(f):Dr(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=yt(t,r))}return a}function eo(t){return void 0!==t}function no(t,e=""){const n=fe(),r=de(),i=t+20,s=r.firstCreatePass?Vr(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Xt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Mi(r,n,o,s),ge(s,!1)}function ro(t){return io("",t,""),ro}function io(t,e,n){const r=fe(),i=xs(r,t,e,n);return i!==Tr&&function(t,e,n){const r=te(e,t),i=t[11];Xt(i)?i.setValue(r,n):r.textContent=n}(r,Ne(),i),io}function so(t,e,n){const r=fe();return Ts(r,_e(),e)&&Yr(de(),Re(),r,t,e,r[11],n,!0),so}function oo(t,e){const n=ie(t)[1],r=n.data.length-1;De(n,{directiveStart:r,directiveEnd:r+1})}class ao{}class uo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${P(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let co=(()=>{class t{}return t.NULL=new uo,t})(),lo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ho(t),t})();const ho=function(t){return Xi(t,pe(),fe())};class fo{}var po=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let go=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>mo(),t})();const mo=function(){const t=fe(),e=re(pe().index,t);return function(t){const e=t[11];if(Xt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(e)?e:t)};let yo=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class vo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const bo=new vo("10.0.14");class _o{constructor(){}supports(t){return Ss(t)}create(t){return new Eo(t)}}const wo=(t,e)=>e;class Eo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Io(n,r,i)?e:n,o=Io(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ss(t))throw new Error(`Error trying to diff '${P(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ws()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new So(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new To),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new To),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class So{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Oo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class To{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Oo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Io(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xo{constructor(){}supports(t){return t instanceof Map||Os(t)}create(){return new Co}}class Co{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Os(t)))throw new Error(`Error trying to diff '${P(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ao(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ao{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ko=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new _o])}),t})(),jo=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new xo])}),t})();const No=[new xo],Po=new ko([new _o]),Ro=new jo(No);let Do=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Lo(t,lo),t})();const Lo=function(t,e){return Zi(t,e,pe(),fe())};let Fo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Uo(t,lo),t})();const Uo=function(t,e){return Yi(t,e,pe(),fe())},Mo={};class Ho extends co{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Pt(t);return new zo(e,this.ngModule)}}function Vo(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const qo=new J("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ye});class zo extends ao{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Or).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Vo(this.componentDef.inputs)}get outputs(){return Vo(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Mo,i);return s!==Mo||r===Mo?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(fo,Zt),o=i.get(yo,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Xt(t))return t.selectRootElement(e,n===_t.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Mr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ye,clean:_i,playerHandler:null,flags:0},f=Qr(0,-1,null,1,0,null,null,null,null,null),d=Hr(null,f,h,l,null,null,s,a,o,i);let p,g;Ie(d,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Vr(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(bs(a,u,!0),null!==t&&(qe(i,t,u),null!==a.classes&&Ki(i,t,a.classes),null!==a.styles&&Bi(i,t,a.styles)));const c=r.createRenderer(t,e),l=Hr(n,Wr(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return o.firstCreatePass&&(cn(sn(a,n),o,e.type),si(o,a),ai(a,n.length,1)),gi(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)qe(a,c,["ng-version",bo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!br(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&qe(a,c,t),e&&e.length>0&&Ki(a,c,e.join(" "))}if(g=ne(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=pe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ii(t,r,1),ui(t,e,n));const i=pn(e,t,e.length-1,r);hr(i,e);const s=ee(r,e);return s&&hr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=pe();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Pe(a.index-20);const t=n[1];ei(t,e),ni(t,n,e.hostVars),ri(e,o)}return o}(t,this.componentDef,d,h,[oo]),qr(f,d,null)}finally{je()}const m=new Bo(this.componentType,p,Xi(lo,g,d),d,g);return f.node.child=g,m}}class Bo extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new $i(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=Xr(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new yn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ko=void 0;var Go=["en",[["a","p"],["AM","PM"],Ko],[["AM","PM"],Ko,Ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ko,"{1} 'at' {0}",Ko],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let $o={};function Wo(t,e,n){"string"!=typeof e&&(n=e,e=t[Yo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),$o[e]=t,n&&($o[e][Yo.ExtraData]=n)}function Qo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Zo(e);if(n)return n;const r=e.split("-")[0];if(n=Zo(r),n)return n;if("en"===r)return Go;throw new Error(`Missing locale data for the locale "${t}".`)}function Jo(t){return Qo(t)[Yo.CurrencyCode]||null}function Xo(t){return Qo(t)[Yo.PluralCase]}function Zo(t){return t in $o||($o[t]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[t]),$o[t]}var Yo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let ta="en-US";function ea(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ta=t.toLowerCase().replace(/_/g,"-"))}const na=new Map;class ra extends lt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ho(this);const n=Dt(t),r=t[$]||null;r&&ea(r),this._bootstrapComponents=tn(n.bootstrap),this._r3Injector=ls(t,e,[{provide:lt,useValue:this},{provide:co,useValue:this.componentFactoryResolver}],P(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ys.THROW_IF_NOT_FOUND,n=w.Default){return t===ys||t===lt||t===X?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ia extends ht{constructor(t){super(),this.moduleType=t,null!==Dt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${P(e)} vs ${P(e.name)}`)})(t,na.get(t),e),na.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ra(this.moduleType,t)}}function sa(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=function(t,e,n,r){const i=Ts(t,e,n);return Ts(t,e+1,r)||i}(t,e,n,r);return Ts(t,e+2,i)||s}(t,u,i,s,o)?function(t,e,n){return t[e]=n}(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):function(t,e){const n=t[e];return n===Tr?void 0:n}(t,u+3)}function oa(t,e){const n=de();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Rt(r.type)),o=it(As),a=nn(!1),u=s();return nn(a),it(o),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,fe(),t,u),u}function aa(t,e,n,r,i){const s=fe(),o=function(t,e){return t[e+20]}(s,t);return function(t,e){return Es.isWrapped(e)&&(e=Es.unwrap(e),t[le.lFrame.bindingIndex]=Tr),e}(s,function(t,e){return t[1].data[e+20].pure}(s,t)?sa(s,function(){const t=le.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,o.transform,n,r,i,o):o.transform(n,r,i))}const ua=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function ca(){return this._results[ws()]()}class la{constructor(){this.dirty=!0,this._results=[],this.changes=new ua,this.length=0;const t=ws(),e=la.prototype;e[t]||(e[t]=ca)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ha{constructor(t){this.queryList=t,this.matches=null}clone(){return new ha(this.queryList)}setDirty(){this.queryList.setDirty()}}class fa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new fa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ea(t,e).matches&&this.queries[e].setDirty()}}class da{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class pa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new pa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ga{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ga(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,ma(e,i)),this.matchTNodeWithReadOption(t,e,dn(e,t,i,!1,!1))}else n===Do?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,dn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===lo||r===Fo||r===Do&&0===e.type)this.addMatch(e.index,-2);else{const n=dn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ma(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ya(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Xi(lo,t,e):0===t.type?Zi(Do,lo,t,e):null}(e,t):-2===n?function(t,e,n){return n===lo?Xi(lo,e,t):n===Do?Zi(Do,lo,e,t):n===Fo?Yi(Fo,lo,e,t):void 0}(t,e,r):pn(t,t[1],n,e)}function va(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:ya(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function ba(t){const e=fe(),n=de(),r=Se();Oe(r+1);const i=Ea(n,r);if(t.dirty&&se(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=va(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):va(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function _a(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new pa),t.queries.track(new ga(e,n))}(t,new da(n,r,!1,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new la;Jr(t,e,n,n.destroy),null===e[19]&&(e[19]=new fa),e[19].queries.push(new ha(n))}(t,e)}(de(),fe(),e,n,r,0,pe(),t)}function wa(){return t=fe(),e=Se(),t[19].queries[e].queryList;var t,e}function Ea(t,e){return t.queries.getByIndex(e)}function Sa(t=w.Default){const e=ts(!0);if(null!=e||t&w.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Oa=new J("Application Initializer");let Ta=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ls(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ot(Oa,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Ia=new J("AppId"),xa={provide:Ia,useFactory:function(){return`${Ca()}${Ca()}${Ca()}`},deps:[]};function Ca(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Aa=new J("Platform Initializer"),ka=new J("Platform ID"),ja=new J("appBootstrapListener");let Na=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Pa=new J("LocaleId"),Ra=new J("DefaultCurrencyCode");class Da{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const La=function(t){return new ia(t)},Fa=La,Ua=function(t){return Promise.resolve(La(t))},Ma=function(t){const e=La(t),n=tn(Dt(t).declarations).reduce((t,e)=>{const n=Pt(e);return n&&t.push(new zo(n)),t},[]);return new Da(e,n)},Ha=Ma,Va=function(t){return Promise.resolve(Ma(t))};let qa=(()=>{class t{constructor(){this.compileModuleSync=Fa,this.compileModuleAsync=Ua,this.compileModuleAndAllComponentsSync=Ha,this.compileModuleAndAllComponentsAsync=Va}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const za=(()=>Promise.resolve(0))();function Ba(t){"undefined"==typeof Zone?za.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ka{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ua(!1),this.onMicrotaskEmpty=new ua(!1),this.onStable=new ua(!1),this.onError=new ua(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=q.requestAnimationFrame,e=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(q,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qa(t),Wa(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qa(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ja(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Xa(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Ja(t),e.invoke(r,i,s,o,a)}finally{Xa(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Qa(t),Wa(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ka.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ka.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,$a,Ga,Ga);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ga(){}const $a={};function Wa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qa(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Ja(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xa(t){t._nesting--,Wa(t)}class Za{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ua,this.onMicrotaskEmpty=new ua,this.onStable=new ua,this.onError=new ua}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ya=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ka.assertNotInAngularZone(),Ba(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ba(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ot(Ka))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),tu=(()=>{class t{constructor(){this._applications=new Map,iu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return iu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class eu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function nu(t){iu=t}let ru,iu=new eu;const su=new J("AllowMultipleToken");class ou{constructor(t,e){this.name=t,this.token=e}}function au(t,e,n=[]){const r="Platform: "+e,i=new J(r);return(e=[])=>{let s=uu();if(!s||s.injector.get(su,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:is,useValue:"platform"});!function(t){if(ru&&!ru.destroyed&&!ru.injector.get(su,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ru=t.get(cu);const e=t.get(Aa,null);e&&e.forEach(t=>t())}(ys.create({providers:t,name:r}))}return function(t){const e=uu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function uu(){return ru&&!ru.destroyed?ru:null}let cu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Za:("zone.js"===t?void 0:t)||new Ka({enableLongStackTrace:Un(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ka,useValue:n}];return n.run(()=>{const e=ys.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(wn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>fu(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Ls(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Ta);return t.runInitializers(),t.donePromise.then(()=>(ea(i.injector.get(Pa,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=lu({},e);return function(t,e,n){const r=new ia(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(hu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${P(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ot(ys))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function lu(t,e){return Array.isArray(e)?e.reduce(lu,t):Object.assign(Object.assign({},t),e)}let hu=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Un(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ka.assertNotInAngularZone(),Ba(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ka.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ao?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(lt),i=n.create(ys.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Ya,null);return s&&i.injector.get(tu).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Un()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;fu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ja,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),fu(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ot(Ka),ot(Na),ot(ys),ot(wn),ot(co),ot(Ta))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function fu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class du{}class pu{}const gu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let mu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||gu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>yu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>yu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ot(qa),ot(pu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function yu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const vu=function(t){return null},bu=au(null,"core",[{provide:ka,useValue:"unknown"},{provide:cu,deps:[ys]},{provide:tu,deps:[]},{provide:Na,deps:[]}]),_u=[{provide:hu,useClass:hu,deps:[Ka,Na,ys,wn,co,Ta]},{provide:qo,deps:[Ka],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ta,useClass:Ta,deps:[[new v,Oa]]},{provide:qa,useClass:qa,deps:[]},xa,{provide:ko,useFactory:function(){return Po},deps:[]},{provide:jo,useFactory:function(){return Ro},deps:[]},{provide:Pa,useFactory:function(t){return ea(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new y(Pa),new v,new _]]},{provide:Ra,useValue:"USD"}];let wu=(()=>{class t{constructor(t){}}return t.\u0275mod=Ct({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(ot(hu))},providers:_u}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return w})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return a})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"m",(function(){return u})),n.d(e,"n",(function(){return c})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return g}));var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?v(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function v(t,e){return t.replace(b,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var b=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return O})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.T)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let I=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Db({type:t}),t.\u0275inj=u.Cb({factory:function(e){return new(e||t)(u.Kb(u.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.g)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=Object(s.h)(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(m){u={error:m}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.14",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyCJ93RlP121bcUHuAnmGiOUTUhGrL4QqZs",authDomain:"portfolio-daac.firebaseapp.com",projectId:"portfolio-daac",storageBucket:"portfolio-daac.appspot.com",messagingSenderId:"613550579273",appId:"1:613550579273:web:a83a4df58689a0836a6998",measurementId:"G-86FSQK3HTS"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Bb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Kb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(a))},t.\u0275prov=Object(r.Bb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Kb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Bb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Kb)(a).location;return new _(Object(r.Kb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(u),r.Kb(b,8))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(u),r.Kb(b,8))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(y),r.Kb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Bb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Kb)(y),Object(r.Kb)(u))}function O(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const I=r.kb;class x{}let C=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(I(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.u))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new j(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new j(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Fb(r.P),r.Fb(r.K),r.Fb(r.s))},t.\u0275dir=r.Ab({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class j{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Fb(r.P),r.Fb(r.K))},t.\u0275dir=r.Ab({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.sb)(e)}'.`)}let D=(()=>{class t{}return t.\u0275mod=r.Db({type:t}),t.\u0275inj=r.Cb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:C}]}),t})(),L=(()=>{class t{}return t.\u0275prov=Object(r.Bb)({token:t,providedIn:"root",factory:()=>new F(Object(r.Kb)(a),window,Object(r.Kb)(r.m))}),t})();class F{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function U(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class M extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new M,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=V||(V=document.querySelector("base"),V)?V.getAttribute("href"):null;return null==e?null:(n=e,H||(H=document.createElement("a")),H.setAttribute("href",n),"/"===H.pathname.charAt(0)?H.pathname:"/"+H.pathname);var n}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let H,V=null;const q=new r.q("TRANSITION_ID"),z=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[q,a,r.r],multi:!0}];class B{static init(){Object(r.V)(new B)}addToWindow(t){r.mb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.mb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.mb.getAllAngularRootElements=()=>t.getAllRootElements(),r.mb.frameworkStabilizers||(r.mb.frameworkStabilizers=[]),r.mb.frameworkStabilizers.push(t=>{const e=r.mb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const K=new r.q("EventManagerPlugins");let G=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(K),r.Kb(r.z))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();class ${constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let W=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})(),Q=(()=>{class t extends W{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(a))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},X=/%COMP%/g;function Z(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Z(t,i,n):(i=i.replace(X,t),n.push(i))}return n}function Y(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let tt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new et(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new nt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new rt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Z(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(G),r.Kb(Q),r.Kb(r.c))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();class et{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(J[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=J[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=J[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Y(n)):this.eventManager.addEventListener(t,e,Y(n))}}class nt extends et{constructor(t,e,n,r){super(t),this.component=n;const i=Z(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(X,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(X,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class rt extends et{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Z(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let it=(()=>{class t extends ${constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(a))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},at={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ut={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ct=(()=>{class t extends ${constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(st.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&at.hasOwnProperty(e)&&(e=at[e]))}return ot[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),st.forEach(r=>{r!=n&&(0,ut[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(a))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();const lt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){M.makeCurrent(),B.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.rb)(document),document},deps:[]}],ht=Object(r.R)(r.U,"browser",lt),ft=[[],{provide:r.X,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:K,useClass:it,multi:!0,deps:[a,r.z,r.B]},{provide:K,useClass:ct,multi:!0,deps:[a]},[],{provide:tt,useClass:tt,deps:[G,Q,r.c]},{provide:r.E,useExisting:tt},{provide:W,useExisting:Q},{provide:Q,useClass:Q,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:G,useClass:G,deps:[K,r.z]},[]];let dt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:q,useExisting:r.c},z]}}}return t.\u0275mod=r.Db({type:t}),t.\u0275inj=r.Cb({factory:function(e){return new(e||t)(r.Kb(t,12))},providers:ft,imports:[D,r.f]}),t})();"undefined"!=typeof window&&window;class pt{}function gt(t,e){return{type:7,name:t,definitions:e,options:{}}}function mt(t,e=null){return{type:4,styles:e,timings:t}}function yt(t,e=null){return{type:2,steps:t,options:e}}function vt(t){return{type:6,styles:t,offset:null}}function bt(t,e,n){return{type:0,name:t,styles:e,options:n}}function _t(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function wt(t){Promise.resolve(null).then(t)}class Et{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class St{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?wt(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ot(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Tt(t){switch(t.length){case 0:return new Et;case 1:return t[0];default:return new St(t)}}function It(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function xt(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ct(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ct(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ct(n,"destroy",t)))}}function Ct(t,e,n){const r=n.totalTime,i=At(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function At(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function kt(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function jt(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Nt=(t,e)=>!1,Pt=(t,e)=>!1,Rt=(t,e,n)=>[];const Dt=Ot();(Dt||"undefined"!=typeof Element)&&(Nt=(t,e)=>t.contains(e),Pt=(()=>{if(Dt||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Pt}})(),Rt=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Lt=null,Ft=!1;function Ut(t){Lt||(Lt=("undefined"!=typeof document?document.body:null)||{},Ft=!!Lt.style&&"WebkitAppearance"in Lt.style);let e=!0;return Lt.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Lt.style,!e&&Ft)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Lt.style),e}const Mt=Pt,Ht=Nt,Vt=Rt;function qt(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let zt=(()=>{class t{validateStyleProperty(t){return Ut(t)}matchesElement(t,e){return Mt(t,e)}containsElement(t,e){return Ht(t,e)}query(t,e,n){return Vt(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Et(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})(),Bt=(()=>{class t{}return t.NOOP=new zt,t})();function Kt(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Gt(parseFloat(e[1]),e[2])}function Gt(t,e){switch(e){case"s":return 1e3*t;default:return t}}function $t(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Gt(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Gt(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Wt(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Qt(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Wt(t,n);return n}function Jt(t,e,n){return n?e+":"+n+";":""}function Xt(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Jt(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Jt(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Zt(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=oe(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Ot()&&Xt(t))}function Yt(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=oe(e);t.style[n]=""}),Ot()&&Xt(t))}function te(t){return Array.isArray(t)?1==t.length?t[0]:yt(t):t}const ee=new RegExp("{{\\s*(.+?)\\s*}}","g");function ne(t){let e=[];if("string"==typeof t){let n;for(;n=ee.exec(t);)e.push(n[1]);ee.lastIndex=0}return e}function re(t,e,n){const r=t.toString(),i=r.replace(ee,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function ie(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const se=/-+([a-z0-9])/g;function oe(t){return t.replace(se,(...t)=>t[1].toUpperCase())}function ae(t,e){return 0===t||0===e}function ue(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=le(t,e)}))}}return e}function ce(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function le(t,e){return window.getComputedStyle(t)[e]}function he(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(pe(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(pe(o,i))}(t,n,e)):n.push(t),n}const fe=new Set(["true","1"]),de=new Set(["false","0"]);function pe(t,e){const n=fe.has(t)||de.has(t),r=fe.has(e)||de.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?fe.has(t):de.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?fe.has(e):de.has(e)),o&&a}}const ge=new RegExp("s*:selfs*,?","g");function me(t,e,n){return new ye(t).build(e,n)}class ye{constructor(t){this._driver=t}build(t,e){const n=new ve(e);return this._resetContextStyleTimingState(n),ce(this,te(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(be(t)){const e=t;Object.keys(e).forEach(t=>{ne(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=ie(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=ce(this,te(t.animation),e);return{type:1,matchers:he(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:_e(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>ce(this,t,e)),options:_e(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=ce(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:_e(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return we($t(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=we(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||$t(r,e),we(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:vt({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=vt(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(be(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=ne(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(be(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(be(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:ce(this,te(t.animation),e),options:_e(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:_e(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:_e(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(ge,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,kt(e.collectedStyles,e.currentQuerySelector,{});const o=ce(this,te(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:_e(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:$t(t.timings,e.errors,!0);return{type:12,animation:ce(this,te(t.animation),e),timings:n,options:null}}}class ve{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function be(t){return!Array.isArray(t)&&"object"==typeof t}function _e(t){var e;return t?(t=Wt(t)).params&&(t.params=(e=t.params)?Wt(e):null):t={},t}function we(t,e,n){return{duration:t,delay:e,easing:n}}function Ee(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Se{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Oe=new RegExp(":enter","g"),Te=new RegExp(":leave","g");function Ie(t,e,n,r,i,s={},o={},a,u,c=[]){return(new xe).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class xe{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new Se;const l=new Ae(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),ce(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Ee(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Kt(n.duration):null,s=null!=n.delay?Kt(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ce(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ce);const t=Kt(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>ce(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Kt(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),ce(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return $t(e.params?re(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Kt(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ce);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),ce(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;ce(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Ce={};class Ae{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ce,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ke(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Kt(n.duration)),null!=n.delay&&(r.delay=Kt(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=re(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Ae(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Ce,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new je(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Oe,"."+this._enterClassName)).replace(Te,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ke{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ke(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):Qt(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=re(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Qt(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?ie(t.values()):[],s=e.size?ie(e.values()):[];if(n){const t=r[0],e=Wt(t);t.offset=0,e.offset=1,r=[t,e]}return Ee(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class je extends ke{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Qt(t[0],!1);a.offset=0,i.push(a);const u=Qt(t[0],!1);u.offset=Ne(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Qt(t[r],!1);o.offset=Ne((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Ee(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Ne(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Pe{}class Re extends Pe{normalizePropertyName(t,e){return oe(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(De[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const De=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Le(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Fe={};class Ue{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Fe,f=this.buildStyles(n,o&&o.params||Fe,l),d=a&&a.params||Fe,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:Ie(t,e,this.ast.animation,i,s,f,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Le(e,this._triggerName,n,r,v,f,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=kt(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=kt(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=ie(g.values());return Le(e,this._triggerName,n,r,v,f,p,_,E,m,y,w)}}class Me{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Wt(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=re(s,r,e)),n[t]=s})}}),n}}class He{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Me(t.style,t.options&&t.options.params||{})}),Ve(this.states,"true","1"),Ve(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Ue(t,e,this.states))}),this.fallbackTransition=new Ue(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Ve(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const qe=new Se;class ze{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=me(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=It(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Ie(this._driver,e,i,"ng-enter","ng-leave",{},{},n,qe,r),s.forEach(t=>{const e=kt(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Tt(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=At(e,"","","");return xt(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Be=[],Ke={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ge={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class $e{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Wt(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const We=new $e("void");class Qe{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,nn(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=kt(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=kt(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(nn(t,"ng-trigger"),nn(t,"ng-trigger-"+e),a[e]=We),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Xe(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(nn(t,"ng-trigger"),nn(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new $e(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=We),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Yt(t,n),Zt(t,r)})}return}const c=kt(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(nn(t,"ng-animate-queued"),s.onStart(()=>{rn(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Tt(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||We,o=new $e("void"),a=new Xe(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Ke||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){nn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=At(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,xt(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Je{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Qe(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Ze(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Ze(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),nn(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),rn(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Ze(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Ze(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Tt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Ke,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)nn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Tt(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Se,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=en(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n="ng-enter"+p++;d.set(e,n),t.forEach(t=>nn(t,n))});const g=[],m=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=en(h,Array.from(m));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>nn(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>rn(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>rn(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>Yt(i,p.fromStyles)),e.onDestroy(()=>Zt(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Yt(i,p.fromStyles)),e.onDestroy(()=>Zt(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>kt(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{kt(E,e,[]).push(t),t.destroy()})});const O=g.filter(t=>on(t,a,u)),T=new Map;tn(T,this.driver,y,u,"*").forEach(t=>{on(t,a,u)&&O.push(t)});const I=new Map;f.forEach((t,e)=>{tn(I,this.driver,new Set(t),a,"!")}),O.forEach(t=>{const e=T.get(t),n=I.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const x=[],C=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Zt(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,I,T);if(s.setRealPlayer(n),t===A)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Tt(e)),r.push(s)}}else Yt(e,o.fromStyles),s.onDestroy(()=>Zt(e,o.toStyles)),C.push(s),c.has(e)&&r.push(s)}),C.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Tt(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<g.length;k++){const t=g[k],e=t.__ng_removed;if(rn(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?sn(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=kt(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Yt(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Et(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof St?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Be).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=It(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new Xe(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{kt(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>nn(t,"ng-animating"));const f=Tt(h);return f.onDestroy(()=>{c.forEach(t=>rn(t,"ng-animating")),Zt(a,e.toStyles)}),l.forEach(t=>{kt(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Et(t.duration,t.delay)}}class Xe{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Et,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>xt(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){kt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ze(t){return t&&1===t.nodeType}function Ye(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function tn(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Ye(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ge,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Ye(t,s[a++])),o}function en(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function nn(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function rn(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function sn(t,e,n){Tt(n).onDone(()=>t.processLeaveNode(e))}function on(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class an{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Je(t,e,n),this._timelineEngine=new ze(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=me(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new He(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=jt(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=jt(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function un(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ln(e[0]),e.length>1&&(r=ln(e[e.length-1]))):e&&(n=ln(e)),n||r?new cn(t,n,r):null}let cn=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Zt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zt(this._element,this._initialStyles),this._endStyles&&(Zt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Yt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yt(this._element,this._endStyles),this._endStyles=null),Zt(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ln(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];hn(i)&&(e=e||{},e[i]=t[i])}return e}function hn(t){return"display"===t||"position"===t}class fn{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=vn(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),yn(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),mn(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){dn(this._element,this._name,"paused")}resume(){dn(this._element,this._name,"running")}setPosition(t){const e=pn(this._element,this._name);this._position=t*this._duration,yn(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),mn(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=vn(t,"").split(","),r=gn(n,e);r>=0&&(n.splice(r,1),yn(t,"",n.join(",")))}(this._element,this._name))}}function dn(t,e,n){yn(t,"PlayState",n,pn(t,e))}function pn(t,e){const n=vn(t,"");return n.indexOf(",")>0?gn(n.split(","),e):gn([n],e)}function gn(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function mn(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function yn(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function vn(t,e){return t.style["animation"+e]}class bn{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new fn(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:le(this.element,n))})}this.currentSnapshot=t}}class _n extends Et{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=qt(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class wn{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Ut(t)}matchesElement(t,e){return Mt(t,e)}containsElement(t,e){return Ht(t,e)}query(t,e,n){return Vt(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>qt(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof bn),u={};ae(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=ue(t,e,u));if(0==n)return new _n(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=un(t,e),d=new bn(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class En{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:le(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Sn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(On().toString()),this._cssKeyframesDriver=new wn}validateStyleProperty(t){return Ut(t)}matchesElement(t,e){return Mt(t,e)}containsElement(t,e){return Ht(t,e)}query(t,e,n){return Vt(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof En);ae(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=un(t,e=ue(t,e=e.map(t=>Qt(t,!1)),u));return new En(t,e,a,l)}}function On(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Tn=(()=>{class t extends pt{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?yt(t):t;return Cn(this._renderer,null,e,"register",[n]),new In(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(a))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();class In extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new xn(this._id,t,e||{},this._renderer)}}class xn{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Cn(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Cn(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let An=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new kn("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new jn(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(an),r.Kb(r.z))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();class kn{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class jn extends kn{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Nn=(()=>{class t extends an{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(a),r.Kb(Bt),r.Kb(Pe))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();const Pn=[{provide:Bt,useFactory:function(){return"function"==typeof On()?new Sn:new wn}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:pt,useClass:Tn},{provide:Pe,useFactory:function(){return new Re}},{provide:an,useClass:Nn},{provide:r.E,useFactory:function(t,e,n){return new An(t,e,n)},deps:[tt,an,r.z]}];let Rn=(()=>{class t{}return t.\u0275mod=r.Db({type:t}),t.\u0275inj=r.Cb({factory:function(e){return new(e||t)},providers:Pn,imports:[dt]}),t})();var Dn=n("spgP"),Ln=n("HDdC"),Fn=n("LRne"),Un=n("Cfvw"),Mn=n("7o/Q"),Hn=n("D0XW");class Vn{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new qn(t,this.dueTime,this.scheduler))}}class qn extends Mn.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(zn,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function zn(t){t.debouncedNext()}var Bn=n("lJxs"),Kn=n("pxpQ"),Gn=n("l7GE"),$n=n("51Dv"),Wn=n("ZUHj");function Qn(t,e){return"function"==typeof e?n=>n.pipe(Qn((n,r)=>Object(Un.a)(t(n,r)).pipe(Object(Bn.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Jn(t))}class Jn{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xn(t,this.project))}}class Xn extends Gn.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new $n.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(Wn.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}var Zn=n("zIRd"),Yn=n("os0x"),tr=n("qOnz"),er=n("/6Yf"),nr=function(t){function e(n,r){var i=t.call(this,rr(n),"Firebase Storage: "+r+" ("+rr(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Yn.c)(e,t),e.prototype.codeEquals=function(t){return rr(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(tr.c);function rr(t){return"storage/"+t}function ir(){return new nr("unknown","An unknown error occurred, please check the error payload for server response.")}function sr(){return new nr("canceled","User canceled the upload/download.")}function or(){return new nr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ar(t){return new nr("invalid-argument",t)}function ur(){return new nr("app-deleted","The Firebase app was deleted.")}function cr(t){return new nr("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function lr(t,e){return new nr("invalid-format","String does not match format '"+t+"': "+e)}function hr(t){throw new nr("internal-error","Internal error: "+t)}var fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},dr=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function pr(t,e){switch(t){case fr.RAW:return new dr(gr(e));case fr.BASE64:case fr.BASE64URL:return new dr(mr(t,e));case fr.DATA_URL:return new dr((n=new yr(e)).base64?mr(fr.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Yv){throw lr(fr.DATA_URL,"Malformed data URL.")}return gr(e)}(n.rest),function(t){return new yr(t).contentType}(e))}var n;throw ir()}function gr(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function mr(t,e){switch(t){case fr.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw lr(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case fr.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw lr(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(Yv){throw lr(t,"Invalid character found")}for(var a=new Uint8Array(o.length),u=0;u<o.length;u++)a[u]=o.charCodeAt(u);return a}var yr=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw lr(fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),vr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function br(t){switch(t){case"running":case"pausing":case"canceling":return vr.RUNNING;case"paused":return vr.PAUSED;case"success":return vr.SUCCESS;case"canceled":return vr.CANCELED;case"error":default:return vr.ERROR}}var _r=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),wr=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=_r.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=_r.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=_r.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw hr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw hr("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw hr("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Yv){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw hr("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Er=function(){function t(){}return t.prototype.createXhrIo=function(){return new wr},t}();function Sr(t){return"string"==typeof t||t instanceof String}function Or(t){return Tr()&&t instanceof Blob}function Tr(){return"undefined"!=typeof Blob}function Ir(t,e,n,r){if(r<e)throw new nr("invalid-argument","Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new nr("invalid-argument","Invalid value for '"+t+"'. Expected "+n+" or less.")}function xr(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Cr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=xr();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Tr())return new Blob(t);throw new nr("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ar=function(){function t(t,e){var n=0,r="";Or(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Or(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Tr()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Cr.apply(null,r))}var i=e.map((function(t){return Sr(t)?pr(fr.RAW,t).data:t.data_})),s=0;i.forEach((function(t){s+=t.byteLength}));var o=new Uint8Array(s),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]})),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),kr=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(Yv){return new t(e,"")}if(""===n.path)return n;throw new nr("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var s="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<o.length;a++){var u=o[a],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new nr("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function jr(t){var e,n;try{e=JSON.parse(t)}catch(Yv){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function Nr(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function Pr(t){return"https://firebasestorage.googleapis.com/v0"+t}function Rr(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Dr(t,e){return e}var Lr=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Dr}}(),Fr=null;function Ur(){if(Fr)return Fr;var t=[];t.push(new Lr("bucket")),t.push(new Lr("generation")),t.push(new Lr("metageneration")),t.push(new Lr("name","fullPath",!0));var e=new Lr("name");e.xform=function(t,e){return function(t){return!Sr(t)||t.length<2?t:Nr(t)}(e)},t.push(e);var n=new Lr("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Lr("timeCreated")),t.push(new Lr("updated")),t.push(new Lr("md5Hash",null,!0)),t.push(new Lr("cacheControl",null,!0)),t.push(new Lr("contentDisposition",null,!0)),t.push(new Lr("contentEncoding",null,!0)),t.push(new Lr("contentLanguage",null,!0)),t.push(new Lr("contentType",null,!0)),t.push(new Lr("metadata","customMetadata",!0)),Fr=t}function Mr(t,e,n){var r=jr(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new kr(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Hr(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var Vr=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function qr(t){if(!t)throw ir()}function zr(t,e){return function(n,r){var i=Mr(t,r,e);return qr(null!==i),i}}function Br(t){return function(e,n){var r;return(r=401===e.getStatus()?new nr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new nr("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new nr("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Kr(t){var e=Br(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new nr("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Gr(t,e,n){var r=Pr(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new Vr(r,"GET",zr(t,n),i);return s.errorHandler=Kr(e),s}function $r(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Wr=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Qr(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Yv){qr(!1)}return qr(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Jr=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),Xr=function(){return function(t,e,n,r,i,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=s}}();function Zr(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var Yr=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Ur(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then((function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=$r(e,r,i),a={name:o.fullPath},u=Pr(s),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Hr(o,n),h=new Vr(u,"POST",(function(t){var e;Qr(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Yv){qr(!1)}return qr(Sr(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=Br(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n){var r=function(t,e,n,r){var i=new Vr(n,"POST",(function(t){var e=Qr(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Yv){qr(!1)}n||qr(!1);var i=Number(n);return qr(!isNaN(i)),new Wr(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=Br(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new Wr(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var u=new Wr(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new nr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw or();var p=new Vr(n,"POST",(function(t,n){var i,o=Qr(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===o?zr(e,s)(t,n):null,new Wr(a,c,"final"===o,i)}),e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=Br(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Yv){return t._error=Yv,void t._transition("error")}var o=t._ref.storage.makeRequest(s,i);t._request=o,o.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e){var n=Gr(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var u=$r(e,r,i),c=Hr(u,n),l=Ar.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw or();var h={name:u.fullPath},f=Pr(s),d=t.maxUploadRetryTime,p=new Vr(f,"POST",zr(t,n),d);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=Br(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=sr(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=br(this._state);return new Xr(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new Jr(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(br(this._state)){case vr.SUCCESS:Zr(this._resolve.bind(null,this.snapshot))();break;case vr.CANCELED:case vr.ERROR:Zr(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(br(this._state)){case vr.RUNNING:case vr.PAUSED:t.next&&Zr(t.next.bind(t,this.snapshot))();break;case vr.SUCCESS:t.complete&&Zr(t.complete.bind(t))();break;case vr.CANCELED:case vr.ERROR:t.error&&Zr(t.error.bind(t,this._error))();break;default:t.error&&Zr(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),ti=function(){function t(t,e){this._service=t,this._location=e instanceof kr?e:kr.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new kr(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Nr(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new kr(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw cr(t)},t}();function ei(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Ir("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),i=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=Pr(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Vr(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=jr(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t.makeStorageReference(new kr(e,o));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t.makeStorageReference(new kr(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return qr(null!==i),i}}(t,e.bucket),a);return u.urlParams=s,u.errorHandler=Br(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}}))}))}function ni(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new kr(t._location.bucket,n);return new ti(t.storage,r)}var ri=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),ii=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new ri(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new ri(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new ri(t,i,i._ref))}:{next:e.next?function(t){return e.next(new ri(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),si=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new oi(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new oi(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),oi=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(ni(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new ii(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new Yr(t,new Ar(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=fr.RAW),this._throwIfRoot("putString"),new ii(function(t,e,n,r){void 0===n&&(n=fr.RAW),t._throwIfRoot("putString");var i=pr(n,e),s=Object(Yn.a)({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new Yr(t,new Ar(i.data,!0),s)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t,e,n=this;return(t=this._delegate,e={prefixes:[],items:[]},function t(e,n,r){return Object(Yn.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Yn.d)(this,(function(a){switch(a.label){case 0:return[4,ei(e,{pageToken:r})];case 1:return i=a.sent(),(s=n.prefixes).push.apply(s,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))).then((function(t){return new si(t,n.storage)}))},t.prototype.list=function(t){var e=this;return ei(this._delegate,t).then((function(t){return new si(t,e.storage)}))},t.prototype.getMetadata=function(){return function(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e,n;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=Gr(t.storage,t._location,Ur()),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Pr(e.fullServerUrl()),s=Hr(n,r),o=t.maxOperationRetryTime,a=new Vr(i,"PATCH",zr(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=Kr(e),a}(t.storage,t._location,e,Ur()),[2,t.storage.makeRequest(r,n).getPromise()]}}))}))}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e,n;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Pr(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new Vr(r,"GET",function(t,e){return function(n,r){var i=Mr(t,r,e);return qr(null!==i),function(t,e){var n=jr(e);if(null===n)return null;if(!Sr(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return Pr("/b/"+i(t.bucket)+"/o/"+i(n))+Rr({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return s.errorHandler=Kr(e),s}(t.storage,t._location,Ur()),[2,t.storage.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw new nr("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e,n;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Pr(e.fullServerUrl()),r=new Vr(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Kr(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}}))}))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw cr(t)},t}(),ai=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),ui=function(){function t(t,e,n,r,i,s,o,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(Yv){s(Yv)}else null!==o?((r=ir()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?ur():sr():new nr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new ci(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){s=setTimeout((function(){s=null,function(e,n){if(n)e(!1,new ci(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===_r.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new ci(o,n))}else{var a=n.getErrorCode()===_r.ABORT;e(!1,new ci(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Yn.g)([null,t],e));else{var r,s=u()||o;s?l.call.apply(l,Object(Yn.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout((function(){o=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),ci=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function li(t){return/^[A-Za-z]+:\/\//.test(t)}function hi(t,e){if(e&&li(e)){if(t instanceof pi)return new ti(t,e);throw ar("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof pi){var r=e;if(null==r._bucket)throw new nr("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new ti(r,r._bucket);return null!=n?t(i,n):i}if(void 0!==n){if(n.includes(".."))throw ar('`path` param cannot contain ".."');return ni(e,n)}return e}(t,e)}var fi,di,pi=function(){function t(t,e,n,r){var i,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?kr.makeFromBucketSpec(r):null==(s=null==(i=this.app.options)?void 0:i.storageBucket)?null:kr.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Ir("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Ir("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t,e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new ti(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new ai(ur());var r=function(t,e,n,r){var i=Rr(t.urlParams),s=t.url+i,o=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(o,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Zn.a?Zn.a.SDK_VERSION:"AppManager")}(o),new ui(s,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then((function(){return n._requests.delete(r)}),(function(){return n._requests.delete(r)})),r},t}(),gi=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(li(t))throw ar("ref() expected a child path but got a URL, use refFromURL instead.");return new oi(hi(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!li(t))throw ar("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kr.makeFromUrl(t)}catch(Yv){throw ar("refFromUrl() expected a valid full URL but got an invalid one.")}return new oi(hi(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function mi(t){const e=function(t){return new Ln.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=Hn.a){return n=>n.lift(new Vn(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Bn.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function yi(t,e,n){return{getDownloadURL:()=>Object(Fn.a)(void 0).pipe(Object(Kn.b)(e.outsideAngular),Qn(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Fn.a)(void 0).pipe(Object(Kn.b)(e.outsideAngular),Qn(()=>t.getMetadata()),n),delete:()=>Object(Un.a)(t.delete()),child:r=>yi(t.child(r),e,n),updateMetadata:e=>Object(Un.a)(t.updateMetadata(e)),put:(e,n)=>mi(t.put(e,n)),putString:(e,n,r)=>mi(t.putString(e,n,r)),listAll:()=>Object(Un.a)(t.listAll())}}di={TaskState:vr,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:fr,Storage:pi,Reference:oi},(fi=Zn.a).INTERNAL.registerComponent(new er.a("storage",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new gi(n,new pi(n,r,new Er,e))}),"PUBLIC").setServiceProps(di).setMultipleInstances(!0)),fi.registerVersion("@firebase/storage","0.4.2");const vi=new r.q("angularfire2.storageBucket"),bi=new r.q("angularfire2.storage.maxUploadRetryTime"),_i=new r.q("angularfire2.storage.maxOperationRetryTime");let wi=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new Dn.d(i),this.keepUnstableUntilFirst=Object(Dn.h)(this.schedulers);const a=Object(Dn.g)(t,i,e);this.storage=Object(Dn.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return yi(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return yi(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return yi(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Dn.c),r.Kb(Dn.b,8),r.Kb(vi,8),r.Kb(r.B),r.Kb(r.z),r.Kb(bi,8),r.Kb(_i,8))},t.\u0275prov=Object(r.Bb)({factory:function(){return new t(Object(r.Kb)(Dn.c),Object(r.Kb)(Dn.b,8),Object(r.Kb)(vi,8),Object(r.Kb)(r.B),Object(r.Kb)(r.z),Object(r.Kb)(bi,8),Object(r.Kb)(_i,8))},token:t,providedIn:"any"}),t})(),Ei=(()=>{class t{}return t.\u0275mod=r.Db({type:t}),t.\u0275inj=r.Cb({factory:function(e){return new(e||t)}}),t})(),Si=(()=>{class t{}return t.\u0275mod=r.Db({type:t}),t.\u0275inj=r.Cb({factory:function(e){return new(e||t)},providers:[wi],imports:[Ei]}),t})();var Oi=n("bHdf");function Ti(){return Object(Oi.a)(1)}function Ii(...t){return Ti()(Object(Fn.a)(...t))}var xi=n("z+Ro");function Ci(...t){const e=t[t.length-1];return Object(xi.a)(e)?(t.pop(),n=>Ii(t,n,e)):e=>Ii(t,e)}function Ai(){return t=>t.lift(new ki)}class ki{call(t,e){return e.subscribe(new ji(t))}}class ji extends Mn.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Ni(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Pi(t,e,n))}}class Pi{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ri(t,this.accumulator,this.seed,this.hasSeed))}}class Ri extends Mn.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class Di{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Li(t,this.compare,this.keySelector))}}class Li extends Mn.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function Fi(t,e){return function(n){return n.lift(new Ui(t,e))}}class Ui{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Mi(t,this.predicate,this.thisArg))}}class Mi extends Mn.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Hi=n("Jgta"),Vi=n("q/0M"),qi=function(t,e){return(qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function zi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Bi,Ki="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gi=Gi||{},$i=Ki||self;function Wi(){}function Qi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ji(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Xi="closure_uid_"+(1e9*Math.random()>>>0),Zi=0;function Yi(t,e,n){return t.call.apply(t.bind,arguments)}function ts(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function es(t,e,n){return(es=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yi:ts).apply(null,arguments)}function ns(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function rs(){return Date.now()}function is(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function ss(){this.j=this.j,this.i=this.i}ss.prototype.j=!1,ss.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Xi)&&t[Xi]||(t[Xi]=++Zi)}(this)},ss.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var os=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},as=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function us(t){return Array.prototype.concat.apply([],arguments)}function cs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ls(t){return/^[\s\xa0]*$/.test(t)}var hs,fs=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ds(t,e){return-1!=t.indexOf(e)}function ps(t,e){return t<e?-1:t>e?1:0}t:{var gs=$i.navigator;if(gs){var ms=gs.userAgent;if(ms){hs=ms;break t}}hs=""}function ys(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function vs(t){var e={};for(var n in t)e[n]=t[n];return e}var bs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _s(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<bs.length;s++)n=bs[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ws(t){return ws[" "](t),t}ws[" "]=Wi;var Es,Ss,Os=ds(hs,"Opera"),Ts=ds(hs,"Trident")||ds(hs,"MSIE"),Is=ds(hs,"Edge"),xs=Is||Ts,Cs=ds(hs,"Gecko")&&!(ds(hs.toLowerCase(),"webkit")&&!ds(hs,"Edge"))&&!(ds(hs,"Trident")||ds(hs,"MSIE"))&&!ds(hs,"Edge"),As=ds(hs.toLowerCase(),"webkit")&&!ds(hs,"Edge");function ks(){var t=$i.document;return t?t.documentMode:void 0}t:{var js="",Ns=(Ss=hs,Cs?/rv:([^\);]+)(\)|;)/.exec(Ss):Is?/Edge\/([\d\.]+)/.exec(Ss):Ts?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ss):As?/WebKit\/(\S+)/.exec(Ss):Os?/(?:Version)[ \/]?(\S+)/.exec(Ss):void 0);if(Ns&&(js=Ns?Ns[1]:""),Ts){var Ps=ks();if(null!=Ps&&Ps>parseFloat(js)){Es=String(Ps);break t}}Es=js}var Rs={};function Ds(t){return function(t,e){var n=Rs;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=fs(String(Es)).split("."),r=fs(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=ps(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||ps(0==o[2].length,0==a[2].length)||ps(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var Ls=$i.document&&Ts&&(ks()||parseInt(Es,10))||void 0,Fs=!Ts||9<=Number(Ls),Us=Ts&&!Ds("9"),Ms=function(){if(!$i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{$i.addEventListener("test",Wi,e),$i.removeEventListener("test",Wi,e)}catch(n){}return t}();function Hs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Vs(t,e){if(Hs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Cs){t:{try{ws(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Hs.prototype.b=function(){this.defaultPrevented=!0},is(Vs,Hs);var qs={2:"touch",3:"pen",4:"mouse"};Vs.prototype.b=function(){Vs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Us)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var zs="closure_listenable_"+(1e6*Math.random()|0),Bs=0;function Ks(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Bs,this.Y=this.Z=!1}function Gs(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function $s(t){this.src=t,this.a={},this.b=0}function Ws(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=os(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Gs(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Qs(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}$s.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Qs(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Ks(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Js="closure_lm_"+(1e6*Math.random()|0),Xs={};function Zs(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=oo(r),e&&e[zs]?e.wa(n,r,Ji(i)?!!i.capture:!!i,s):Ys(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Zs(t,e[s],n,r,i);return null}return n=oo(n),t&&t[zs]?t.va(e,n,Ji(r)?!!r.capture:!!r,i):Ys(t,e,n,!1,r,i)}function Ys(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ji(i)?!!i.capture:!!i;if(o&&!Fs)return null;var a=io(t);if(a||(t[Js]=a=new $s(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=ro,e=Fs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ms||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function to(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[zs])Ws(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=io(e))?(Ws(n,t),0==n.b&&(n.src=null,e[Js]=null)):Gs(t)}}}function eo(t){return t in Xs?Xs[t]:Xs[t]="on"+t}function no(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&to(t),n.call(r,e)}function ro(t,e){if(t.Y)return!0;if(!Fs){if(!e)t:{e=["window","event"];for(var n=$i,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return no(t,e=new Vs(e,this))}return no(t,new Vs(e,this))}function io(t){return(t=t[Js])instanceof $s?t:null}var so="__closure_events_fn_"+(1e9*Math.random()>>>0);function oo(t){return"function"==typeof t?t:(t[so]||(t[so]=function(e){return t.handleEvent(e)}),t[so])}function ao(){ss.call(this),this.c=new $s(this),this.J=this,this.C=null}function uo(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Hs(e,t);else if(e instanceof Hs)e.target=e.target||t;else{var i=e;_s(e=new Hs(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=co(o,r,!0,e)&&i}if(i=co(o=e.a=t,r,!0,e)&&i,i=co(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=co(o=e.a=n[s],r,!1,e)&&i}function co(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Ws(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}is(ao,ss),ao.prototype[zs]=!0,(Bi=ao.prototype).addEventListener=function(t,e,n,r){Zs(this,t,e,n,r)},Bi.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=Ji(i)?!!i.capture:!!i,r=oo(r),e&&e[zs]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Qs(o=e.a[n],r,i,s))&&(Gs(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=io(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Qs(n,r,i,s)),(r=-1<e?n[e]:null)&&to(r))}(this,t,e,n,r)},Bi.G=function(){if(ao.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Gs(n[r]);delete e.a[t],e.b--}}this.C=null},Bi.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Bi.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var lo=$i.JSON.stringify;function ho(){this.b=this.a=null}var fo,po=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new mo}),(function(t){t.reset()}));function go(){var t=_o,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function mo(){this.next=this.b=this.a=null}function yo(t){$i.setTimeout((function(){throw t}),0)}function vo(t,e){fo||function(){var t=$i.Promise.resolve(void 0);fo=function(){t.then(wo)}}(),bo||(fo(),bo=!0),_o.add(t,e)}ho.prototype.add=function(t,e){var n=po.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},mo.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},mo.prototype.reset=function(){this.next=this.b=this.a=null};var bo=!1,_o=new ho;function wo(){for(var t;t=go();){try{t.a.call(t.b)}catch(n){yo(n)}var e=po;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}bo=!1}function Eo(t,e){ao.call(this),this.b=t||1,this.a=e||$i,this.f=es(this.Za,this),this.g=rs()}function So(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Oo(t,e,n){if("function"==typeof t)n&&(t=es(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=es(t.handleEvent,t)}return 2147483647<Number(e)?-1:$i.setTimeout(t,e||0)}function To(t){t.a=Oo((function(){t.a=null,t.c&&(t.c=!1,To(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}is(Eo,ao),(Bi=Eo.prototype).aa=!1,Bi.M=null,Bi.Za=function(){if(this.aa){var t=rs()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),uo(this,"tick"),this.aa&&(So(this),this.start()))}},Bi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=rs())},Bi.G=function(){Eo.X.G.call(this),So(this),delete this.a};var Io=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}qi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:To(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&($i.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ss);function xo(t){ss.call(this),this.b=t,this.a={}}is(xo,ss);var Co=[];function Ao(t,e,n,r){Array.isArray(n)||(n&&(Co[0]=n.toString()),n=Co);for(var i=0;i<n.length;i++){var s=Zs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function ko(t){ys(t.a,(function(t,e){this.a.hasOwnProperty(e)&&to(t)}),t),t.a={}}function jo(){this.a=!0}function No(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return lo(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}xo.prototype.G=function(){xo.X.G.call(this),ko(this)},xo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jo.prototype.info=function(){};var Po={},Ro=null;function Do(){return Ro=Ro||new ao}function Lo(t){Hs.call(this,Po.Fa,t)}function Fo(t){var e=Do();uo(e,new Lo(e,t))}function Uo(t,e){Hs.call(this,Po.STAT_EVENT,t),this.stat=e}function Mo(t){var e=Do();uo(e,new Uo(e,t))}function Ho(t){Hs.call(this,Po.Ga,t)}function Vo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return $i.setTimeout((function(){t()}),e)}Po.Fa="serverreachability",is(Lo,Hs),Po.STAT_EVENT="statevent",is(Uo,Hs),Po.Ga="timingevent",is(Ho,Hs);var qo={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},zo={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Bo(){}function Ko(){}Bo.prototype.a=null;var Go,$o={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Wo(){Hs.call(this,"d")}function Qo(){Hs.call(this,"c")}function Jo(){}function Xo(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new xo(this),this.P=Zo,this.R=new Eo(t=xs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}is(Wo,Hs),is(Qo,Hs),is(Jo,Bo),Go=new Jo;var Zo=45e3,Yo={},ta={};function ea(t,e,n){t.H=1,t.i=Sa(ya(e)),t.j=n,t.I=!0,na(t,null)}function na(t,e){t.u=rs(),sa(t),t.l=ya(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),La(n.b,"t",r),t.D=0,t.a=ku(t.g,t.g.C?e:null),0<t.O&&(t.F=new Io(es(t.Ca,t,t.a),t.O)),Ao(t.J,t.a,"readystatechange",t.Xa),e=t.B?vs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Fo(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function ra(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ia(t,n);if(i==ta){4==e&&(t.h=4,Mo(14),r=!1),No(t.c,t.f,null,"[Incomplete Response]");break}if(i==Yo){t.h=4,Mo(15),No(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}No(t.c,t.f,i,null),la(t,i)}4==e&&0==n.length&&(t.h=1,Mo(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Eu(e),e.F=!0,Mo(11))):(No(t.c,t.f,n,"[Invalid Chunked Response]"),ca(t),ua(t))}function ia(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ta:(n=Number(e.substring(n,r)),isNaN(n)?Yo:(r+=1)+n>e.length?ta:(e=e.substr(r,n),t.D=r+n,e))}function sa(t){t.T=rs()+t.P,oa(t,t.P)}function oa(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Vo(es(t.Va,t),e)}function aa(t){t.o&&($i.clearTimeout(t.o),t.o=null)}function ua(t){0==t.g.v||t.A||Tu(t.g,t)}function ca(t){aa(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,So(t.R),ko(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function la(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||za(n.b,t)))if(n.I=t.N,!t.C&&za(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(hv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ou(n),du(n)}wu(n),Mo(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Vo(es(n.Sa,n),6e3));if(1>=qa(n.b)&&n.ea){try{n.ea()}catch(hv){}n.ea=void 0}}else xu(n,11)}else if((t.C||n.a==t)&&Ou(n),!ls(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ds(l,"spdy")||ds(l,"quic")||ds(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ba(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ea(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=rs()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Au(u,u.C?u.ga:null,u.fa),d.C){Ka(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(aa(p),sa(p)),u.a=d}else _u(u);0<n.g.length&&mu(n)}else"stop"!=i[0]&&"close"!=i[0]||xu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?xu(n,7):fu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Fo(4)}catch(hv){}}function ha(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Qi(t)||"string"==typeof t)as(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Qi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Qi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function fa(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fa)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function da(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];pa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)pa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function pa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Bi=Xo.prototype).setTimeout=function(t){this.P=t},Bi.Xa=function(t){t=t.target;var e=this.F;e&&3==uu(t)?e.f():this.Ca(t)},Bi.Ca=function(t){try{if(t==this.a)t:{var e=uu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!xs&&!this.a.$())){this.A||4!=e||7==n||Fo(8==n||0>=r?3:2),aa(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ls(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Mo(12),ca(this),ua(this);break t}No(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,la(this,u)}this.I?(ra(this,e,s),xs&&this.b&&3==e&&(Ao(this.J,this.R,"tick",this.Wa),this.R.start())):(No(this.c,this.f,s,null),la(this,s)),4==e&&ca(this),this.b&&!this.A&&(4==e?Tu(this.g,this):(this.b=!1,sa(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Mo(12)):(this.h=0,Mo(13)),ca(this),ua(this)}}}catch(c){}},Bi.Wa=function(){if(this.a){var t=uu(this.a),e=this.a.$();this.D<e.length&&(aa(this),ra(this,t,e),this.b&&4!=t&&sa(this))}},Bi.cancel=function(){this.A=!0,ca(this)},Bi.Va=function(){this.o=null;var t=rs();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Fo(3),Mo(17)),ca(this),this.h=2,ua(this)):oa(this,this.T-t)},(Bi=fa.prototype).K=function(){da(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Bi.L=function(){return da(this),this.a.concat()},Bi.get=function(t,e){return pa(this.b,t)?this.b[t]:e},Bi.set=function(t,e){pa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Bi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ga=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ma(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ma){this.a=void 0!==e?e:t.a,va(this,t.f),this.j=t.j,ba(this,t.c),_a(this,t.h),this.g=t.g,e=t.b;var n=new Na;n.c=e.c,e.a&&(n.a=new fa(e.a),n.b=e.b),wa(this,n),this.i=t.i}else t&&(n=String(t).match(ga))?(this.a=!!e,va(this,n[1]||"",!0),this.j=Oa(n[2]||""),ba(this,n[3]||"",!0),_a(this,n[4]),this.g=Oa(n[5]||"",!0),wa(this,n[6]||"",!0),this.i=Oa(n[7]||"")):(this.a=!!e,this.b=new Na(null,this.a))}function ya(t){return new ma(t)}function va(t,e,n){t.f=n?Oa(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ba(t,e,n){t.c=n?Oa(e,!0):e}function _a(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function wa(t,e,n){e instanceof Na?(t.b=e,function(t,e){e&&!t.f&&(Pa(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ra(this,e),La(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ta(e,ka)),t.b=new Na(e,t.a))}function Ea(t,e,n){t.b.set(e,n)}function Sa(t){return Ea(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^rs()).toString(36)),t}function Oa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ta(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ia),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ia(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ma.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ta(e,xa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ta(e,xa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ta(n,"/"==n.charAt(0)?Aa:Ca,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ta(n,ja)),t.join("")};var xa=/[#\/\?@]/g,Ca=/[#\?:]/g,Aa=/[#\?]/g,ka=/[#\?@]/g,ja=/#/g;function Na(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Pa(t){t.a||(t.a=new fa,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ra(t,e){Pa(t),e=Fa(t,e),pa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&da(t)))}function Da(t,e){return Pa(t),e=Fa(t,e),pa(t.a.b,e)}function La(t,e,n){Ra(t,e),0<n.length&&(t.c=null,t.a.set(Fa(t,e),cs(n)),t.b+=n.length)}function Fa(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Bi=Na.prototype).add=function(t,e){Pa(this),this.c=null,t=Fa(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Bi.forEach=function(t,e){Pa(this),this.a.forEach((function(n,r){as(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Bi.L=function(){Pa(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Bi.K=function(t){Pa(this);var e=[];if("string"==typeof t)Da(this,t)&&(e=us(e,this.a.get(Fa(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=us(e,t[n])}return e},Bi.set=function(t,e){return Pa(this),this.c=null,Da(this,t=Fa(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Bi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Bi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Ua=function(){return function(t,e){this.b=t,this.a=e}}();function Ma(t){this.g=t||Ha,t=$i.PerformanceNavigationTiming?0<(t=$i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!($i.ia&&$i.ia.ya&&$i.ia.ya()&&$i.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ha=10;function Va(t){return!!t.b||!!t.a&&t.a.size>=t.f}function qa(t){return t.b?1:t.a?t.a.size:0}function za(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ba(t,e){t.a?t.a.add(e):t.b=e}function Ka(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ga(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=zi(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return cs(t.c)}function $a(){}function Wa(){this.a=new $a}function Qa(t,e,n){var r=n||"";try{ha(t,(function(t,n){var i=t;Ji(t)&&(i=lo(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Yv){throw e.push(r+"type="+encodeURIComponent("_badmap")),Yv}}function Ja(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ma.prototype.cancel=function(){var t,e;if(this.c=Ga(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=zi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},$a.prototype.stringify=function(t){return $i.JSON.stringify(t,void 0)},$a.prototype.parse=function(t){return $i.JSON.parse(t,void 0)};var Xa=$i.JSON.parse;function Za(t){ao.call(this),this.headers=new fa,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ya,this.D=this.F=!1}is(Za,ao);var Ya="",tu=/^https?$/i,eu=["POST","PUT"];function nu(t){return"content-type"==t.toLowerCase()}function ru(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,iu(t),ou(t)}function iu(t){t.u||(t.u=!0,uo(t,"complete"),uo(t,"error"))}function su(t){if(t.b&&void 0!==Gi&&(!t.s[1]||4!=uu(t)||2!=t.W()))if(t.l&&4==uu(t))Oo(t.za,0,t);else if(uo(t,"readystatechange"),4==uu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(ga)[1]||null;if(!s&&$i.self&&$i.self.location){var o=$i.self.location.protocol;s=o.substr(0,o.length-1)}i=!tu.test(s?s.toLowerCase():"")}e=i}if(e)uo(t,"complete"),uo(t,"success");else{t.h=6;try{var a=2<uu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",iu(t)}}finally{ou(t)}}}function ou(t,e){if(t.a){au(t);var n=t.a,r=t.s[0]?Wi:null;t.a=null,t.s=null,e||uo(t,"ready");try{n.onreadystatechange=r}catch(Yv){}}}function au(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&($i.clearTimeout(t.m),t.m=null)}function uu(t){return t.a?t.a.readyState:0}function cu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ys(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ea(t,e,n))}function lu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hu(t){this.pa=0,this.g=[],this.c=new jo,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=lu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=lu("baseRetryDelayMs",5e3,t),this.Ra=lu("retryDelaySeedMs",1e4,t),this.Ma=lu("forwardChannelMaxRetries",2,t),this.ma=lu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ma(t&&t.concurrentRequestLimit),this.ka=new Wa,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function fu(t){if(pu(t),3==t.v){var e=t.R++,n=ya(t.B);Ea(n,"SID",t.J),Ea(n,"RID",e),Ea(n,"TYPE","terminate"),vu(t,n),(e=new Xo(t,t.c,e,void 0)).H=2,e.i=Sa(ya(n)),n=!1,$i.navigator&&$i.navigator.sendBeacon&&(n=$i.navigator.sendBeacon(e.i.toString(),"")),!n&&$i.Image&&((new Image).src=e.i,n=!0),n||(e.a=ku(e.g,null),e.a.ba(e.i)),e.u=rs(),sa(e)}Cu(t)}function du(t){t.a&&(Eu(t),t.a.cancel(),t.a=null)}function pu(t){du(t),t.j&&($i.clearTimeout(t.j),t.j=null),Ou(t),t.b.cancel(),t.h&&("number"==typeof t.h&&$i.clearTimeout(t.h),t.h=null)}function gu(t,e){t.g.push(new Ua(t.Oa++,e)),3==t.v&&mu(t)}function mu(t){Va(t.b)||t.h||(t.h=!0,vo(t.Ba,t),t.u=0)}function yu(t,e){var n;n=e?e.f:t.R++;var r=ya(t.B);Ea(r,"SID",t.J),Ea(r,"RID",n),Ea(r,"AID",t.P),vu(t,r),t.i&&t.l&&cu(r,t.i,t.l),n=new Xo(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=bu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ba(t.b,n),ea(n,r,e)}function vu(t,e){t.f&&ha({},(function(t,n){Ea(e,n,t)}))}function bu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?es(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Qa(l,o,"req"+c+"_")}catch(hc){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function _u(t){t.a||t.j||(t.T=1,vo(t.Aa,t),t.o=0)}function wu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Vo(es(t.Aa,t),Iu(t,t.o)),t.o++,0))}function Eu(t){null!=t.s&&($i.clearTimeout(t.s),t.s=null)}function Su(t){t.a=new Xo(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ya(t.la);Ea(e,"RID","rpc"),Ea(e,"SID",t.J),Ea(e,"CI",t.H?"0":"1"),Ea(e,"AID",t.P),vu(t,e),Ea(e,"TYPE","xmlhttp"),t.i&&t.l&&cu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Sa(ya(e)),n.j=null,n.I=!0,na(n,t)}function Ou(t){null!=t.m&&($i.clearTimeout(t.m),t.m=null)}function Tu(t,e){var n=null;if(t.a==e){Ou(t),Eu(t),t.a=null;var r=2}else{if(!za(t.b,e))return;n=e.s,Ka(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=rs()-e.u;var i=t.u;uo(r=Do(),new Ho(r,n,e,i)),mu(t)}else _u(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(qa(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Vo(es(t.Ba,t,e),Iu(t,t.u)),t.u++,0)))}(t,e)||2==r&&wu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:xu(t,5);break;case 4:xu(t,10);break;case 3:xu(t,6);break;default:xu(t,2)}}function Iu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function xu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=es(t.Ya,t);n||(n=new ma("//www.google.com/images/cleardot.gif"),$i.location&&"http"==$i.location.protocol||va(n,"https"),Sa(n)),function(t,e){var n=new jo;if($i.Image){var r=new Image;r.onload=ns(Ja,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ns(Ja,n,r,"TestLoadImage: error",!1,e),r.onabort=ns(Ja,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ns(Ja,n,r,"TestLoadImage: timeout",!1,e),$i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Mo(2);t.v=0,t.f&&t.f.ra(e),Cu(t),pu(t)}function Cu(t){t.v=0,t.I=-1,t.f&&(0==Ga(t.b).length&&0==t.g.length||(t.b.c.length=0,cs(t.g),t.g.length=0),t.f.qa())}function Au(t,e,n){var r=function(t){return t instanceof ma?ya(t):new ma(t,void 0)}(n);if(""!=r.c)e&&ba(r,e+"."+r.c),_a(r,r.h);else{var i=$i.location;r=function(t,e,n,r){var i=new ma(null,void 0);return t&&va(i,t),e&&ba(i,e),n&&_a(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&ys(t.V,(function(t,e){Ea(r,e,t)})),n=t.na,(e=t.A)&&n&&Ea(r,e,n),Ea(r,"VER",t.ha),vu(t,r),r}function ku(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Za(t.Na)).F=t.C,e}function ju(){}function Nu(){if(Ts&&!(10<=Number(Ls)))throw Error("Environmental error: no available transport.")}function Pu(t,e){ao.call(this),this.a=new hu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ls(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ls(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Lu(this)}function Ru(t){Wo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Du(){Qo.call(this),this.status=1}function Lu(t){this.a=t}(Bi=Za.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Go),this.a.onreadystatechange=es(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void ru(this,s)}t=n||"";var i=new fa(this.headers);r&&ha(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=nu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=$i.FormData&&t instanceof $i.FormData,!(0<=os(eu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{au(this),0<this.o&&((this.D=function(t){return Ts&&Ds(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=es(this.xa,this)):this.m=Oo(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){ru(this,s)}},Bi.xa=function(){void 0!==Gi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,uo(this,"timeout"),this.abort(8))},Bi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,uo(this,"complete"),uo(this,"abort"),ou(this))},Bi.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),ou(this,!0)),Za.X.G.call(this)},Bi.za=function(){this.j||(this.A||this.l||this.g?su(this):this.Ua())},Bi.Ua=function(){su(this)},Bi.W=function(){try{return 2<uu(this)?this.a.status:-1}catch(Ss){return-1}},Bi.$=function(){try{return this.a?this.a.responseText:""}catch(Ss){return""}},Bi.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Xa(e)}},Bi.ua=function(){return this.h},Bi.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Bi=hu.prototype).ha=8,Bi.v=1,Bi.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Xo(this,this.c,t,void 0),r=this.l;if(this.O&&(r?_s(r=vs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=bu(this,n,e),Ea(i=ya(this.B),"RID",t),Ea(i,"CVER",22),this.A&&Ea(i,"X-HTTP-Session-Id",this.A),vu(this,i),this.i&&r&&cu(i,this.i,r),Ba(this.b,n),this.Ia&&Ea(i,"TYPE","init"),this.da?(Ea(i,"$req",e),Ea(i,"SID","null"),n.U=!0,ea(n,i,null)):ea(n,i,e),this.v=2}}else 3==this.v&&(t?yu(this,t):0==this.g.length||Va(this.b)||yu(this))},Bi.Aa=function(){if(this.j=null,Su(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Vo(es(this.Ta,this),t)}},Bi.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Mo(10),du(this),Su(this))},Bi.Sa=function(){null!=this.m&&(this.m=null,du(this),wu(this),Mo(19))},Bi.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Mo(2)):(this.c.info("Failed to ping google.com"),Mo(1))},(Bi=ju.prototype).ta=function(){},Bi.sa=function(){},Bi.ra=function(){},Bi.qa=function(){},Bi.Ja=function(){},Nu.prototype.a=function(t,e){return new Pu(t,e)},is(Pu,ao),Pu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Mo(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Au(t,null,t.fa),mu(t)},Pu.prototype.close=function(){fu(this.a)},Pu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,gu(this.a,e)}else this.l?((e={}).__data__=lo(t),gu(this.a,e)):gu(this.a,t)},Pu.prototype.G=function(){this.a.f=null,delete this.f,fu(this.a),delete this.a,Pu.X.G.call(this)},is(Ru,Wo),is(Du,Qo),is(Lu,ju),Lu.prototype.ta=function(){uo(this.a,"a")},Lu.prototype.sa=function(t){uo(this.a,new Ru(t))},Lu.prototype.ra=function(t){uo(this.a,new Du(t))},Lu.prototype.qa=function(){uo(this.a,"b")},Nu.prototype.createWebChannel=Nu.prototype.a,Pu.prototype.send=Pu.prototype.h,Pu.prototype.open=Pu.prototype.g,Pu.prototype.close=Pu.prototype.close,qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,zo.COMPLETE="complete",Ko.EventType=$o,$o.OPEN="a",$o.CLOSE="b",$o.ERROR="c",$o.MESSAGE="d",ao.prototype.listen=ao.prototype.va,Za.prototype.listenOnce=Za.prototype.wa,Za.prototype.getLastError=Za.prototype.Qa,Za.prototype.getLastErrorCode=Za.prototype.ua,Za.prototype.getStatus=Za.prototype.W,Za.prototype.getResponseJson=Za.prototype.Pa,Za.prototype.getResponseText=Za.prototype.$,Za.prototype.send=Za.prototype.ba;var Fu=qo,Uu=zo,Mu=Po,Hu=Ko,Vu=Za,qu=new Vi.b("@firebase/firestore");function zu(){return qu.logLevel}function Bu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qu.logLevel<=Vi.a.DEBUG){var r=e.map($u);qu.debug.apply(qu,Object(Yn.g)(["Firestore (8.2.5): "+t],r))}}function Ku(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qu.logLevel<=Vi.a.ERROR){var r=e.map($u);qu.error.apply(qu,Object(Yn.g)(["Firestore (8.2.5): "+t],r))}}function Gu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qu.logLevel<=Vi.a.WARN){var r=e.map($u);qu.warn.apply(qu,Object(Yn.g)(["Firestore (8.2.5): "+t],r))}}function $u(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Yv){return t}}function Wu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.5) INTERNAL ASSERTION FAILED: "+t;throw Ku(e),new Error(e)}function Qu(t,e){t||Wu()}function Ju(t,e){return t}function Xu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Zu=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Xu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Yu(t,e){return t<e?-1:t>e?1:0}function tc(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ec(t){return t+"\0"}var nc=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Yu(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();nc.h=new nc("");var rc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ic=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Yn.c)(e,t),e}(Error),sc=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(nc.fromBase64String(e))}catch(e){throw new ic(rc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(nc.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),oc=function(t){this._=t};function ac(){if("undefined"==typeof Uint8Array)throw new ic(rc.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function uc(){if("undefined"==typeof atob)throw new ic(rc.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var cc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.fromBase64String=function(t){return uc(),new e(sc.fromBase64String(t))},e.fromUint8Array=function(t){return ac(),new e(sc.fromUint8Array(t))},e.prototype.toBase64=function(){return uc(),this._.toBase64()},e.prototype.toUint8Array=function(){return ac(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(oc),lc=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},hc=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),fc=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();fc.UNAUTHENTICATED=new fc(null),fc.P=new fc("google-credentials-uid"),fc.g=new fc("first-party-uid");var dc=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},pc=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(fc.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),gc=function(){function t(t){var e=this;this.C=null,this.currentUser=fc.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.F!==e?(Bu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Qu("string"==typeof n.accessToken),new dc(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Qu(null===t||"string"==typeof t),new fc(t)},t}(),mc=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=fc.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),yc=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new mc(this.k,this.M))},t.prototype.S=function(t){t(fc.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),vc=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();vc.U=-1;var bc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ic(rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ic(rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ic(rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ic(rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Yu(this.nanoseconds,t.nanoseconds):Yu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),_c=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new bc(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),wc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Wu(),void 0===n?n=t.length-e:n>t.length-e&&Wu(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new ic(rc.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(wc),Sc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return Sc.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new ic(rc.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new ic(rc.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ic(rc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ic(rc.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(wc),Tc=function(){function t(t){this.path=t}return t.ft=function(e){return new t(Ec.ct(e))},t.dt=function(e){return new t(Ec.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ec.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return Ec.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new Ec(e.slice()))},t}();function Ic(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Cc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ac=function(){function t(t){this.fields=t,t.sort(Oc.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return tc(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jc(t){if(Qu(!!t),"string"==typeof t){var e=0,n=kc.exec(t);if(Qu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nc(t.seconds),nanos:Nc(t.nanos)}}function Nc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Pc(t){return"string"==typeof t?nc.fromBase64String(t):nc.fromUint8Array(t)}function Rc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dc(t){var e=jc(t.mapValue.fields.__local_write_time__.timestampValue);return new bc(e.seconds,e.nanos)}function Lc(t){return null==t}function Fc(t){return 0===t&&1/t==-1/0}function Uc(t){return"number"==typeof t&&Number.isInteger(t)&&!Fc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Mc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rc(t)?4:10:Wu()}function Hc(t,e){var n=Mc(t);if(n!==Mc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=jc(t.timestampValue),r=jc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Pc(t.bytesValue).isEqual(Pc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Nc(t.geoPointValue.latitude)===Nc(e.geoPointValue.latitude)&&Nc(t.geoPointValue.longitude)===Nc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Nc(t.integerValue)===Nc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Nc(t.doubleValue),r=Nc(e.doubleValue);return n===r?Fc(n)===Fc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],Hc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ic(n)!==Ic(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hc(n[i],r[i])))return!1;return!0}(t,e);default:return Wu()}}function Vc(t,e){return void 0!==(t.values||[]).find((function(t){return Hc(t,e)}))}function qc(t,e){var n=Mc(t),r=Mc(e);if(n!==r)return Yu(n,r);switch(n){case 0:return 0;case 1:return Yu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Nc(t.integerValue||t.doubleValue),r=Nc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return zc(t.timestampValue,e.timestampValue);case 4:return zc(Dc(t),Dc(e));case 5:return Yu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Pc(t),r=Pc(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Yu(n[i],r[i]);if(0!==s)return s}return Yu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Yu(Nc(t.latitude),Nc(e.latitude));return 0!==n?n:Yu(Nc(t.longitude),Nc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=qc(n[i],r[i]);if(s)return s}return Yu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Yu(r[o],s[o]);if(0!==a)return a;var u=qc(n[r[o]],i[s[o]]);if(0!==u)return u}return Yu(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Wu()}}function zc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Yu(t,e);var n=jc(t),r=jc(e),i=Yu(n.seconds,r.seconds);return 0!==i?i:Yu(n.nanos,r.nanos)}function Bc(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=jc(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Pc(e.bytesValue).toBase64():"referenceValue"in e?Tc.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):Wu();var n}(t)}function Kc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Gc(t){return!!t&&"integerValue"in t}function $c(t){return!!t&&"arrayValue"in t}function Wc(t){return!!t&&"nullValue"in t}function Qc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jc(t){return!!t&&"mapValue"in t}var Xc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Jc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Hc(this.proto,t.proto)},t}(),Zc=function(){function t(t){void 0===t&&(t=Xc.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Mc(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(Oc.at(),this.Rt);return null!=t?new Xc(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=Jc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Yc(t){var e=[];return xc(t.fields||{},(function(t,n){var r=new Oc([t]);if(Jc(n)){var i=Yc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Ac(e)}var tl=function(t,e){this.key=t,this.version=e},el=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Yn.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(tl),nl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Yn.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(tl),rl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(tl),il=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function sl(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new il(t,e,n,r,i,s,o)}function ol(t){var e=Ju(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Bc(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),Lc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=bl(e.startAt)),e.endAt&&(n+="|ub:",n+=bl(e.endAt)),e.St=n}return e.St}function al(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!wl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Hc(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sl(t.startAt,e.startAt)&&Sl(t.endAt,e.endAt)}function ul(t){return Tc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var cl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Yn.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new ll(t,n,r):"array-contains"===n?new pl(t,r):"in"===n?new gl(t,r):"not-in"===n?new ml(t,r):"array-contains-any"===n?new yl(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new hl(t,n):new fl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(qc(e,this.value)):null!==e&&Mc(this.value)===Mc(e)&&this.Ct(qc(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Wu()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),ll=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Tc.dt(r.referenceValue),i}return Object(Yn.c)(e,t),e.prototype.matches=function(t){var e=Tc.J(t.key,this.key);return this.Ct(e)},e}(cl),hl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=dl(0,n),r}return Object(Yn.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(cl),fl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=dl(0,n),r}return Object(Yn.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(cl);function dl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Tc.dt(t.referenceValue)}))}var pl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Yn.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return $c(e)&&Vc(e.arrayValue,this.value)},e}(cl),gl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Yn.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Vc(this.value.arrayValue,e)},e}(cl),ml=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Yn.c)(e,t),e.prototype.matches=function(t){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Vc(this.value.arrayValue,e)},e}(cl),yl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Yn.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!$c(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Vc(e.value.arrayValue,t)}))},e}(cl),vl=function(t,e){this.position=t,this.before=e};function bl(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Bc(t)})).join(",")}var _l=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function wl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function El(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?Tc.J(Tc.dt(o.referenceValue),n.key):qc(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Sl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Hc(t.position[n],e.position[n]))return!1;return!0}var Ol=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ft=null,this.Ot=null};function Tl(t,e,n,r,i,s,o,a){return new Ol(t,e,n,r,i,s,o,a)}function Il(t){return new Ol(t)}function xl(t){return!Lc(t.limit)&&"F"===t.limitType}function Cl(t){return!Lc(t.limit)&&"L"===t.limitType}function Al(t){return t.Nt.length>0?t.Nt[0].field:null}function kl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function jl(t){return null!==t.collectionGroup}function Nl(t){var e=Ju(t);if(null===e.Ft){e.Ft=[];var n=kl(e),r=Al(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new _l(n)),e.Ft.push(new _l(Oc.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new _l(Oc.lt(),u))}}}return e.Ft}function Pl(t){var e=Ju(t);if(!e.Ot)if("F"===e.limitType)e.Ot=sl(e.path,e.collectionGroup,Nl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Nl(e);r<i.length;r++){var s=i[r];n.push(new _l(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new vl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new vl(e.startAt.position,!e.startAt.before):null;e.Ot=sl(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ot}function Rl(t,e,n){return new Ol(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dl(t,e){return al(Pl(t),Pl(e))&&t.limitType===e.limitType}function Ll(t){return ol(Pl(t))+"|lt:"+t.limitType}function Fl(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Bc(e.value);var e})).join(", ")+"]"),Lc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+bl(t.startAt)),t.endAt&&(e+=", endAt: "+bl(t.endAt)),"Target("+e+")"}(Pl(t))+"; limitType="+t.limitType+")"}function Ul(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):Tc.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!El(t.startAt,Nl(t),e)||t.endAt&&El(t.endAt,Nl(t),e))}(t,e)}function Ml(t){return function(e,n){for(var r=!1,i=0,s=Nl(t);i<s.length;i++){var o=s[i],a=Hl(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function Hl(t,e,n){var r=t.field.ht()?Tc.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?qc(r,i):Wu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Wu()}}var Vl=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=_c.min()),void 0===s&&(s=_c.min()),void 0===o&&(o=nc.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function ql(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function zl(t){return{integerValue:""+t}}function Bl(t,e){return Uc(e)?zl(e):ql(t,e)}var Kl=function(){this.Ut=void 0};function Gl(t,e,n){return t instanceof Ql?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Jl?Xl(t,e):t instanceof Zl?Yl(t,e):function(t,e){var n=Wl(t,e),r=eh(n)+eh(t.Qt);return Gc(n)&&Gc(t.Qt)?zl(r):ql(t.Kt,r)}(t,e)}function $l(t,e,n){return t instanceof Jl?Xl(t,e):t instanceof Zl?Yl(t,e):n}function Wl(t,e){return t instanceof th?Gc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e}(Kl),Jl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Yn.c)(e,t),e}(Kl);function Xl(t,e){for(var n=nh(e),r=function(t){n.some((function(e){return Hc(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Zl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Yn.c)(e,t),e}(Kl);function Yl(t,e){for(var n=nh(e),r=function(t){n=n.filter((function(e){return!Hc(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var th=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Yn.c)(e,t),e}(Kl);function eh(t){return Nc(t.integerValue||t.doubleValue)}function nh(t){return $c(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var rh=function(t,e){this.field=t,this.transform=e},ih=function(t,e){this.version=t,this.transformResults=e},sh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function oh(t,e){return void 0!==t.updateTime?e instanceof el&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof el}var ah=function(){};function uh(t,e,n){return t instanceof dh?function(t,e,n){var r=t.value;if(n.transformResults){var i=mh(t.fieldTransforms,e,n.transformResults);r=vh(t.fieldTransforms,r,i)}return new el(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ph?function(t,e,n){if(!oh(t.Gt,e))return new rl(t.key,n.version);var r=gh(t,e,n.transformResults?mh(t.fieldTransforms,e,n.transformResults):[]);return new el(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new nl(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function ch(t,e,n,r){return t instanceof dh?function(t,e,n,r){if(!oh(t.Gt,e))return e;var i=t.value,s=yh(t.fieldTransforms,n,e);i=vh(t.fieldTransforms,i,s);var o=fh(e);return new el(t.key,o,i,{bt:!0})}(t,e,r):t instanceof ph?function(t,e,n,r){if(!oh(t.Gt,e))return e;var i=fh(e),s=gh(t,e,yh(t.fieldTransforms,n,e));return new el(t.key,i,s,{bt:!0})}(t,e,r):function(t,e){return oh(t.Gt,e)?new nl(t.key,_c.min()):e}(t,e)}function lh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof el?e.field(s.field):void 0,a=Wl(s.transform,o||null);null!=a&&(n=null==n?(new Zc).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e)}function hh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&tc(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Jl&&e instanceof Jl||t instanceof Zl&&e instanceof Zl?tc(t.elements,e.elements,Hc):t instanceof th&&e instanceof th?Hc(t.Qt,e.Qt):t instanceof Ql&&e instanceof Ql}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function fh(t){return t instanceof el?t.version:_c.min()}var dh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object(Yn.c)(e,t),e}(ah),ph=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object(Yn.c)(e,t),e}(ah);function gh(t,e,n){var r;return r=function(t,e){var n=new Zc(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof el?e.data():Xc.empty()),vh(t.fieldTransforms,r,n)}function mh(t,e,n){var r=[];Qu(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof el&&(a=e.field(s.field)),r.push($l(o,a,n[i]))}return r}function yh(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof el&&(c=n.field(a.field)),i.push(Gl(u,c,e))}return i}function vh(t,e,n){for(var r=new Zc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var bh,_h,wh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Yn.c)(e,t),e}(ah),Eh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Yn.c)(e,t),e}(ah),Sh=function(t){this.count=t};function Oh(t){switch(t){case rc.OK:return Wu();case rc.CANCELLED:case rc.UNKNOWN:case rc.DEADLINE_EXCEEDED:case rc.RESOURCE_EXHAUSTED:case rc.INTERNAL:case rc.UNAVAILABLE:case rc.UNAUTHENTICATED:return!1;case rc.INVALID_ARGUMENT:case rc.NOT_FOUND:case rc.ALREADY_EXISTS:case rc.PERMISSION_DENIED:case rc.FAILED_PRECONDITION:case rc.ABORTED:case rc.OUT_OF_RANGE:case rc.UNIMPLEMENTED:case rc.DATA_LOSS:return!0;default:return Wu()}}function Th(t){if(void 0===t)return Ku("GRPC error has no .code"),rc.UNKNOWN;switch(t){case bh.OK:return rc.OK;case bh.CANCELLED:return rc.CANCELLED;case bh.UNKNOWN:return rc.UNKNOWN;case bh.DEADLINE_EXCEEDED:return rc.DEADLINE_EXCEEDED;case bh.RESOURCE_EXHAUSTED:return rc.RESOURCE_EXHAUSTED;case bh.INTERNAL:return rc.INTERNAL;case bh.UNAVAILABLE:return rc.UNAVAILABLE;case bh.UNAUTHENTICATED:return rc.UNAUTHENTICATED;case bh.INVALID_ARGUMENT:return rc.INVALID_ARGUMENT;case bh.NOT_FOUND:return rc.NOT_FOUND;case bh.ALREADY_EXISTS:return rc.ALREADY_EXISTS;case bh.PERMISSION_DENIED:return rc.PERMISSION_DENIED;case bh.FAILED_PRECONDITION:return rc.FAILED_PRECONDITION;case bh.ABORTED:return rc.ABORTED;case bh.OUT_OF_RANGE:return rc.OUT_OF_RANGE;case bh.UNIMPLEMENTED:return rc.UNIMPLEMENTED;case bh.DATA_LOSS:return rc.DATA_LOSS;default:return Wu()}}(_h=bh||(bh={}))[_h.OK=0]="OK",_h[_h.CANCELLED=1]="CANCELLED",_h[_h.UNKNOWN=2]="UNKNOWN",_h[_h.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_h[_h.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_h[_h.NOT_FOUND=5]="NOT_FOUND",_h[_h.ALREADY_EXISTS=6]="ALREADY_EXISTS",_h[_h.PERMISSION_DENIED=7]="PERMISSION_DENIED",_h[_h.UNAUTHENTICATED=16]="UNAUTHENTICATED",_h[_h.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_h[_h.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_h[_h.ABORTED=10]="ABORTED",_h[_h.OUT_OF_RANGE=11]="OUT_OF_RANGE",_h[_h.UNIMPLEMENTED=12]="UNIMPLEMENTED",_h[_h.INTERNAL=13]="INTERNAL",_h[_h.UNAVAILABLE=14]="UNAVAILABLE",_h[_h.DATA_LOSS=15]="DATA_LOSS";var Ih=function(){function t(t,e){this.J=t,this.root=e||Ch.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,Ch.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,Ch.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new xh(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new xh(this.root,t,this.J,!1)},t.prototype.se=function(){return new xh(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new xh(this.root,t,this.J,!0)},t}(),xh=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),Ch=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Wu();if(this.right._e())throw Wu();var t=this.left.me();if(t!==this.right.me())throw Wu();return t+(this._e()?0:1)},t}();Ch.EMPTY=null,Ch.RED=!0,Ch.Jt=!1,Ch.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Wu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Wu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Wu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Wu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Wu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new Ch(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var Ah=function(){function t(t){this.J=t,this.data=new Ih(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new kh(this.data.ee())},t.prototype.ne=function(t){return new kh(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),kh=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),jh=new Ih(Tc.J);function Nh(){return jh}function Ph(){return Nh()}var Rh=new Ih(Tc.J);function Dh(){return Rh}var Lh=new Ih(Tc.J);function Fh(){return Lh}var Uh=new Ah(Tc.J);function Mh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Uh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Hh=new Ah(Yu);function Vh(){return Hh}var qh=function(){function t(t){this.J=t?function(e,n){return t(e,n)||Tc.J(e.key,n.key)}:function(t,e){return Tc.J(t.key,e.key)},this.Ve=Dh(),this.pe=new Ih(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),zh=function(){function t(){this.ve=new Ih(Tc.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Wu():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),Bh=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Fe=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,qh.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Dl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Kh=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Gh.Be(e,n)),new t(_c.min(),r,Vh(),Nh(),Mh())},t}(),Gh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(nc.h,n,Mh(),Mh(),Mh())},t}(),$h=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Wh=function(t,e){this.targetId=t,this.Ge=e},Qh=function(t,e,n,r){void 0===n&&(n=nc.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Jh=function(){function t(){this.ze=0,this.He=Yh(),this.Je=nc.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Mh(),e=Mh(),n=Mh();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Wu()}})),new Gh(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Yh()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Xh=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Nh(),this.fn=Zh(),this.dn=new Ah(Yu)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof el?this.En(r,t.je):t.je instanceof nl&&this.Tn(r,t.key,t.je)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Wu()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(ul(i))if(0===n){var s=new Tc(i.path);this.Tn(e,s,new nl(s,_c.min()))}else Qu(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var s=e.gn(i);if(s){if(r.qe&&ul(s.target)){var o=new Tc(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new nl(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Mh();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Kh(t,n,this.dn,this._n,r);return this._n=Nh(),this.fn=Zh(),this.dn=new Ah(Yu),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Jh,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new Ah(Yu),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Bu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Jh),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Zh(){return new Ih(Tc.J)}function Yh(){return new Ih(Tc.J)}var tf={asc:"ASCENDING",desc:"DESCENDING"},ef={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nf=function(t,e){this.T=t,this.qt=e};function rf(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function sf(t,e){return t.qt?e.toBase64():e.toUint8Array()}function of(t,e){return rf(t,e.G())}function af(t){return Qu(!!t),_c.W(function(t){var e=jc(t);return new bc(e.seconds,e.nanos)}(t))}function uf(t,e){return function(t){return new Ec(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function cf(t){var e=Ec.ct(t);return Qu(Nf(e)),e}function lf(t,e){return uf(t.T,e.path)}function hf(t,e){var n=cf(e);if(n.get(1)!==t.T.projectId)throw new ic(rc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new ic(rc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new Tc(gf(n))}function ff(t,e){return uf(t.T,e)}function df(t){var e=cf(t);return 4===e.length?Ec.at():gf(e)}function pf(t){return new Ec(["projects",t.T.projectId,"databases",t.T.database]).ot()}function gf(t){return Qu(t.length>4&&"documents"===t.get(4)),t.X(5)}function mf(t,e,n){return{name:lf(t,e),fields:n.proto.mapValue.fields}}function yf(t,e,n){var r=hf(t,e.name),i=af(e.updateTime),s=new Xc({mapValue:{fields:e.fields}});return new el(r,i,s,{hasCommittedMutations:!!n})}function vf(t,e){var n;if(e instanceof dh)n={update:mf(t,e.key,e.value)};else if(e instanceof wh)n={delete:lf(t,e.key)};else if(e instanceof ph)n={update:mf(t,e.key,e.data),updateMask:jf(e.zt)};else{if(!(e instanceof Eh))return Wu();n={verify:lf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ql)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jl)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Zl)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof th)return{fieldPath:e.field.ot(),increment:n.Qt};throw Wu()}(0,t)}))),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:of(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Wu()}(t,e.Gt)),n}function bf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?sh.updateTime(af(t.updateTime)):void 0!==t.exists?sh.exists(t.exists):sh.Wt()}(e.currentDocument):sh.Wt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Qu("REQUEST_TIME"===e.setToServerValue),n=new Ql):"appendMissingElements"in e?n=new Jl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Zl(e.removeAllFromArray.values||[]):"increment"in e?n=new th(t,e.increment):Wu();var r=Oc._t(e.fieldPath);return new rh(r,n)}(t,e)})):[];if(e.update){var i=hf(t,e.update.name),s=new Xc({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Ac((t.fieldPaths||[]).map((function(t){return Oc._t(t)})))}(e.updateMask);return new ph(i,s,o,n,r)}return new dh(i,s,n,r)}if(e.delete){var a=hf(t,e.delete);return new wh(a,n)}if(e.verify){var u=hf(t,e.verify);return new Eh(u,n)}return Wu()}function _f(t,e){return{documents:[ff(t,e.path)]}}function wf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ff(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ff(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Qc(t.value))return{unaryFilter:{field:xf(t.field),op:"IS_NAN"}};if(Wc(t.value))return{unaryFilter:{field:xf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Qc(t.value))return{unaryFilter:{field:xf(t.field),op:"IS_NOT_NAN"}};if(Wc(t.value))return{unaryFilter:{field:xf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xf(t.field),op:If(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:xf(t.field),direction:Tf(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||Lc(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Sf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Sf(e.endAt)),n}function Ef(t){var e=df(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Qu(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[kf(e)]:void 0!==e.fieldFilter?[Af(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Wu():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new _l(Cf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Lc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Of(n.startAt));var l=null;return n.endAt&&(l=Of(n.endAt)),Tl(e,i,a,o,u,"F",c,l)}function Sf(t){return{before:t.before,values:t.position}}function Of(t){return new vl(t.values||[],!!t.before)}function Tf(t){return tf[t]}function If(t){return ef[t]}function xf(t){return{fieldPath:t.ot()}}function Cf(t){return Oc._t(t.fieldPath)}function Af(t){return cl.create(Cf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Wu()}}(t.fieldFilter.op),t.fieldFilter.value)}function kf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Cf(t.unaryFilter.field);return cl.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Cf(t.unaryFilter.field);return cl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cf(t.unaryFilter.field);return cl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cf(t.unaryFilter.field);return cl.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Wu()}}function jf(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function Nf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Pf=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Rf=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Wu(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),Df=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Pf,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Uf(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=zf(e.target.error);n.qn.reject(new Uf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Uf(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Bu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Hf(e)},t}(),Lf=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(tr.h)())&&Ku("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Bu("SimpleDb","Removing database:",t),Vf(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(tr.h)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Bu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Uf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new ic(rc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Uf(t,n))},i.onupgradeneeded=function(t){Bu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Bu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Yn.b)(this,void 0,void 0,(function(){var i,s,o,a,u;return Object(Yn.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Yn.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=Df.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),Rf.reject(t)})).Mn(),u={},o.catch((function(){})),[4,e.Un];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Bu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ff=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Vf(this.ts.delete())},t}(),Uf=function(t){function e(e,n){var r=this;return(r=t.call(this,rc.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Yn.c)(e,t),e}(ic);function Mf(t){return"IndexedDbTransactionError"===t.name}var Hf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Bu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Bu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Vf(n)},t.prototype.add=function(t){return Bu("SimpleDb","ADD",this.store.name,t,t),Vf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Vf(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Bu("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Bu("SimpleDb","DELETE",this.store.name,t),Vf(this.store.delete(t))},t.prototype.count=function(){return Bu("SimpleDb","COUNT",this.store.name),Vf(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){Bu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Rf((function(n,r){e.onerror=function(t){var e=zf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new Rf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Ff(i),o=e(i.primaryKey,i.value,s);if(o instanceof Rf){var a=o.catch((function(t){return s.done(),Rf.reject(t)}));n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}})).next((function(){return Rf.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Vf(t){return new Rf((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=zf(t.target.error);n(e)}}))}var qf=!1;function zf(t){var e=Lf.Kn(Object(tr.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new ic("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return qf||(qf=!0,setTimeout((function(){throw r}),0)),r}}return t}var Bf=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Pf,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new ic(rc.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Kf(t,e){if(Ku("AsyncQueue",e+": "+t),Mf(t))return new ic(rc.UNAVAILABLE,e+": "+t);throw t}var Gf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$f=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function Wf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Jf(e)),e=Qf(t.get(n),e);return Jf(e)}function Qf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Jf(t){return t+"\x01\x01"}function Xf(t){var e=t.length;if(Qu(e>=2),2===e)return Qu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ec.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Wu(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Wu()}s=o+2}return new Ec(r)}var Zf=function(t,e){this.seconds=t,this.nanoseconds=e},Yf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Yf.store="owner",Yf.key="owner";var td=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};td.store="mutationQueues",td.keyPath="userId";var ed=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ed.store="mutations",ed.keyPath="batchId",ed.userMutationsIndex="userMutationsIndex",ed.userMutationsKeyPath=["userId","batchId"];var nd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Wf(e)]},t.key=function(t,e,n){return[t,Wf(e),n]},t}();nd.store="documentMutations",nd.PLACEHOLDER=new nd;var rd=function(t,e){this.path=t,this.readTime=e},id=function(t,e){this.path=t,this.version=e},sd=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};sd.store="remoteDocuments",sd.readTimeIndex="readTimeIndex",sd.readTimeIndexPath="readTime",sd.collectionReadTimeIndex="collectionReadTimeIndex",sd.collectionReadTimeIndexPath=["parentPath","readTime"];var od=function(t){this.byteSize=t};od.store="remoteDocumentGlobal",od.key="remoteDocumentGlobalKey";var ad=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};ad.store="targets",ad.keyPath="targetId",ad.queryTargetsIndexName="queryTargetsIndex",ad.queryTargetsKeyPath=["canonicalId","targetId"];var ud=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ud.store="targetDocuments",ud.keyPath=["targetId","path"],ud.documentTargetsIndex="documentTargetsIndex",ud.documentTargetsKeyPath=["path","targetId"];var cd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};cd.key="targetGlobalKey",cd.store="targetGlobal";var ld=function(t,e){this.collectionId=t,this.parent=e};ld.store="collectionParents",ld.keyPath=["collectionId","parent"];var hd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};hd.store="clientMetadata",hd.keyPath="clientId";var fd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};fd.store="bundles",fd.keyPath="bundleId";var dd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};dd.store="namedQueries",dd.keyPath="name";var pd=Object(Yn.g)(Object(Yn.g)(Object(Yn.g)(Object(Yn.g)([td.store,ed.store,nd.store,sd.store,ad.store,Yf.store,cd.store,ud.store],[hd.store]),[od.store]),[ld.store]),[fd.store,dd.store]),gd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Yn.c)(e,t),e}($f);function md(t,e){var n=Ju(t);return Lf.Hn(n.bs,e)}var yd=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=uh(s,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=ch(o,e,0,this.Ss));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=ch(o,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Mh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&tc(this.mutations,t.mutations,(function(t,e){return hh(t,e)}))&&tc(this.baseMutations,t.baseMutations,(function(t,e){return hh(t,e)}))},t}(),vd=function(){function t(t,e,n,r){this.batch=t,this.Fs=e,this.Cs=n,this.Os=r}return t.from=function(e,n,r){Qu(e.mutations.length===r.length);for(var i=Fh(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),bd=function(t){this.ks=t};function _d(t,e){if(e.document)return yf(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Tc.Tt(e.noDocument.path),r=Td(e.noDocument.readTime);return new nl(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Tc.Tt(e.unknownDocument.path);return r=Td(e.unknownDocument.version),new rl(i,r)}return Wu()}function wd(t,e,n){var r=Ed(n),i=e.key.path.Z().rt();if(e instanceof el){var s=function(t,e){return{name:lf(t,e.key),fields:e.vt().mapValue.fields,updateTime:rf(t,e.version.G())}}(t.ks,e),o=e.hasCommittedMutations;return new sd(null,null,s,o,r,i)}if(e instanceof nl){var a=e.key.path.rt(),u=Od(e.version);return o=e.hasCommittedMutations,new sd(null,new rd(a,u),null,o,r,i)}if(e instanceof rl){var c=e.key.path.rt(),l=Od(e.version);return new sd(new id(c,l),null,null,!0,r,i)}return Wu()}function Ed(t){var e=t.G();return[e.seconds,e.nanoseconds]}function Sd(t){var e=new bc(t[0],t[1]);return _c.W(e)}function Od(t){var e=t.G();return new Zf(e.seconds,e.nanoseconds)}function Td(t){var e=new bc(t.seconds,t.nanoseconds);return _c.W(e)}function Id(t,e){for(var n=(e.baseMutations||[]).map((function(e){return bf(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map((function(e){return bf(t.ks,e)})),o=bc.fromMillis(e.localWriteTimeMs);return new yd(e.batchId,o,n,s)}function xd(t){var e,n,r=Td(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Td(t.lastLimboFreeSnapshotVersion):_c.min();return void 0!==t.query.documents?(Qu(1===(n=t.query).documents.length),e=Pl(Il(df(n.documents[0])))):e=function(t){return Pl(Ef(t))}(t.query),new Vl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,nc.fromBase64String(t.resumeToken))}function Cd(t,e){var n,r=Od(e.Mt),i=Od(e.lastLimboFreeSnapshotVersion);n=ul(e.target)?_f(t.ks,e.target):wf(t.ks,e.target);var s=e.resumeToken.toBase64();return new ad(e.targetId,ol(e.target),r,s,e.sequenceNumber,i,n)}function Ad(t){var e=Ef({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Rl(e,e.limit,"L"):e}var kd=function(){function t(){}return t.prototype.Ms=function(t,e){return jd(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Td(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return jd(t).put({bundleId:(n=e).id,createTime:Od(af(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Nd(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ad(e.bundledQuery),readTime:Td(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return Nd(t).put(function(t){return{name:t.name,readTime:Od(af(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function jd(t){return md(t,fd.store)}function Nd(t){return md(t,dd.store)}var Pd=function(){function t(){this.qs=new Rd}return t.prototype.Us=function(t,e){return this.qs.add(e),Rf.resolve()},t.prototype.Qs=function(t,e){return Rf.resolve(this.qs.getEntries(e))},t}(),Rd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new Ah(Ec.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ah(Ec.J)).rt()},t}(),Dd=function(){function t(){this.Ks=new Rd}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var s={collectionId:r,parent:Wf(i)};return Ld(t).put(s)}return Rf.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ec(e),""],!1,!0);return Ld(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Xf(s.parent))}return n}))},t}();function Ld(t){return md(t,ld.store)}var Fd={Ws:!1,js:0,Gs:0,zs:0},Ud=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Md(t){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){if(t.code!==rc.FAILED_PRECONDITION||t.message!==Gf)throw t;return Bu("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}Ud.Zs=10,Ud.ti=1e3,Ud.ei=new Ud(41943040,Ud.Zs,Ud.ti),Ud.ni=new Ud(-1,0,0);var Hd=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ii(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){xc(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.nt=function(){return Cc(this.ri)},t}(),Vd=function(){function t(){this.oi=new Hd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:_c.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Rf.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function qd(t,e,n){var r=t.store(ed.store),i=t.store(nd.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){Qu(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=nd.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Rf.$n(s).next((function(){return c}))}function zd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Wu();e=t.noDocument}return JSON.stringify(e).length}var Bd=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Qu(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gd(t).ls({index:ed.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,s=$d(t),o=Gd(t);return o.add({}).next((function(a){Qu("number"==typeof a);for(var u=new yd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return vf(t.ks,e)})),i=n.mutations.map((function(e){return vf(t.ks,e)}));return new ed(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,u),l=[],h=new Ah((function(t,e){return Yu(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],g=nd.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),l.push(o.put(c)),l.push(s.put(g,nd.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[a]=u.keys()})),Rf.$n(l).next((function(){return u}))}))},t.prototype.yi=function(t,e){var n=this;return Gd(t).get(e).next((function(t){return t?(Qu(t.userId===n.userId),Id(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Rf.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Gd(t).ls({index:ed.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Qu(e.batchId>=r),s=Id(n.Kt,e)),i.done()})).next((function(){return s}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Gd(t).ls({index:ed.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gd(t).os(ed.userMutationsIndex,n).next((function(t){return t.map((function(t){return Id(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=nd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return $d(t).ls({range:i},(function(r,i,o){var a=r[0],u=r[2],c=Xf(r[1]);if(a===n.userId&&e.path.isEqual(c))return Gd(t).get(u).next((function(t){if(!t)throw Wu();Qu(t.userId===n.userId),s.push(Id(n.Kt,t))}));o.done()})).next((function(){return s}))},t.prototype.Si=function(t,e){var n=this,r=new Ah(Yu),i=[];return e.forEach((function(e){var s=nd.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=$d(t).ls({range:o},(function(t,i,s){var o=t[0],a=t[2],u=Xf(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),Rf.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,s=nd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ah(Yu);return $d(t).ls({range:o},(function(t,e,s){var o=t[0],u=t[2],c=Xf(t[1]);o===n.userId&&r.st(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Di(t,a)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Gd(t).get(e).next((function(t){if(null===t)throw Wu();Qu(t.userId===n.userId),r.push(Id(n.Kt,t))})))})),Rf.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return qd(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),Rf.forEach(r,(function(e){return n.Ii.Fi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Oi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return Rf.resolve();var r=IDBKeyRange.lowerBound(nd.prefixForUser(e.userId)),i=[];return $d(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Xf(t[1]);i.push(s)}else r.done()})).next((function(){Qu(0===i.length)}))}))},t.prototype.ki=function(t,e){return Kd(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Wd(t).get(this.userId).next((function(t){return t||new td(e.userId,-1,"")}))},t}();function Kd(t,e,n){var r=nd.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return $d(t).ls({range:s,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Gd(t){return md(t,ed.store)}function $d(t){return md(t,nd.store)}function Wd(t){return md(t,td.store)}var Qd=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Jd=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new Qd(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return _c.W(new bc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Wi=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ji=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return Xd(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return Qu(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return Xd(t).ls((function(o,a){var u=xd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Yi(t,u)))})).next((function(){return Rf.$n(s)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Xd(t).ls((function(t,n){var r=xd(n);e(r)}))},t.prototype.Ui=function(t){return Zd(t).get(cd.key).next((function(t){return Qu(null!==t),t}))},t.prototype.Qi=function(t,e){return Zd(t).put(cd.key,e)},t.prototype.zi=function(t,e){return Xd(t).put(Cd(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=ol(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Xd(t).ls({range:r,index:ad.queryTargetsIndexName},(function(t,n,r){var s=xd(n);al(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],s=Yd(t);return e.forEach((function(e){var o=Wf(e.path);i.push(s.put(new ud(n,o))),i.push(r.Ii.sr(t,n,e))})),Rf.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Yd(t);return Rf.forEach(e,(function(e){var s=Wf(e.path);return Rf.$n([i.delete([n,s]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=Yd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Yd(t),i=Mh();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Xf(t[1]),s=new Tc(r);i=i.add(s)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=Wf(e.path),r=IDBKeyRange.bound([n],[ec(n)],!1,!0),i=0;return Yd(t).ls({index:ud.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Xd(t).get(e).next((function(t){return t?xd(t):null}))},t}();function Xd(t){return md(t,ad.store)}function Zd(t){return md(t,cd.store)}function Yd(t){return md(t,ud.store)}function tp(t,e){var n=t[1],r=e[1],i=Yu(t[0],e[0]);return 0===i?Yu(n,r):i}var ep=function(){function t(t){this.ar=t,this.buffer=new Ah(tp),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();tp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),np=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Bu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object(Yn.b)(e,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Mf(e=n.sent())?(Bu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Md(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),rp=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return Rf.resolve(vc.U);var r=new ep(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Bu("LruGarbageCollector","Garbage collection skipped; disabled"),Rf.resolve(Fd)):this.br(t).next((function(r){return r<n.params.Hs?(Bu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),Fd):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>c.params.Ys?(Bu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,s=Date.now(),c.yr(t,r)})).next((function(r){return n=r,o=Date.now(),c.Zi(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.Vr(t,n)})).next((function(t){return u=Date.now(),zu()<=Vi.a.DEBUG&&Bu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Rf.resolve({Ws:!0,js:r,Gs:i,zs:t})}))},t}(),ip=function(){function t(t,e){this.db=t,this._r=function(t,e){return new rp(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return sp(t,n)},t.prototype.rr=function(t,e,n){return sp(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Fi=function(t,e){return sp(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Wd(t)._s((function(r){return Kd(t,r,e).next((function(t){return t&&(n=!0),Rf.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Or().Fr(),i=[],s=0;return this.Cr(t,(function(o,a){if(a<=e){var u=n.Nr(t,o).next((function(e){if(!e)return s++,r.fi(t,o).next((function(){return r._i(o),Yd(t).delete([0,Wf(o.path)])}))}));i.push(u)}})).next((function(){return Rf.$n(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return sp(t,e)},t.prototype.Cr=function(t,e){var n,r=Yd(t),i=vc.U;return r.ls({index:ud.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==vc.U&&e(new Tc(Xf(n)),i),i=o,n=s):i=vc.U})).next((function(){i!==vc.U&&e(new Tc(Xf(n)),i)}))},t.prototype.br=function(t){return this.db.Or().Mr(t)},t}();function sp(t,e){return Yd(t).put(function(t,e){return new ud(0,Wf(t.path),e)}(e,t.vs))}var op=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return cp(t).put(lp(e),n)},t.prototype._i=function(t,e){var n=cp(t),r=lp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return cp(t).get(lp(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return cp(t).get(lp(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:zd(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ph();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=Ph(),i=new Ih(Tc.J);return this.qr(t,e,(function(t,e){var s=n.$r(e);s?(r=r.Ht(t,s),i=i.Ht(t,zd(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return Rf.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return cp(t).ls({range:r},(function(t,e,r){for(var o=Tc.Tt(t);s&&Tc.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()})).next((function(){for(;s;)n(s,null),s=i.ae()?i.ce():null}))},t.prototype.Wr=function(t,e,n){var r=this,i=Dh(),s=e.path.length+1,o={};if(n.isEqual(_c.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),c=Ed(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=sd.collectionReadTimeIndex}return cp(t).ls(o,(function(t,n,o){if(t.length===s){var a=_d(r.Kt,n);e.path.st(a.key.path)?a instanceof el&&Ul(e,a)&&(i=i.Ht(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.Fr=function(t){return new ap(this,!!t&&t.jr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return up(t).get(od.key).next((function(t){return Qu(!!t),t}))},t.prototype.Lr=function(t,e){return up(t).put(od.key,e)},t.prototype.$r=function(t){if(t){var e=_d(this.Kt,t);return e instanceof nl&&e.version.isEqual(_c.min())?null:e}return null},t}(),ap=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.jr=n,r.zr=new Hd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Yn.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new Ah((function(t,e){return Yu(t.ot(),e.ot())}));return this.oi.forEach((function(s,o){var a=e.zr.get(s);if(o.li){var u=wd(e.Gr.Kt,o.li,e.ai(s));i=i.add(s.path.Z());var c=zd(u);r+=c-a,n.push(e.Gr.ui(t,s,u))}else if(r-=a,e.jr){var l=wd(e.Gr.Kt,new nl(s,_c.min()),e.ai(s));n.push(e.Gr.ui(t,s,l))}else n.push(e.Gr._i(t,s))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),Rf.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(Vd);function up(t){return md(t,od.store)}function cp(t){return md(t,sd.store)}function lp(t){return t.path.rt()}var hp=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Qu(n<r&&n>=0&&r<=11);var s=new Df("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Yf.store)}(t),function(t){t.createObjectStore(td.store,{keyPath:td.keyPath}),t.createObjectStore(ed.store,{keyPath:ed.keyPath,autoIncrement:!0}).createIndex(ed.userMutationsIndex,ed.userMutationsKeyPath,{unique:!0}),t.createObjectStore(nd.store)}(t),fp(t),function(t){t.createObjectStore(sd.store)}(t));var o=Rf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ud.store),t.deleteObjectStore(ad.store),t.deleteObjectStore(cd.store)}(t),fp(t)),o=o.next((function(){return function(t){var e=t.store(cd.store),n=new cd(0,0,_c.min().G(),0);return e.put(cd.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(ed.store).os().next((function(n){t.deleteObjectStore(ed.store),t.createObjectStore(ed.store,{keyPath:ed.keyPath,autoIncrement:!0}).createIndex(ed.userMutationsIndex,ed.userMutationsKeyPath,{unique:!0});var r=e.store(ed.store),i=n.map((function(t){return r.put(t)}));return Rf.$n(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(hd.store,{keyPath:hd.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.Hr(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(od.store)}(t),i.Jr(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.Yr(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.Xr(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sd.store);e.createIndex(sd.readTimeIndex,sd.readTimeIndexPath,{unique:!1}),e.createIndex(sd.collectionReadTimeIndex,sd.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Zr(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(fd.store,{keyPath:fd.keyPath})}(t),function(t){t.createObjectStore(dd.store,{keyPath:dd.keyPath})}(t)}))),o},t.prototype.Jr=function(t){var e=0;return t.store(sd.store).ls((function(t,n){e+=zd(n)})).next((function(){var n=new od(e);return t.store(od.store).put(od.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(td.store),r=t.store(ed.store);return n.os().next((function(n){return Rf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(ed.userMutationsIndex,i).next((function(r){return Rf.forEach(r,(function(r){Qu(r.userId===n.userId);var i=Id(e.Kt,r);return qd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(ud.store),n=t.store(sd.store);return t.store(cd.store).get(cd.key).next((function(t){var r=[];return n.ls((function(n,i){var s=new Ec(n),o=function(t){return[0,Wf(t)]}(s);r.push(e.get(o).next((function(n){return n?Rf.resolve():function(n){return e.put(new ud(0,Wf(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Rf.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(ld.store,{keyPath:ld.keyPath});var n=e.store(ld.store),r=new Rd,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Wf(i)})}};return e.store(sd.store).ls({hs:!0},(function(t,e){var n=new Ec(t);return i(n.Z())})).next((function(){return e.store(nd.store).ls({hs:!0},(function(t,e){var n=Xf(t[1]);return i(n.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(ad.store);return n.ls((function(t,r){var i=xd(r),s=Cd(e.Kt,i);return n.put(s)}))},t}();function fp(t){t.createObjectStore(ud.store,{keyPath:ud.keyPath}).createIndex(ud.documentTargetsIndex,ud.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ad.store,{keyPath:ad.keyPath}).createIndex(ad.queryTargetsIndexName,ad.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(cd.store)}var dp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pp=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=s,this.window=o,this.document=a,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.Wn())throw new ic(rc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new ip(this,i),this.lo=n+"main",this.Kt=new bd(u),this._o=new Lf(this.lo,11,new hp(this.Kt)),this.fo=new Jd(this.Ii,this.Kt),this.Ti=new Dd,this.wo=function(t,e){return new op(t,e)}(this.Kt,this.Ti),this.Eo=new kd,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&Ku("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ic(rc.FAILED_PRECONDITION,dp);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.Wi(e)}))})).then((function(e){t.io=new vc(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Yn.b)(e,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object(Yn.b)(e,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object(Yn.b)(e,void 0,void 0,(function(){return Object(Yn.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return mp(e).put(new hd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(Mf(e))return Bu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Bu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return gp(t).get(Yf.key).next((function(t){return Rf.resolve(e.Co(t))}))},t.prototype.xo=function(t){return mp(t).delete(this.clientId)},t.prototype.No=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=md(t,hd.store);return e.os().next((function(t){var n=r.Oo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return Rf.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Rf.resolve(!0):gp(t).get(Yf.key).next((function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new ic(rc.FAILED_PRECONDITION,dp);return!1}}return!(!e.networkEnabled||!e.inForeground)||mp(t).os().next((function(t){return void 0===e.Oo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Bu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t=this;return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Yf.store,hd.store],(function(e){var n=new gd(e,vc.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Oo=function(t,e){var n=this;return t.filter((function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return mp(e).os().next((function(e){return t.Oo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Bd.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.Wo=function(){return this.Ti},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Bu("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",pd,(function(s){return r=new gd(s,i.io?i.io.next():vc.U),"readwrite-primary"===e?i.po(r).next((function(t){return!!t||i.vo(r)})).next((function(e){if(!e)throw Ku("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo((function(){return i.ho(!1)})),new ic(rc.FAILED_PRECONDITION,Gf);return n(r)})).next((function(t){return i.Do(r).next((function(){return t}))})):i.Go(r).next((function(){return n(r)}))})).then((function(t){return r.ps(),t}))},t.prototype.Go=function(t){var e=this;return gp(t).get(Yf.key).next((function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new ic(rc.FAILED_PRECONDITION,dp)}))},t.prototype.Do=function(t){var e=new Yf(this.clientId,this.allowTabSynchronization,Date.now());return gp(t).put(Yf.key,e)},t.Wn=function(){return Lf.Wn()},t.prototype.So=function(t){var e=this,n=gp(t);return n.get(Yf.key).next((function(t){return e.Co(t)?(Bu("IndexedDbPersistence","Releasing primary lease."),n.delete(Yf.key)):Rf.resolve()}))},t.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ku("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Bu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ku("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Ku("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function gp(t){return md(t,Yf.store)}function mp(t){return md(t,hd.store)}function yp(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var vp=function(t,e){this.progress=t,this.zo=e},bp=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=Ph();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),s=Nh();return i.forEach((function(t,e){e||(e=new nl(t,_c.min())),s=s.Ht(t,e)})),s}))},t.prototype.Wr=function(t,e,n){return function(t){return Tc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):jl(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new Tc(e)).next((function(t){var e=Dh();return t instanceof el&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=Dh();return this.Ti.Qs(t,i).next((function(o){return Rf.forEach(o,(function(o){var a=function(t,e){return new Ol(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next((function(t){t.forEach((function(t,e){s=s.Ht(t,e)}))}))})).next((function(){return s}))}))},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.wo.Wr(t,e,n).next((function(n){return r=n,s.Ho.Ci(t,e)})).next((function(e){return s.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=ch(u,r.get(c),0,s.Ss);r=l instanceof el?r.Ht(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Ul(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Mh(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof ph&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof el&&(c=c.Ht(t,e))})),c}))},t}(),_p=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Mh(),i=Mh(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),wp=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.Wr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(_c.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(s){var o=i.lc(e,s);return(xl(e)||Cl(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(zu()<=Vi.a.DEBUG&&Bu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Fl(e)),i.uc.Wr(t,e,n).next((function(t){return o.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new Ah(Ml(t));return e.forEach((function(e,r){r instanceof el&&Ul(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return zu()<=Vi.a.DEBUG&&Bu("QueryEngine","Using full collection scan to execute query:",Fl(e)),this.uc.Wr(t,e,_c.min())},t}(),Ep=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new Ih(Yu),this.wc=new Hd((function(t){return ol(t)}),al),this.Ec=_c.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new bp(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function Sp(t,e,n,r){return new Ep(t,e,n,r)}function Op(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Yn.d)(this,(function(o){switch(o.label){case 0:return n=Ju(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n.Ho.bi(t).next((function(o){return s=o,r=n.persistence.Ko(e),i=new bp(n.Tc,r,n.persistence.Wo()),r.bi(t)})).next((function(e){for(var n=[],r=[],o=Mh(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.Zo(t,o).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}}))}))}function Tp(t,e){var n=Ju(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Fr({jr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Rf.resolve();return s.forEach((function(t){o=o.next((function(){return r.fi(e,t)})).next((function(e){var s=e,o=n.Os.get(t);Qu(null!==o),(!s||s.version.u(o)<0)&&(s=i.Ds(t,s,n))&&r.ui(s,n.Fs)}))})),o.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Oi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function Ip(t){var e=Ju(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function xp(t,e){var n=Ju(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Tc.Fr({jr:!0});i=n.dc;var o=[];e.Oe.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.fo.ir(t,e.Ke,s).next((function(){return n.fo.nr(t,e.Ue,s)})));var u=e.resumeToken;if(u.o()>0){var c=a.$t(u,r).Lt(t.vs);i=i.Ht(s,c),function(t,e,n){return Qu(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,c,e)&&o.push(n.fo.Ji(t,c))}}}));var a=Nh();if(e.Me.forEach((function(r,i){e.Le.has(r)&&o.push(n.persistence.Ii.kr(t,r))})),o.push(Cp(t,s,e.Me,r,void 0).next((function(t){a=t}))),!r.isEqual(_c.min())){var u=n.fo.Ki(t).next((function(e){return n.fo.ji(t,t.vs,r)}));o.push(u)}return Rf.$n(o).next((function(){return s.apply(t)})).next((function(){return n.Ic.tc(t,a)}))})).then((function(t){return n.dc=i,t}))}function Cp(t,e,n,r,i){var s=Mh();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var s=Nh();return n.forEach((function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof nl&&o.version.isEqual(_c.min())?(e._i(n,u),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.ui(o,u),s=s.Ht(n,o)):Bu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function Ap(t,e){var n=Ju(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function kp(t,e){var n=Ju(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?Rf.resolve(r=i):n.fo.qi(t).next((function(i){return r=new Vl(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function jp(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Yn.d)(this,(function(a){switch(a.label){case 0:r=Ju(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Mf(o=a.sent()))throw o;return Bu("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function Np(t,e,n){var r=Ju(t),i=_c.min(),s=Mh();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Ju(t),i=r.wc.get(n);return void 0!==i?Rf.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Pl(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.fc.Wr(t,e,n?i:_c.min(),n?s:Mh())})).next((function(t){return{documents:t,Pc:s}}))}))}function Pp(t,e){var n=Ju(t),r=Ju(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function Rp(t){var e=Ju(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Ju(t),i=Nh(),s=Ed(n),o=cp(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:sd.readTimeIndex,range:a},(function(t,e){var n=_d(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime})).next((function(){return{zo:i,readTime:Sd(s)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo;return e.Ec=t.readTime,n}))}function Dp(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){return[2,(e=Ju(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=cp(t),n=_c.min();return e.ls({index:sd.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Sd(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function Lp(t,e,n,r){return Object(Yn.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c,l,h,f,d;return Object(Yn.d)(this,(function(p){switch(p.label){case 0:for(i=Ju(t),s=Mh(),o=Nh(),a=Fh(),u=0,c=n;u<c.length;u++)h=e.yc((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.Ht(h,e.gc(l)),a=a.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Fr({jr:!0}),[4,kp(i,function(t){return Pl(Il(Ec.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Cp(t,f,o,_c.min(),a).next((function(e){return f.apply(t),e})).next((function(e){return i.fo.Xi(t,d.targetId).next((function(){return i.fo.nr(t,s,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function Fp(t,e,n){return void 0===n&&(n=Mh()),Object(Yn.b)(this,void 0,void 0,(function(){var r,i;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return[4,kp(t,Pl(Ad(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Ju(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var s=af(e.readTime);if(r.Mt.u(s)>=0)return i.Eo.Bs(t,e);var o=r.$t(nc.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.fo.Ji(t,o).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var Up=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Rf.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:af(n.createTime)}),Rf.resolve()},t.prototype.$s=function(t,e){return Rf.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Ad(t.bundledQuery),readTime:af(t.readTime)}}(e)),Rf.resolve()},t}(),Mp=function(){function t(){this.Sc=new Ah(Hp.Dc),this.Cc=new Ah(Hp.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Hp(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Fc(new Hp(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new Tc(new Ec([])),r=new Hp(n,t),i=new Hp(n,t+1),s=[];return this.Cc.Ae([r,i],(function(t){e.Fc(t),s.push(t.key)})),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Fc(e)}))},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new Tc(new Ec([])),n=new Hp(e,t),r=new Hp(e,t+1),i=Mh();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new Hp(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Hp=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return Tc.J(t.key,e.key)||Yu(t.$c,e.$c)},t.xc=function(t,e){return Yu(t.$c,e.$c)||Tc.J(t.key,e.key)},t}(),Vp=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new Ah(Hp.Dc)}return t.prototype.Ri=function(t){return Rf.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new yd(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.qc=this.qc.add(new Hp(u.key,i)),this.Ti.Us(t,u.key.path.Z())}return Rf.resolve(s)},t.prototype.yi=function(t,e){return Rf.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Rf.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Rf.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Rf.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Hp(e,0),i=new Hp(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);s.push(e)})),Rf.resolve(s)},t.prototype.Si=function(t,e){var n=this,r=new Ah(Yu);return e.forEach((function(t){var e=new Hp(t,0),i=new Hp(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),Rf.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;Tc.Et(i)||(i=i.child(""));var s=new Hp(new Tc(i),0),o=new Ah(Yu);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)}),s),Rf.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;Qu(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Rf.forEach(e.mutations,(function(i){var s=new Hp(i.key,e.batchId);return r=r.delete(s),n.Ii.Fi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Hp(e,0),r=this.qc.Pe(n);return Rf.resolve(e.isEqual(r&&r.key))},t.prototype.Oi=function(t){return Rf.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),qp=function(){function t(t,e){this.Ti=t,this.jc=e,this.docs=new Ih(Tc.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.jc(e);return this.docs=this.docs.Ht(r,{li:e,size:o,readTime:n}),this.size+=o-s,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Rf.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ph();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),Rf.resolve(r)},t.prototype.Wr=function(t,e,n){for(var r=Dh(),i=new Tc(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,u=a.li,c=a.readTime;if(!e.path.st(o.key.path))break;c.u(n)<=0||u instanceof el&&Ul(e,u)&&(r=r.Ht(u.key,u))}return Rf.resolve(r)},t.prototype.Gc=function(t,e){return Rf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Fr=function(t){return new zp(this)},t.prototype.Mr=function(t){return Rf.resolve(this.size)},t}(),zp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Yn.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),Rf.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Vd),Bp=function(){function t(t){this.persistence=t,this.zc=new Hd((function(t){return ol(t)}),al),this.lastRemoteSnapshotVersion=_c.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Mp,this.targetCount=0,this.Yc=Qd.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),Rf.resolve()},t.prototype.Ki=function(t){return Rf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Wi=function(t){return Rf.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Rf.resolve(this.highestTargetId)},t.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Rf.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Qd(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Rf.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Rf.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Rf.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Xi(t,a.targetId)),i++)})),Rf.$n(s).next((function(){return i}))},t.prototype.tr=function(t){return Rf.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Rf.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Rf.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Fi(t,e))})),Rf.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Rf.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Rf.resolve(n)},t.prototype.ki=function(t,e){return Rf.resolve(this.Jc.ki(e))},t}(),Kp=function(){function t(t,e){var n=this;this.Xc={},this.io=new vc(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Bp(this),this.Ti=new Pd,this.wo=function(t,e){return new qp(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new bd(e),this.Eo=new Up(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.Wo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Vp(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Bu("MemoryPersistence","Starting transaction:",t);var i=new Gp(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return Rf.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),Gp=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Yn.c)(e,t),e}($f),$p=function(){function t(t){this.persistence=t,this.sa=new Mp,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Wu()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Rf.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Rf.resolve()},t.prototype.Fi=function(t,e){return this.oa.add(e.toString()),Rf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return Rf.forEach(this.oa,(function(r){var i=Tc.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Rf.Bn([function(){return Rf.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Wp(t,e){return"firestore_clients_"+t+"_"+e}function Qp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Jp(t,e){return"firestore_targets_"+t+"_"+e}var Xp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new ic(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(Ku("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Zp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new ic(r.error.code,r.error.message)),i?new t(e,r.state,s):(Ku("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Vh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Uc(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Ku("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),tg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ku("SharedClientState","Failed to parse online state: "+e),null)},t}(),eg=function(){function t(){this.activeTargetIds=Vh()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ng=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new Ih(Yu),this.Tr=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Wp(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new eg),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Yn.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Wp(this.persistenceKey,r)))&&(s=Yp.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),u=0,c=this.Ia;u<c.length;u++)this.Ea(c[u]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Jp(this.persistenceKey,t));if(n){var r=Zp.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Jp(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Oa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Bu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Bu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Bu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Bu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Ku("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object(Yn.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(Yn.d)(this,(function(a){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=vc.U;if(null!=t)try{var n=JSON.parse(t);Qu("number"==typeof n),e=n}catch(t){Ku("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==vc.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Xp(this.currentUser,t,e,n),i=Qp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Qp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Jp(this.persistenceKey,t),i=new Zp(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Yp.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Xp.aa(new fc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Zp.aa(r,e)},t.prototype.ba=function(t){return tg.aa(t)},t.prototype.Xa=function(t){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Bu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.fa.iu(o,a).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Vh();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),rg=function(){function t(){this.ru=new eg,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new eg,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),ig=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),sg=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Bu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Bu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),og={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ag=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),ug=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Yn.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,s){var o=new Vu;o.listenOnce(Uu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Fu.NO_ERROR:var e=o.getResponseJson();Bu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Fu.TIMEOUT:Bu("Connection",'RPC "'+t+'" timed out'),s(new ic(rc.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:var n=o.getStatus();if(Bu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(rc).indexOf(e)>=0?e:rc.UNKNOWN}(r.status);s(new ic(a,r.message))}else s(new ic(rc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ic(rc.UNAVAILABLE,"Connection failed."));break;default:Wu()}}finally{Bu("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Nu,i=Do(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(tr.m)()||Object(tr.o)()||Object(tr.k)()||Object(tr.l)()||Object(tr.p)()||Object(tr.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Bu("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new ag({du:function(t){c?Bu("Connection","Not sending because WebChannel is closed:",t):(u||(Bu("Connection","Opening WebChannel transport."),a.open(),u=!0),Bu("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Hu.EventType.OPEN,(function(){c||Bu("Connection","WebChannel transport opened.")})),h(a,Hu.EventType.CLOSE,(function(){c||(c=!0,Bu("Connection","WebChannel transport closed"),l.Pu())})),h(a,Hu.EventType.ERROR,(function(t){c||(c=!0,Gu("Connection","WebChannel transport errored:",t),l.Pu(new ic(rc.UNAVAILABLE,"The operation could not be completed")))})),h(a,Hu.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Qu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Bu("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=bh[t];if(void 0!==e)return Th(e)}(i),o=r.message;void 0===s&&(s=rc.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new ic(s,o)),a.close()}else Bu("Connection","WebChannel received:",n),l.yu(n)}})),h(i,Mu.STAT_EVENT,(function(t){10===t.stat?Bu("Connection","Detected buffering proxy"):11===t.stat&&Bu("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Bu("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then((function(t){return Bu("RestConnection","Received: ",t),t}),(function(e){throw Gu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.5",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+og[t]},t}());function cg(){return"undefined"!=typeof window?window:null}function lg(){return"undefined"!=typeof document?document:null}function hg(t){return new nf(t,!0)}var fg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Bu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),dg=function(){function t(t,e,n,r,i,s){this.eo=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=s,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new fg(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===rc.RESOURCE_EXHAUSTED?(Ku(e.toString()),Ku("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===rc.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then((function(e){t.ju===n&&t.rh(e)}),(function(n){e((function(){var e=new ic(rc.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(Yn.b)(t,void 0,void 0,(function(){return Object(Yn.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Bu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.ju===t?n():(Bu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),pg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object(Yn.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Wu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(Qu(void 0===e||"string"==typeof e),nc.fromBase64String(e||"")):(Qu(void 0===e||e instanceof Uint8Array),nc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?rc.UNKNOWN:Th(t.code);return new ic(e,t.message||"")}(a);n=new Qh(r,i,s,o||null)}else if("documentChange"in e){i=hf(t,(r=e.documentChange).document.name),s=af(r.document.updateTime);var a=new Xc({mapValue:{fields:r.document.fields}}),u=(o=new el(i,s,a,{}),r.targetIds||[]);n=new $h(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=hf(t,(r=e.documentDelete).document),s=r.readTime?af(r.readTime):_c.min(),a=new nl(i,s),n=new $h([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=hf(t,(r=e.documentRemove).document),n=new $h([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Wu();var c=e.filter;i=new Sh(r=c.count||0),n=new Wh(s=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return _c.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?_c.min():e.readTime?af(e.readTime):_c.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=pf(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=ul(r)?{documents:_f(t,r)}:{query:wf(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=sf(t,e.resumeToken):e.Mt.u(_c.min())>0&&(n.readTime=rf(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wu()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=pf(this.Kt),e.removeTarget=t,this.eh(e)},e}(dg),gg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object(Yn.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Qu(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Qu(void 0!==e),t.map((function(t){return function(t,e){var n=af(t.updateTime?t.updateTime:e);n.isEqual(_c.min())&&(n=af(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ih(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=af(t.commitTime);return this.listener.wh(n,e)}return Qu(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=pf(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return vf(e.Kt,t)}))};this.eh(n)},e}(dg),mg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Yn.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new ic(rc.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===rc.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===rc.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),yg=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Ku(e),this.Ph=!1):Bu("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),vg=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(Yn.b)(s,void 0,void 0,(function(){return Object(Yn.d)(this,(function(t){switch(t.label){case 0:return xg(this)?(Bu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return(e=Ju(t)).Fh.add(4),[4,_g(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,bg(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new yg(n,r)};function bg(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e,n;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:if(!xg(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function _g(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e,n;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function wg(t,e){var n=Ju(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),Ig(n)?Tg(n):qg(n).Ju()&&Sg(n,e))}function Eg(t,e){var n=Ju(t),r=qg(n);n.Nh.delete(e),r.Ju()&&Og(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():xg(n)&&n.Mh.set("Unknown"))}function Sg(t,e){t.Lh.cn(e.targetId),qg(t).hh(e)}function Og(t,e){t.Lh.cn(e),qg(t).lh(e)}function Tg(t){t.Lh=new Xh({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),qg(t).start(),t.Mh.yh()}function Ig(t){return xg(t)&&!qg(t).Hu()&&t.Nh.size>0}function xg(t){return 0===Ju(t).Fh.size}function Cg(t){t.Lh=void 0}function Ag(t){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){return t.Nh.forEach((function(e,n){Sg(t,e)})),[2]}))}))}function kg(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(n){return Cg(t),Ig(t)?(t.Mh.ph(e),Tg(t)):t.Mh.set("Unknown"),[2]}))}))}function jg(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r,i,s;return Object(Yn.d)(this,(function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof Qh&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Yn.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Bu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Ng(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof $h?t.Lh.wn(e):e instanceof Wh?t.Lh.yn(e):t.Lh.In(e),n.isEqual(_c.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Ip(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(nc.h,n.Mt)),Og(t,e);var r=new Vl(n.target,e,1,n.sequenceNumber);Sg(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Bu("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Ng(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function Ng(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r=this;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:if(!Mf(e))throw e;return t.Fh.add(1),[4,_g(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return Ip(t.Sh)}),t.fs.bo((function(){return Object(Yn.b)(r,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return Bu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,bg(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Pg(t,e){return e().catch((function(n){return Ng(t,n,e)}))}function Rg(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(Yn.d)(this,(function(o){switch(o.label){case 0:e=Ju(t),n=zg(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return xg(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Ap(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=zg(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Ng(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Dg(e)&&Lg(e),[2]}}))}))}function Dg(t){return xg(t)&&!zg(t).Hu()&&t.xh.length>0}function Lg(t){zg(t).start()}function Fg(t){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){return zg(t).Th(),[2]}))}))}function Ug(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Yn.d)(this,(function(i){for(e=zg(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function Mg(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r,i;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return r=t.xh.shift(),i=vd.from(r,e,n),[4,Pg(t,(function(){return t.Ch.qh(i)}))];case 1:return s.sent(),[4,Rg(t)];case 2:return s.sent(),[2]}}))}))}function Hg(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return e&&zg(t).fh?[4,function(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return Oh(r=e.code)&&r!==rc.ABORTED?(n=t.xh.shift(),zg(t).Xu(),[4,Pg(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Rg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Dg(t)&&Lg(t),[2]}}))}))}function Vg(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return n=Ju(t),e?(n.Fh.delete(2),[4,bg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,_g(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function qg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Ju(t);return r.mh(),new pg(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Ag.bind(null,t),Iu:kg.bind(null,t),uh:jg.bind(null,t)}),t.Oh.push((function(n){return Object(Yn.b)(e,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),Ig(t)?Tg(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),Cg(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function zg(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Ju(t);return r.mh(),new gg(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Fg.bind(null,t),Iu:Hg.bind(null,t),Eh:Ug.bind(null,t),wh:Mg.bind(null,t)}),t.Oh.push((function(n){return Object(Yn.b)(e,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Rg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Bu("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Bg=function(){this.Wh=void 0,this.listeners=[]},Kg=function(){this.queries=new Hd((function(t){return Ll(t)}),Dl),this.onlineState="Unknown",this.jh=new Set};function Gg(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(Yn.d)(this,(function(c){switch(c.label){case 0:if(n=Ju(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Bg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.Wh=c.sent(),[3,4];case 3:return a=c.sent(),u=Kf(a,"Initialization of query '"+Fl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.Wh&&e.Hh(s.Wh)&&Jg(n),[2]}}))}))}function $g(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Yn.d)(this,(function(a){return n=Ju(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function Wg(t,e){for(var n=Ju(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hh(o)&&(r=!0);a.Wh=o}}r&&Jg(n)}function Qg(t,e,n){var r=Ju(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Jg(t){t.jh.forEach((function(t){t.next()}))}var Xg=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Bh(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Bh.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Zg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Yg=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return hf(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?yf(this.Kt,t.document,!1):new nl(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return af(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Yg(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Mh()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return[4,Lp(this.Sh,new Yg(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Fp(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new vp(Object.assign({},this.progress),t))]}}))}))}}();var tm=function(t){this.key=t},em=function(t){this.key=t},nm=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Mh(),this.Ce=Mh(),this.ll=Ml(t),this._l=new qh(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new zh,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,u=xl(this.query)&&i.size===this.query.limit?i.last():null,c=Cl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof el?e:null;h&&(h=Ul(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||c&&n.ll(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),xl(this.query)||Cl(this.query))for(;o.size>this.query.limit;){var l=xl(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wu()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==s.length||u?{snapshot:new Bh(this.query,t._l,i,s,t.Ce,0===a,u,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new zh,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Mh(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new em(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new tm(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Mh();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Bh.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),rm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},im=function(t){this.key=t,this.yl=!1},sm=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new Hd((function(t){return Ll(t)}),Dl),this.Dl=new Map,this.Cl=[],this.xl=new Ih(Tc.J),this.Nl=new Map,this.Fl=new Mp,this.Ol={},this.kl=new Map,this.Ml=Qd.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function om(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Yn.d)(this,(function(a){switch(a.label){case 0:return n=Dm(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,kp(n.Sh,Pl(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,am(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&wg(n.gl,s),a.label=4;case 4:return[2,r]}}))}))}function am(t,e,n,r){return Object(Yn.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(Yn.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Yn.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Yn.d)(this,(function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,Np(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Oe.get(e.targetId),o=e.view.Ei(i,t.$l,s),[2,(_m(t,e.targetId,o.ml),o.snapshot)]}}))}))}(t,e,n,r)},[4,Np(t.Sh,e,!0)];case 1:return i=l.sent(),s=new nm(e,i.Pc),o=s.dl(i.documents),a=Gh.Be(n,r&&"Offline"!==t.onlineState),u=s.Ei(o,t.$l,a),_m(t,n,u.ml),c=new rm(e,n,s),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}}))}))}function um(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return n=Ju(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!Dl(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,jp(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),Eg(n.gl,r.targetId),vm(n,r.targetId)})).catch(Md)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return vm(n,r.targetId),[4,jp(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function cm(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Yn.d)(this,(function(a){switch(a.label){case 0:r=Lm(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ju(t),i=bc.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Mh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=lh(c,n.get(c.key));null!=l&&o.push(new ph(c.key,l,Yc(l.proto.mapValue),sh.exists(!0)))}return r.Ho.Pi(t,i,o,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new Ih(Yu)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,Sm(r,i.oi)];case 3:return a.sent(),[4,Rg(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Kf(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function lm(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:n=Ju(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,xp(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Qu(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Qu(r.yl):t.Ke.size>0&&(Qu(r.yl),r.yl=!1))})),[4,Sm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Md(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function hm(t,e,n){var r=Ju(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Ju(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)})),r&&Jg(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function fm(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(Yn.d)(this,(function(c){switch(c.label){case 0:return(r=Ju(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new Ih(Tc.J)).Ht(s,new nl(s,_c.min())),a=Mh().add(s),u=new Kh(_c.min(),new Map,new Ah(Yu),o,a),[4,lm(r,u)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),Em(r),[3,4];case 2:return[4,jp(r.Sh,e,!1).then((function(){return vm(r,e,n)})).catch(Md)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function dm(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:n=Ju(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Tp(n.Sh,e)];case 2:return i=s.sent(),ym(n,r,null),mm(n,r),n.pl.Fa(r,"acknowledged"),[4,Sm(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Md(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function pm(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r,i;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:r=Ju(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Ju(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return Qu(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Oi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=s.sent(),ym(r,e,n),mm(r,e),r.pl.Fa(e,"rejected",n),[4,Sm(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Md(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function gm(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Yn.d)(this,(function(a){switch(a.label){case 0:xg((n=Ju(t)).gl)||Bu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Ju(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=Kf(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function mm(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function ym(t,e,n){var r=Ju(t),i=r.Ol[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function vm(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach((function(e){t.Fl.ki(e)||bm(t,e)}))}function bm(t,e){var n=t.xl.get(e);null!==n&&(Eg(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),Em(t))}function _m(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof tm?(t.Fl.sr(s.key,e),wm(t,s)):s instanceof em?(Bu("SyncEngine","Document no longer in limbo: "+s.key),t.Fl.rr(s.key,e),t.Fl.ki(s.key)||bm(t,s.key)):Wu()}}function wm(t,e){var n=e.key;t.xl.get(n)||(Bu("SyncEngine","New document in limbo: "+n),t.Cl.push(n),Em(t))}function Em(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new im(e)),t.xl=t.xl.Ht(e,n),wg(t.gl,new Vl(Pl(Il(e.path)),n,2,vc.U))}}function Sm(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Yn.d)(this,(function(a){switch(a.label){case 0:return r=Ju(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,a){o.push(r.Bl(a,e,n).then((function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=_p.cc(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c;return Object(Yn.d)(this,(function(l){switch(l.label){case 0:n=Ju(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Rf.forEach(e,(function(e){return Rf.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return Rf.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Mf(r=l.sent()))throw r;return Bu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.dc.get(a),c=u.Bt(u.Mt),n.dc=n.dc.Ht(a,c));return[2]}}))}))}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Om(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return(n=Ju(t)).currentUser.isEqual(e)?[3,3]:(Bu("SyncEngine","User change. New user:",e.R()),[4,Op(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new ic(rc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,Sm(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Tm(t,e){var n=Ju(t),r=n.Nl.get(e);if(r&&r.yl)return Mh().add(r.key);var i=Mh(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Sl.get(a[o]);i=i.ye(u.view.fl)}return i}function Im(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return[4,Np((n=Ju(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&_m(n,e.targetId,i.ml),i)]}}))}))}function xm(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){return[2,Rp((e=Ju(t)).Sh).then((function(t){return Sm(e,t)}))]}))}))}function Cm(t,e,n,r){return Object(Yn.b)(this,void 0,void 0,(function(){var i,s;return Object(Yn.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=Ju(t),r=Ju(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):Rf.resolve(null)}))}))}((i=Ju(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Rg(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ym(i,e,r||null),mm(i,e),function(t,e){Ju(Ju(t).Ho).Ni(e)}(i.Sh,e)):Wu(),o.label=4;case 4:return[4,Sm(i,s)];case 5:return o.sent(),[3,7];case 6:Bu("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function Am(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(Yn.d)(this,(function(c){switch(c.label){case 0:return Dm(n=Ju(t)),Lm(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,km(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Vg(n.gl,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)wg(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?a.push(e):u=u.then((function(){return vm(n,e),jp(n.Sh,e,!0)})),Eg(n.gl,e)})),[4,u]);case 4:return c.sent(),[4,km(n,a)];case 5:return c.sent(),function(t){var e=Ju(t);e.Nl.forEach((function(t,n){Eg(e.gl,n)})),e.Fl.Mc(),e.Nl=new Map,e.xl=new Ih(Tc.J)}(n),n.Ll=!1,[4,Vg(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function km(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Yn.d)(this,(function(g){switch(g.label){case 0:n=Ju(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Dl.get(a=o[s]))&&0!==c.length?[4,kp(n.Sh,Pl(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,Im(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Pp(n.Sh,a)];case 8:return p=g.sent(),[4,kp(n.Sh,p)];case 9:return u=g.sent(),[4,am(n,jm(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function jm(t){return Tl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Nm(t){var e=Ju(t);return Ju(Ju(e.Sh).persistence).Qo()}function Pm(t,e,n,r){return Object(Yn.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Yn.d)(this,(function(a){switch(a.label){case 0:return(i=Ju(t)).Ll?(Bu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Rp(i.Sh)];case 3:return s=a.sent(),o=Kh.$e(e,"current"===n),[4,Sm(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,jp(i.Sh,e,!0)];case 6:return a.sent(),vm(i,e,r),[3,8];case 7:Wu(),a.label=8;case 8:return[2]}}))}))}function Rm(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u,c,l,h;return Object(Yn.d)(this,(function(f){switch(f.label){case 0:if(!(r=Dm(t)).Ll)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(Bu("SyncEngine","Adding an already active target "+o),[3,5]):[4,Pp(r.Sh,o)]:[3,6];case 2:return a=f.sent(),[4,kp(r.Sh,a)];case 3:return u=f.sent(),[4,am(r,jm(a),u.targetId,!1)];case 4:f.sent(),wg(r.gl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,jp(r.Sh,t,!1).then((function(){Eg(r.gl,t),vm(r,t)})).catch(Md)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Dm(t){var e=Ju(t);return e.gl.Ch.Bh=lm.bind(null,e),e.gl.Ch.Sn=Tm.bind(null,e),e.gl.Ch.$h=fm.bind(null,e),e.vl.uh=Wg.bind(null,e.Vl),e.vl.ql=Qg.bind(null,e.Vl),e}function Lm(t){var e=Ju(t);return e.gl.Ch.qh=dm.bind(null,e),e.gl.Ch.Uh=pm.bind(null,e),e}var Fm=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return this.Kt=hg(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return Sp(this.persistence,new wp,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Kp($p.ra,this.Kt)},t.prototype.jl=function(t){return new rg},t.prototype.terminate=function(){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),Um=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Yn.c)(e,t),e.prototype.initialize=function(e){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Dp(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Lm(this.Xl.fa)];case 4:return n.sent(),[4,Rg(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return Sp(this.persistence,new wp,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new np(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=yp(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Ud.Xs(this.cacheSizeBytes):Ud.ei;return new pp(this.synchronizeTabs,e,t.clientId,n,t.fs,cg(),lg(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new rg},e}(Fm),Mm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Yn.c)(e,t),e.prototype.initialize=function(e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof ng?(this.pl.fa={nu:Cm.bind(null,n),su:Pm.bind(null,n),iu:Rm.bind(null,n),Qo:Nm.bind(null,n),eu:xm.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Object(Yn.b)(r,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return[4,Am(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.jl=function(t){var e=cg();if(!ng.Wn(e))throw new ic(rc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yp(t.gu.T,t.gu.persistenceKey);return new ng(e,t.fs,n,t.clientId,t.Yl)},e}(Um),Hm=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n=this;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return hm(n.fa,t,1)},this.gl.Ch.s_=Om.bind(null,this.fa),[4,Vg(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new Kg},t.prototype.Zl=function(t){var e=hg(t.gu.T),n=new ug(t.gu);return function(t,e,n){return new mg(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return hm(o.fa,t,0)},s=sg.Wn()?new sg:new ig,new vg(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new sm(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return e=Ju(t),Bu("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,_g(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),Vm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),qm=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Pf,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Zg(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t,e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t,e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new ic(rc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new Oc(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),zm=function(t){this._methodName=t};function Bm(t,e,n){if(!n)throw new ic(rc.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Km(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ic(rc.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Gm(t,e,n,r){if(!0===e&&!0===r)throw new ic(rc.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function $m(t){if(!Tc.Et(t))throw new ic(rc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Wm(t){if(Tc.Et(t))throw new ic(rc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Qm(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Wu()}function Jm(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new ic(rc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Qm(t);throw new ic(rc.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Xm(t,e){if(e<=0)throw new ic(rc.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Zm=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ic(rc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ic(rc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Gm("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ym=new Map,ty=function(){function t(t,e){this.w_="(lite)",this.E_=new Zm({}),this.T_=!1,t instanceof hc?(this.I_=t,this.m_=new pc):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ic(rc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hc(t.options.projectId)}(t),this.m_=new gc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new ic(rc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new ic(rc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Zm(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new pc;switch(t.type){case"gapi":var e=t.client;return Qu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new yc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new ic(rc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,T:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Ym.get(this))&&(Bu("ComponentProvider","Removing Datastore"),Ym.delete(this),t.terminate()),Promise.resolve();var t},t}(),ey=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ry(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),ny=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),ry=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Il(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Yn.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new ey(this.firestore,null,new Tc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(ny);function iy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof oc&&(t=t._),Bm("collection","path",e),t instanceof ty)return Wm(n=Ec.ct.apply(Ec,Object(Yn.g)([e],r))),new ry(t,null,n);if(!(t instanceof ey||t instanceof ry))throw new ic(rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Wm(n=Ec.ct.apply(Ec,Object(Yn.g)([t.path],r)).child(Ec.ct(e))),new ry(t.firestore,null,n)}function sy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof oc&&(t=t._),1===arguments.length&&(e=Zu.t()),Bm("doc","path",e),t instanceof ty)return $m(n=Ec.ct.apply(Ec,Object(Yn.g)([e],r))),new ey(t,null,new Tc(n));if(!(t instanceof ey||t instanceof ry))throw new ic(rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $m(n=t.D_.child(Ec.ct.apply(Ec,Object(Yn.g)([e],r)))),new ey(t.firestore,t instanceof ry?t.v_:null,new Tc(n))}function oy(t,e){return t instanceof oc&&(t=t._),e instanceof oc&&(e=e._),(t instanceof ey||t instanceof ry)&&(e instanceof ey||e instanceof ry)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function ay(t,e){return t instanceof oc&&(t=t._),e instanceof oc&&(e=e._),t instanceof ny&&e instanceof ny&&t.firestore===e.firestore&&Dl(t.C_,e.C_)&&t.v_===e.v_}var uy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new ic(rc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ic(rc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Yu(this.x_,t.x_)||Yu(this.N_,t.N_)},t}(),cy=/^__.*__$/,ly=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new ph(t,this.data,this.zt,e,this.fieldTransforms):new dh(t,this.data,e,this.fieldTransforms)},t}(),hy=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new ph(t,this.data,this.zt,e,this.fieldTransforms)},t}();function fy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wu()}}var dy=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Py(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(fy(this.k_)&&cy.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),py=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||hg(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new dy({k_:t,methodName:e,j_:n,path:Oc.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function gy(t){var e=t.p_(),n=hg(t.I_);return new py(t.I_,!!e.ignoreUndefinedProperties,n)}function my(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);Ay("Data must be an object, but it was:",o,r);var a,u,c=xy(r,o);if(s.merge)a=new Ac(o.zt),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=ky(e,f[h],n);if(!o.contains(d))throw new ic(rc.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ry(l,d)||l.push(d)}a=new Ac(l),u=o.fieldTransforms.filter((function(t){return a.It(t.field)}))}else a=null,u=o.fieldTransforms;return new ly(new Xc(c),a,u)}var yy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(zm);function vy(t,e,n){return new dy({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var by=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.prototype.z_=function(t){return new rh(t.path,new Ql)},e.prototype.isEqual=function(t){return t instanceof e},e}(zm),_y=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Yn.c)(e,t),e.prototype.z_=function(t){var e=vy(this,t,!0),n=this.H_.map((function(t){return Iy(t,e)})),r=new Jl(n);return new rh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(zm),wy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Yn.c)(e,t),e.prototype.z_=function(t){var e=vy(this,t,!0),n=this.H_.map((function(t){return Iy(t,e)})),r=new Zl(n);return new rh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(zm),Ey=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Yn.c)(e,t),e.prototype.z_=function(t){var e=new th(t.Kt,Bl(t.Kt,this.J_));return new rh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(zm);function Sy(t,e,n,r){var i=t.G_(1,e,n);Ay("Data must be an object, but it was:",i,r);var s=[],o=new Zc;xc(r,(function(t,r){var a=Ny(e,t,n);r instanceof oc&&(r=r._);var u=i.U_(a);if(r instanceof yy)s.push(a);else{var c=Iy(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new Ac(s);return new hy(o.yt(),a,i.fieldTransforms)}function Oy(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[ky(e,r,n)],u=[i];if(s.length%2!=0)throw new ic(rc.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(ky(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Zc,f=a.length-1;f>=0;--f)if(!Ry(l,a[f])){var d=a[f],p=u[f];p instanceof oc&&(p=p._);var g=o.U_(d);if(p instanceof yy)l.push(d);else{var m=Iy(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Ac(l);return new hy(h.yt(),y,o.fieldTransforms)}function Ty(t,e,n,r){return void 0===r&&(r=!1),Iy(n,t.G_(r?4:3,e))}function Iy(t,e){if(t instanceof oc&&(t=t._),Cy(t))return Ay("Unsupported field value:",e,t),xy(t,e);if(t instanceof zm)return function(t,e){if(!fy(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Iy(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof oc&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bl(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=bc.fromDate(t);return{timestampValue:rf(e.Kt,n)}}if(t instanceof bc)return n=new bc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:rf(e.Kt,n)};if(t instanceof uy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sc)return{bytesValue:sf(e.Kt,t.l)};if(t instanceof ey){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:uf(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Qm(t))}(t,e)}function xy(t,e){var n={};return Cc(t)?e.path&&e.path.length>0&&e.zt.push(e.path):xc(t,(function(t,r){var i=Iy(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Cy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof bc||t instanceof uy||t instanceof sc||t instanceof ey||t instanceof zm)}function Ay(t,e,n){if(!Cy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Qm(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function ky(t,e,n){if(e instanceof oc&&(e=e._),e instanceof qm)return e.d_;if("string"==typeof e)return Ny(t,e);throw Py("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var jy=new RegExp("[~\\*/\\[\\]]");function Ny(t,e,n){if(e.search(jy)>=0)throw Py("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(qm.bind.apply(qm,Object(Yn.g)([void 0],e.split("."))))).d_}catch(r){throw Py("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Py(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new ic(rc.INVALID_ARGUMENT,(a+=". ")+t+u)}function Ry(t,e){return t.some((function(t){return t.isEqual(e)}))}var Dy=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new ic(rc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(Yn.d)(this,(function(u){switch(u.label){case 0:return n=Ju(t),r=pf(n.Kt)+"/documents",i={documents:e.map((function(t){return lf(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Qu(!!e.found);var n=hf(t,e.found.name),r=af(e.found.updateTime),i=new Xc({mapValue:{fields:e.found.fields}});return new el(n,r,i,{})}(t,e):"missing"in e?function(t,e){Qu(!!e.missing),Qu(!!e.readTime);var n=hf(t,e.missing),r=af(e.readTime);return new nl(n,r)}(t,e):Wu()}(n.Kt,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());Qu(!!e),a.push(e)})),a)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof nl||t instanceof el?n.sf(t):Wu()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new wh(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Tc.ft(n);e.mutations.push(new Eh(r,e.Gt(r)))})),[4,function(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return n=Ju(t),r=pf(n.Kt)+"/documents",i={writes:e.map((function(t){return vf(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof el)e=t.version;else{if(!(t instanceof nl))throw Wu();e=_c.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ic(rc.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?sh.updateTime(e):sh.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(_c.min()))throw new ic(rc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sh.updateTime(e)}return sh.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Ly=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new fg(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(Yn.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Yn.d)(this,(function(r){return t=new Dy(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Lc(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Oh(e)}return!1},t}(),Fy=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=fc.UNAUTHENTICATED,this.clientId=Zu.t(),this._f=function(){},this.N=new Pf,this.credentials.S((function(t){Bu("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new ic(rc.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Pf;return this.fs.Tf((function(){return Object(Yn.b)(t,void 0,void 0,(function(){var t,n;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Kf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Uy(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return t.fs.Af(),Bu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Object(Yn.b)(i,void 0,void 0,(function(){return Object(Yn.d)(this,(function(t){switch(t.label){case 0:return[4,Op(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function My(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,Hy(t)];case 1:return n=i.sent(),Bu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object(Yn.b)(this,void 0,void 0,(function(){var n,r;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return(n=Ju(t)).fs.Af(),Bu("RemoteStore","RemoteStore received new credentials"),r=xg(n),n.Fh.add(3),[4,_g(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,bg(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Hy(t){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Bu("FirestoreClient","Using default OfflineComponentProvider"),[4,Uy(t,new Fm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Vy(t){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Bu("FirestoreClient","Using default OnlineComponentProvider"),[4,My(t,new Hm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function qy(t){return Hy(t).then((function(t){return t.persistence}))}function zy(t){return Hy(t).then((function(t){return t.Sh}))}function By(t){return Vy(t).then((function(t){return t.gl}))}function Ky(t){return Vy(t).then((function(t){return t.fa}))}function Gy(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e,n;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return[4,Vy(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=om.bind(null,e.fa),n.Jh=um.bind(null,e.fa),n)]}}))}))}function $y(t,e,n){var r=this;void 0===n&&(n={});var i=new Pf;return t.fs.ys((function(){return Object(Yn.b)(r,void 0,void 0,(function(){var r;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Vm({next:function(s){e.ys((function(){return $g(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new ic(rc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ic(rc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Xg(Il(n.path),s,{includeMetadataChanges:!0,sl:!0});return Gg(t,o)},[4,Gy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function Wy(t,e,n){var r=this;void 0===n&&(n={});var i=new Pf;return t.fs.ys((function(){return Object(Yn.b)(r,void 0,void 0,(function(){var r;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Vm({next:function(n){e.ys((function(){return $g(t,o)})),n.fromCache&&"server"===r.source?i.reject(new ic(rc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Xg(n,s,{includeMetadataChanges:!0,sl:!0});return Gg(t,o)},[4,Gy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Qy=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new fg(this,"async_queue_retry"),this.vf=function(){var e=lg();e&&Bu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=lg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=lg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Mf(t=n.sent()))throw t;return Bu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,Ku("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Bf.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Wu()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Yn.b)(this,void 0,void 0,(function(){var t;return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Jy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Qy,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Yn.c)(e,t),e.prototype.b_=function(){return this.Lf||Zy(this),this.Lf.terminate()},e}(ty);function Xy(t){return t.Lf||Zy(t),t.Lf.df(),t.Lf}function Zy(t){var e=t.p_(),n=function(t,e,n){return new lc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Fy(t.m_,t.Mf,n)}function Yy(t,e,n){var r=this,i=new Pf;return t.fs.enqueue((function(){return Object(Yn.b)(r,void 0,void 0,(function(){var r;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Uy(t,n)];case 1:return s.sent(),[4,My(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===rc.FAILED_PRECONDITION||t.code===rc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function tv(t){if(t.R_||t.P_)throw new ic(rc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ev=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Mc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Nc(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Pc(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Wu()}},t.prototype.jf=function(t,e){var n=this,r={};return xc(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new uy(Nc(t.latitude),Nc(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return Rc(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Dc(t));default:return null}},t.prototype.Bf=function(t){var e=jc(t);return new bc(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=Ec.ct(t);Qu(Nf(n));var r=new hc(n.get(1),n.get(3)),i=new Tc(n.X(5));return r.isEqual(e)||Ku("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),nv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ey(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new rv(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(iv("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),rv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(nv);function iv(t,e){return"string"==typeof e?Ny(t,e):e instanceof oc?e._.d_:e.d_}function sv(t){if(Cl(t)&&0===t.Nt.length)throw new ic(rc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ov=function(){};function av(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var uv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Yn.c)(e,t),e.prototype.Yf=function(t){var e=gy(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new ic(rc.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){gv(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(pv(r,t,l[c]));a={arrayValue:{values:u}}}else a=pv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||gv(o,s),a=Ty(n,"where",o,"in"===s||"not-in"===s);var h=cl.create(i,s,a);return function(t,e){if(e.xt()){var n=kl(t);if(null!==n&&!n.isEqual(e.field))throw new ic(rc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Al(t);null!==r&&mv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new ic(rc.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new ny(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(ov),cv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Yn.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new ic(rc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ic(rc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _l(e,n);return function(t,e){if(null===Al(t)){var n=kl(t);null!==n&&mv(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new ny(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new Ol(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(ov),lv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Yn.c)(e,t),e.prototype.Yf=function(t){return new ny(t.firestore,t.v_,Rl(t.C_,this.nd,this.sd))},e}(ov),hv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Yn.c)(e,t),e.prototype.Yf=function(t){var e=dv(t,this.type,this.rd,this.od);return new ny(t.firestore,t.v_,function(t,e){return new Ol(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(ov),fv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Yn.c)(e,t),e.prototype.Yf=function(t){var e=dv(t,this.type,this.rd,this.od);return new ny(t.firestore,t.v_,function(t,e){return new Ol(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(ov);function dv(t,e,n,r){if(n[0]instanceof oc&&(n[0]=n[0]._),n[0]instanceof nv)return function(t,e,n,r,i){if(!r)throw new ic(rc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Nl(t);o<a.length;o++){var u=a[o];if(u.field.ht())s.push(Kc(e,r.key));else{var c=r.field(u.field);if(Rc(c))throw new ic(rc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.ot();throw new ic(rc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new vl(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=gy(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new ic(rc.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.ht()){if("string"!=typeof c)throw new ic(rc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!jl(t)&&-1!==c.indexOf("/"))throw new ic(rc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ec.ct(c));if(!Tc.Et(l))throw new ic(rc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Tc(l);a.push(Kc(e,h))}else{var f=Ty(n,r,c);a.push(f)}}return new vl(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function pv(t,e,n){if(n instanceof oc&&(n=n._),"string"==typeof n){if(""===n)throw new ic(rc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jl(e)&&-1!==n.indexOf("/"))throw new ic(rc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ec.ct(n));if(!Tc.Et(r))throw new ic(rc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Kc(t,new Tc(r))}if(n instanceof ey)return Kc(t,n.S_);throw new ic(rc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Qm(n)+".")}function gv(t,e){if(!Array.isArray(t)||0===t.length)throw new ic(rc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new ic(rc.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function mv(t,e,n){if(!n.isEqual(e))throw new ic(rc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function yv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function vv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var bv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yn.c)(e,t),e.prototype.Uf=function(t){return new sc(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ey(this.firestore,null,e)},e}(ev),_v=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),wv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(Yn.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new Ev(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(iv("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(nv),Ev=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(wv),Sv=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new _v(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new Ev(n.zf,n.Hf,r.key,r,new _v(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new ic(rc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new Ev(t.zf,t.Hf,e.doc.key,e.doc,new _v(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Ev(t.zf,t.Hf,e.doc.key,e.doc,new _v(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ov(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this.ld=e),this.hd},t}();function Ov(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wu()}}function Tv(t,e){return t instanceof wv&&e instanceof wv?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof Sv&&e instanceof Sv&&t.zf===e.zf&&ay(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var Iv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yn.c)(e,t),e.prototype.Uf=function(t){return new sc(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new ey(this.firestore,null,e)},e}(ev);function xv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Jm(t,ey);var s=Jm(t.firestore,Jy),o=gy(s);return e instanceof oc&&(e=e._),Av(s,[("string"==typeof e||e instanceof qm?Oy(o,"updateDoc",t.S_,e,n,r):Sy(o,"updateDoc",t.S_,e)).F_(t.S_,sh.exists(!0))])}function Cv(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof oc&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||yv(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(yv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof ey)c=Jm(t.firestore,Jy),l=Il(t.S_.path),u={next:function(e){i[a]&&i[a](kv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Jm(t,ny);c=Jm(d.firestore,Jy),l=d.C_;var p=new Iv(c);u={next:function(t){i[a]&&i[a](new Sv(c,p,d,t))},error:i[a+1],complete:i[a+2]},sv(t.C_)}return function(t,e,n,r){var i=this,s=new Vm(r),o=new Xg(e,s,n);return t.fs.ys((function(){return Object(Yn.b)(i,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return e=Gg,[4,Gy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.r_(),t.fs.ys((function(){return Object(Yn.b)(i,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return e=$g,[4,Gy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(Xy(c),l,h,u)}function Av(t,e){return function(t,e){var n=this,r=new Pf;return t.fs.ys((function(){return Object(Yn.b)(n,void 0,void 0,(function(){var n;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return n=cm,[4,Ky(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Xy(t),e)}function kv(t,e,n){var r=n.docs.get(e.S_),i=new Iv(t);return new wv(t,i,e.S_,r,new _v(n.hasPendingWrites,n.fromCache),e.v_)}var jv=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=gy(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Nv(t,this.zf),i=vv(r.v_,e,n),s=my(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.F_(r.S_,sh.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=Nv(t,this.zf);return e instanceof oc&&(e=e._),s="string"==typeof e||e instanceof qm?Oy(this.wd,"WriteBatch.update",o.S_,e,n,r):Sy(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.F_(o.S_,sh.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Nv(t,this.zf);return this.fd=this.fd.concat(new wh(e.S_,sh.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new ic(rc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Nv(t,e){if(t instanceof oc&&(t=t._),t.firestore!==e)throw new ic(rc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Pv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Yn.c)(e,t),e.prototype.get=function(e){var n=this,r=Nv(e,this.zf),i=new Iv(this.zf);return t.prototype.get.call(this,e).then((function(t){return new wv(n.zf,i,r.S_,t.Jf,new _v(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=gy(t)}return t.prototype.get=function(t){var e=this,n=Nv(t,this.zf),r=new bv(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return Wu();var i=t[0];if(i instanceof nl)return new nv(e.zf,r,n.S_,null,n.v_);if(i instanceof el)return new nv(e.zf,r,i.key,i,n.v_);throw Wu()}))},t.prototype.set=function(t,e,n){var r=Nv(t,this.zf),i=vv(r.v_,e,n),s=my(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Nv(t,this.zf);return e instanceof oc&&(e=e._),s="string"==typeof e||e instanceof qm?Oy(this.wd,"Transaction.update",o.S_,e,n,r):Sy(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=Nv(t,this.zf);return this.Td.delete(e.S_),this},t}()),Rv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){tv(t=Jm(t,Jy));var n=Xy(t),r=t.p_(),i=new Hm;return Yy(n,i,new Um(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){tv(t=Jm(t,Jy));var e=Xy(t),n=t.p_(),r=new Hm;return Yy(e,r,new Mm(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new ic(rc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Pf;return t.Mf.Tf((function(){return Object(Yn.b)(e,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Yn.b)(this,void 0,void 0,(function(){return Object(Yn.d)(this,(function(e){switch(e.label){case 0:return Lf.Wn()?[4,Lf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(yp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),Dv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof hc||(i.md=e),i}return Object(Yn.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Jm(t,ty)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Gu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Yn.b)(e,void 0,void 0,(function(){var e,n;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return[4,qy(t)];case 1:return e=r.sent(),[4,By(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=Ju(t);return e.Fh.delete(0),bg(e)}(n))]}}))}))}))}(Xy(Jm(this._,Jy)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Yn.b)(e,void 0,void 0,(function(){var e,n;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return[4,qy(t)];case 1:return e=r.sent(),[4,By(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Yn.b)(this,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return(e=Ju(t)).Fh.add(0),[4,_g(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Xy(Jm(this._,Jy)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Gm("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.md&&(this.md._removeServiceInstance("firestore"),this.md._removeServiceInstance("firestore-exp")),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Pf;return t.fs.ys((function(){return Object(Yn.b)(e,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(r){switch(r.label){case 0:return e=gm,[4,Ky(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Xy(Jm(this._,Jy)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Vm(e);return t.fs.ys((function(){return Object(Yn.b)(n,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Ju(t).jh.add(e),e.next()},[4,Gy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(Yn.b)(n,void 0,void 0,(function(){var e;return Object(Yn.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Ju(t).jh.delete(e)},[4,Gy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Xy(t=Jm(t,Jy)),yv(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new ic(rc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qv(this,iy(this._,t))}catch(t){throw Vv(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Hv(this,sy(this._,t))}catch(t){throw Vv(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Gv(this,function(t,e){if(t=Jm(t,ty),Bm("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ic(rc.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ny(t,null,function(t){return new Ol(Ec.at(),t)}(e))}(this._,t))}catch(t){throw Vv(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Pf;return t.fs.ys((function(){return Object(Yn.b)(n,void 0,void 0,(function(){var n;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Vy(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new Ly(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Xy(t),(function(n){return e(new Pv(t,n))}))}(this._,(function(n){return t(new Fv(e,n))}))},e.prototype.batch=function(){var t=this;return Xy(this._),new Uv(new jv(this._,(function(e){return Av(t._,e)})))},e.prototype.loadBundle=function(t){throw new ic(rc.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ic(rc.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(oc),Lv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Yn.c)(e,t),e.prototype.Uf=function(t){return new cc(new sc(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Hv.Ad(e,this.firestore,null)},e}(ev),Fv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new Lv(e),r}return Object(Yn.c)(e,t),e.prototype.get=function(t){var e=this,n=Jv(t);return this._.get(n).then((function(t){return new Bv(e.zf,new wv(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Jv(t);return n?(Km("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Jv(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Yn.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Jv(t);return this._.delete(e),this},e}(oc),Uv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.prototype.set=function(t,e,n){var r=Jv(t);return n?(Km("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Jv(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(Yn.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Jv(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(oc),Mv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).zf=e,i.Hf=n,i}return Object(Yn.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Ev(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null);return this._.fromFirestore(new Kv(this.zf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},e.Rd=function(t,n){var r=e.Pd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Lv(t),n),i.set(n,s)),s},e}(oc);Mv.Pd=new WeakMap;var Hv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Lv(e),r}return Object(Yn.c)(e,t),e.yd=function(t,n,r){if(t.length%2!=0)throw new ic(rc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new ey(n._,r,new Tc(t)))},e.Ad=function(t,n,r){return new e(n,new ey(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qv(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qv(this.firestore,iy(this._,t))}catch(t){throw Vv(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof oc&&(t=t._),t instanceof ey&&oy(this._,t)},e.prototype.set=function(t,e){e=Km("DocumentReference.set",e);try{return function(t,e,n){t=Jm(t,ey);var r=Jm(t.firestore,Jy),i=vv(t.v_,e,n);return Av(r,[my(gy(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,sh.Wt())])}(this._,t,e)}catch(t){throw Vv(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xv(this._,t):xv.apply(void 0,Object(Yn.g)([this._,t,e],n))}catch(t){throw Vv(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Av(Jm((t=this._).firestore,Jy),[new wh(t.S_,sh.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qv(e),i=zv(e,(function(e){return new Bv(t.firestore,new wv(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return Cv(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Jm(t,ey);var e=Jm(t.firestore,Jy),n=Xy(e),r=new Iv(e);return function(t,e){var n=this,r=new Pf;return t.fs.ys((function(){return Object(Yn.b)(n,void 0,void 0,(function(){var n;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r,i;return Object(Yn.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=Ju(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=s.sent())instanceof el?n.resolve(i):i instanceof nl?n.resolve(null):n.reject(new ic(rc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Kf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,zy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new wv(e,r,t.S_,n,new _v(n instanceof el&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Jm(t,ey);var e=Jm(t.firestore,Jy);return $y(Xy(e),t.S_,{source:"server"}).then((function(n){return kv(e,t,n)}))}(this._):function(t){t=Jm(t,ey);var e=Jm(t.firestore,Jy);return $y(Xy(e),t.S_).then((function(n){return kv(e,t,n)}))}(this._)).then((function(t){return new Bv(e.firestore,new wv(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(Mv.Rd(this.firestore,t)))},e}(oc);function Vv(t,e,n){return t.message=t.message.replace(e,n),t}function qv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!yv(r))return r}return{}}function zv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=yv(t[0])?t[0]:yv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Bv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Yn.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Hv(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return Tv(this._,t._)},e}(oc),Kv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Bv),Gv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Lv(e),r}return Object(Yn.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,av(this._,function(t,e,n){var r=e,i=iv("where",t);return new uv(i,r,n)}(t,n,r)))}catch(t){throw Vv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,av(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=iv("orderBy",t);return new cv(r,n)}(t,n)))}catch(t){throw Vv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,av(this._,function(t){return Xm("limit",t),new lv("limit",t,"F")}(t)))}catch(t){throw Vv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,av(this._,function(t){return Xm("limitToLast",t),new lv("limitToLast",t,"L")}(t)))}catch(t){throw Vv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Vv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Vv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Vv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,av(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Vv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ay(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Jm(t,ny);var e=Jm(t.firestore,Jy),n=Xy(e),r=new Iv(e);return function(t,e){var n=this,r=new Pf;return t.fs.ys((function(){return Object(Yn.b)(n,void 0,void 0,(function(){var n;return Object(Yn.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Yn.b)(this,void 0,void 0,(function(){var r,i,s,o,a;return Object(Yn.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Np(t,e,!0)];case 1:return a=u.sent(),r=new nm(e,a.Pc),i=r.dl(a.documents),s=r.Ei(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Kf(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,zy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Sv(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Jm(t,ny);var e=Jm(t.firestore,Jy),n=Xy(e),r=new Iv(e);return Wy(n,t.C_,{source:"server"}).then((function(n){return new Sv(e,r,t,n)}))}(this._):function(t){t=Jm(t,ny);var e=Jm(t.firestore,Jy),n=Xy(e),r=new Iv(e);return sv(t.C_),Wy(n,t.C_).then((function(n){return new Sv(e,r,t,n)}))}(this._)).then((function(t){return new Wv(e.firestore,new Sv(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qv(e),i=zv(e,(function(e){return new Wv(t.firestore,new Sv(t.firestore._,t.Hf,t._,e.ud))}));return Cv(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(Mv.Rd(this.firestore,t)))},e}(oc),$v=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Yn.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Kv(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(oc),Wv=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Yn.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Gv(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new Kv(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new $v(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new Kv(n.zf,r))}))},e.prototype.isEqual=function(t){return Tv(this._,t._)},e}(oc),Qv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Yn.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Hv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Hv(this.firestore,void 0===t?sy(this._):sy(this._,t))}catch(t){throw Vv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Jm(t.firestore,Jy),r=sy(t),i=vv(t.v_,e);return Av(n,[my(gy(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,sh.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new Hv(e.firestore,t)}))},e.prototype.isEqual=function(t){return oy(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(Mv.Rd(this.firestore,t)))},e}(Gv);function Jv(t){return t instanceof oc&&(t=t._),Jm(t,ey)}var Xv=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(qm.bind.apply(qm,Object(Yn.g)([void 0],e))))||this}return Object(Yn.c)(e,t),e.documentId=function(){return new e(Oc.lt().ot())},e.prototype.isEqual=function(t){return t instanceof oc&&(t=t._),t instanceof qm&&this._.d_.isEqual(t.d_)},e}(oc),Zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Yn.c)(e,t),e.serverTimestamp=function(){var t=new by("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new yy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _y("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wy("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Ey("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(oc);!function(){function t(){this.gd={},this.Vd=new Pf,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Vd.promise.catch(t)},t.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},t.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},t.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)}}();var Yv,tb={Firestore:Dv,GeoPoint:uy,Timestamp:bc,Blob:cc,Transaction:Fv,WriteBatch:Uv,DocumentReference:Hv,DocumentSnapshot:Bv,Query:Gv,QueryDocumentSnapshot:Kv,QuerySnapshot:Wv,CollectionReference:Qv,FieldPath:Xv,FieldValue:Zv,setLogLevel:function(t){qu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new er.a("firestore",(function(t){return function(t,e){return new Dv(t,new Jy(t,e),new Rv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},tb)))})(Yv=Zn.a),Yv.registerVersion("@firebase/firestore","2.1.4");var eb=n("XNiG"),nb=(n("VRyK"),n("qgXg"),n("quSY")),rb=n("9ppp");n("Ylt2");const ib=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),sb=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var ob=n("EY2u");function ab(t){return e=>0===t?Object(ob.b)():e.lift(new ub(t))}class ub{constructor(t){if(this.total=t,this.total<0)throw new sb}call(t,e){return e.subscribe(new cb(t,this.total))}}class cb extends Mn.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function lb(t=null){return e=>e.lift(new hb(t))}class hb{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new fb(t,this.defaultValue))}}class fb extends Mn.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function db(t=mb){return e=>e.lift(new pb(t))}class pb{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new gb(t,this.errorFactory))}}class gb extends Mn.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Yv){t=Yv}this.destination.error(t)}}}function mb(){return new ib}var yb=n("SpAZ");function vb(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fi((e,n)=>t(e,n,r)):yb.a,ab(1),n?lb(e):db(()=>new ib))}n("tf+s");const bb=new r.q("angularfire2.auth.use-emulator");function _b(t,e){return function(t,e=Hn.a){return new Ln.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function wb(t,e){return _b(t,e).pipe(Object(Bn.a)(t=>({payload:t,type:"query"})))}function Eb(t,e){return wb(t,e).pipe(Ci(void 0),Ai(),Object(Bn.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function Sb(t,e,n){return Eb(t,n).pipe(Ni((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ob(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Ob(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ob(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Di(void 0,void 0)),Object(Bn.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Ob(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Tb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Ib{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Eb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Bn.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ci(void 0),Ai(),Fi(([t,e])=>e.length>0||!t),Object(Bn.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ni((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Tb(t);return Sb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return wb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bn.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Un.a)(this.query.get(t)).pipe(Object(Kn.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new xb(this.ref.doc(t),this.afs)}}class xb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Pb(n,e);return new Ib(r,i,this.afs)}snapshotChanges(){return _b(this.ref,this.afs.schedulers.outsideAngular).pipe(Ci(void 0),Ai(),Object(Bn.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Bn.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Un.a)(this.ref.get(t)).pipe(Object(Kn.b)(this.afs.schedulers.insideAngular))}}class Cb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Eb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bn.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Fi(t=>t.length>0),this.afs.keepUnstableUntilFirst):Eb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Ni((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Tb(t);return Sb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return wb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Bn.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Un.a)(this.query.get(t)).pipe(Object(Kn.b)(this.afs.schedulers.insideAngular))}}const Ab=new r.q("angularfire2.enableFirestorePersistence"),kb=new r.q("angularfire2.firestore.persistenceSettings"),jb=new r.q("angularfire2.firestore.settings"),Nb=new r.q("angularfire2.firestore.use-emulator");function Pb(t,e=(t=>t)){return{query:e(t),ref:t}}let Rb=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Dn.d(s),this.keepUnstableUntilFirst=Object(Dn.h)(this.schedulers);const c=Object(Dn.g)(t,s,e);!Hi.a.auth&&u&&Object(Dn.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Dn.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(Un.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(Yv){return"undefined"!=typeof console&&console.warn(Yv),Object(Fn.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Fn.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Pb(n,e),s=this.schedulers.ngZone.run(()=>r);return new Ib(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Cb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new xb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Dn.c),r.Kb(Dn.b,8),r.Kb(Ab,8),r.Kb(jb,8),r.Kb(r.B),r.Kb(r.z),r.Kb(kb,8),r.Kb(Nb,8),r.Kb(bb,8))},t.\u0275prov=Object(r.Bb)({factory:function(){return new t(Object(r.Kb)(Dn.c),Object(r.Kb)(Dn.b,8),Object(r.Kb)(Ab,8),Object(r.Kb)(jb,8),Object(r.Kb)(r.B),Object(r.Kb)(r.z),Object(r.Kb)(kb,8),Object(r.Kb)(Nb,8),Object(r.Kb)(bb,8))},token:t,providedIn:"any"}),t})(),Db=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Ab,useValue:!0},{provide:kb,useValue:e}]}}}return t.\u0275mod=r.Db({type:t}),t.\u0275inj=r.Cb({factory:function(e){return new(e||t)},providers:[Rb]}),t})();class Lb extends eb.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new rb.a;return this._value}next(t){super.next(this._value=t)}}var Fb=n("DH7j"),Ub=n("yCtX");const Mb={};class Hb{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Vb(t,this.resultSelector))}}class Vb extends Gn.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Mb),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Wn.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===Mb?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function qb(t){return new Ln.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Un.a)(n):Object(ob.b)()).subscribe(e)})}function zb(t){return function(e){return 0===t?Object(ob.b)():e.lift(new Bb(t))}}class Bb{constructor(t){if(this.total=t,this.total<0)throw new sb}call(t,e){return e.subscribe(new Kb(t,this.total))}}class Kb extends Mn.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Gb(t){return function(e){const n=new $b(t),r=e.lift(n);return n.caught=r}}class $b{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Wb(t,this.selector,this.caught))}}class Wb extends Gn.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new $n.a(this,void 0,void 0);this.add(r);const i=Object(Wn.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}var Qb=n("5+tZ"),Jb=n("vkgz");class Xb{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Zb(t,this.predicate,this.thisArg,this.source))}}class Zb extends Mn.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Yb(t,e){return Object(Qb.a)(t,e,1)}class t_{constructor(t){this.callback=t}call(t,e){return e.subscribe(new e_(t,this.callback))}}class e_ extends Mn.a{constructor(t,e){super(t),this.add(new nb.a(e))}}class n_{constructor(t,e){this.id=t,this.url=e}}class r_ extends n_{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class i_ extends n_{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class s_ extends n_{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class o_ extends n_{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class a_ extends n_{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u_ extends n_{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c_ extends n_{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class l_ extends n_{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h_ extends n_{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f_{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class d_{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class p_{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g_{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m_{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y_{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v_{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class b_{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function __(t){return new b_(t)}function w_(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function E_(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function S_(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!O_(t[i],e[i]))return!1;return!0}function O_(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function T_(t){return Array.prototype.concat.apply([],t)}function I_(t){return t.length>0?t[t.length-1]:null}function x_(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function C_(t){return Object(r.ob)(t)?t:Object(r.pb)(t)?Object(Un.a)(Promise.resolve(t)):Object(Fn.a)(t)}function A_(t,e,n){return n?function(t,e){return S_(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!P_(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>O_(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!P_(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!P_(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!P_(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class k_{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=__(this.queryParams)),this._queryParamMap}toString(){return F_.serialize(this)}}class j_{constructor(t,e){this.segments=t,this.children=e,this.parent=null,x_(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return U_(this)}}class N_{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=__(this.parameters)),this._parameterMap}toString(){return B_(this)}}function P_(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function R_(t,e){let n=[];return x_(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),x_(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class D_{}class L_{parse(t){const e=new Q_(t);return new k_(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return U_(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return x_(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=R_(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${U_(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${H_(e)}=${H_(t)}`).join("&"):`${H_(e)}=${H_(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const F_=new L_;function U_(t){return t.segments.map(t=>B_(t)).join("/")}function M_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function H_(t){return M_(t).replace(/%3B/gi,";")}function V_(t){return M_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function q_(t){return decodeURIComponent(t)}function z_(t){return q_(t.replace(/\+/g,"%20"))}function B_(t){return`${V_(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${V_(t)}=${V_(e[t])}`).join("")}`;var e}const K_=/^[^\/()?;=#]+/;function G_(t){const e=t.match(K_);return e?e[0]:""}const $_=/^[^=?&#]+/,W_=/^[^?&#]+/;class Q_{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new j_([],{}):new j_([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new j_(t,e)),n}parseSegment(){const t=G_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new N_(q_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=G_(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=G_(this.remaining);t&&(n=t,this.capture(n))}t[q_(e)]=q_(n)}parseQueryParam(t){const e=function(t){const e=t.match($_);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(W_);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=z_(e),i=z_(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=G_(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new j_([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class J_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=X_(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=X_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Z_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Z_(t,this._root).map(t=>t.value)}}function X_(t,e){if(t===e.value)return e;for(const n of e.children){const e=X_(t,n);if(e)return e}return null}function Z_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Z_(t,n);if(r.length)return r.unshift(e),r}return[]}class Y_{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function tw(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ew extends J_{constructor(t,e){super(t),this.snapshot=e,aw(this,t)}toString(){return this.snapshot.toString()}}function nw(t,e){const n=function(t,e){const n=new sw([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ow("",new Y_(n,[]))}(t,e),r=new Lb([new N_("",{})]),i=new Lb({}),s=new Lb({}),o=new Lb({}),a=new Lb(""),u=new rw(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new ew(new Y_(u,[]),n)}class rw{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Bn.a)(t=>__(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Bn.a)(t=>__(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iw(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class sw{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=__(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=__(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ow extends J_{constructor(t,e){super(e),this.url=t,aw(this,e)}toString(){return uw(this._root)}}function aw(t,e){e.value._routerState=t,e.children.forEach(e=>aw(t,e))}function uw(t){const e=t.children.length>0?` { ${t.children.map(uw).join(", ")} } `:"";return`${t.value}${e}`}function cw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,S_(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),S_(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!S_(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),S_(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function lw(t,e){return S_(t.params,e.params)&&function(t,e){return P_(t,e)&&t.every((t,n)=>S_(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||lw(t.parent,e.parent))}function hw(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fw(t,e,n,r,i){let s={};return r&&x_(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new k_(n.root===t?e:function t(e,n,r){const i={};return x_(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new j_(e.segments,i)}(n.root,t,e),s,i)}class dw{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&hw(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==I_(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pw{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function gw(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function mw(t,e,n){if(t||(t=new j_([],{})),0===t.segments.length&&t.hasChildren())return yw(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=gw(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!ww(o,a,e))return s;r+=2}else{if(!ww(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new j_(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new j_(t.segments.slice(r.pathIndex),t.children),yw(e,0,i)}return r.match&&0===i.length?new j_(t.segments,{}):r.match&&!t.hasChildren()?vw(t,e,n):r.match?yw(t,0,i):vw(t,e,n)}function yw(t,e,n){if(0===n.length)return new j_(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return x_(r,(n,r)=>{null!==n&&(i[r]=mw(t.children[r],e,n))}),x_(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new j_(t.segments,i)}}function vw(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=bw(n[i].outlets);return new j_(r,t)}if(0===i&&hw(n[0])){r.push(new N_(t.segments[e].path,n[0])),i++;continue}const s=gw(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&hw(o)?(r.push(new N_(s,_w(o))),i+=2):(r.push(new N_(s,{})),i++)}return new j_(r,{})}function bw(t){const e={};return x_(t,(t,n)=>{null!==t&&(e[n]=vw(new j_([],{}),0,t))}),e}function _w(t){const e={};return x_(t,(t,n)=>e[n]=""+t),e}function ww(t,e,n){return t==n.path&&S_(e,n.parameters)}class Ew{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),cw(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=tw(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),x_(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=tw(t),i=t.value.component?n.children:e;x_(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=tw(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new y_(t.value.snapshot))}),t.children.length&&this.forwardEvent(new g_(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(cw(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Sw(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Sw(t){cw(t.value),t.children.forEach(Sw)}class Ow{constructor(t,e){this.routes=t,this.module=e}}function Tw(t){return"function"==typeof t}function Iw(t){return t instanceof k_}class xw{constructor(t){this.segmentGroup=t||null}}class Cw{constructor(t){this.urlTree=t}}function Aw(t){return new Ln.a(e=>e.error(new xw(t)))}function kw(t){return new Ln.a(e=>e.error(new Cw(t)))}function jw(t){return new Ln.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Nw{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Bn.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gb(t=>{if(t instanceof Cw)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof xw)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Bn.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Gb(t=>{if(t instanceof xw)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new j_([],{primary:t}):t;return new k_(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Bn.a)(t=>new j_([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Fn.a)({});const n=[],r=[],i={};return x_(t,(t,s)=>{const o=e(s,t).pipe(Object(Bn.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),Fn.a.apply(null,n.concat(r)).pipe(Ti(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Fi((e,n)=>t(e,n,r)):yb.a,zb(1),n?lb(e):db(()=>new ib))}(),Object(Bn.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(Fn.a)(...n).pipe(Object(Bn.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Gb(t=>{if(t instanceof xw)return Object(Fn.a)(null);throw t}))),Ti(),vb(t=>!!t),Gb((t,n)=>{if(t instanceof ib||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Fn.a)(new j_([],{}));throw new xw(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Lw(r)!==s?Aw(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Aw(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?kw(i):this.lineralizeSegments(n,i).pipe(Object(Qb.a)(n=>{const i=new j_(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Pw(e,r,i);if(!o)return Aw(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?kw(l):this.lineralizeSegments(r,l).pipe(Object(Qb.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Bn.a)(t=>(n._loadedConfig=t,new j_(r,{})))):Object(Fn.a)(new j_(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=Pw(e,n,r);if(!i)return Aw(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(Qb.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Dw(t,e,n)&&"primary"!==Lw(n))}(t,n,r)?{segmentGroup:Rw(new j_(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Lw(r)&&(n[Lw(r)]=new j_([],{}));return n}(r,new j_(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Dw(t,e,n))}(t,n,r)?{segmentGroup:Rw(new j_(t.segments,function(t,e,n,r){const i={};for(const s of n)Dw(t,e,s)&&!r[Lw(s)]&&(i[Lw(s)]=new j_([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Bn.a)(t=>new j_(s,t))):0===r.length&&0===o.length?Object(Fn.a)(new j_(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(Object(Bn.a)(t=>new j_(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Fn.a)(new Ow(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Fn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Qb.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Bn.a)(t=>(e._loadedConfig=t,t))):function(t){return new Ln.a(e=>e.error(w_(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Fn.a)(new Ow([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(Un.a)(r).pipe(Object(Bn.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&Tw(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Tw(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return C_(s)})).pipe(Ti(),Object(Jb.a)(t=>{if(!Iw(t))return;const e=w_(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new Xb(i,void 0,t)))):Object(Fn.a)(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Fn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return jw(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new k_(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return x_(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return x_(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new j_(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Pw(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||E_)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Rw(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new j_(t.segments.concat(e.segments),e.children)}return t}function Dw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Lw(t){return t.outlet||"primary"}class Fw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Uw{constructor(t,e){this.component=t,this.route=e}}function Mw(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=tw(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!P_(t.url,e.url);case"pathParamsOrQueryParamsChange":return!P_(t.url,e.url)||!S_(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lw(t,e)||!S_(t.queryParams,e.queryParams);case"paramsChange":default:return!lw(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Fw(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&s.canDeactivateChecks.push(new Uw(u&&u.outlet&&u.outlet.component||null,a))}else a&&Vw(n,u,s),s.canActivateChecks.push(new Fw(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),x_(o,(t,e)=>Vw(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function Hw(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Vw(t,e,n){const r=tw(t),i=t.value;x_(r,(t,r)=>{Vw(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Uw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const qw=Symbol("INITIAL_VALUE");function zw(){return Qn(t=>function(...t){let e=null,n=null;return Object(xi.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Fb.a)(t[0])&&(t=t[0]),Object(Ub.a)(t,n).lift(new Hb(e))}(...t.map(t=>t.pipe(ab(1),Ci(qw)))).pipe(Ni((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==qw)return t;if(r===qw&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Iw(r))return r}return t},t)},qw),Fi(t=>t!==qw),Object(Bn.a)(t=>Iw(t)?t:!0===t),ab(1)))}function Bw(t,e){return null!==t&&e&&e(new m_(t)),Object(Fn.a)(!0)}function Kw(t,e){return null!==t&&e&&e(new p_(t)),Object(Fn.a)(!0)}function Gw(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Fn.a)(!0);const i=r.map(r=>qb(()=>{const i=Hw(r,e,n);let s;if(function(t){return t&&Tw(t.canActivate)}(i))s=C_(i.canActivate(e,t));else{if(!Tw(i))throw new Error("Invalid CanActivate guard");s=C_(i(e,t))}return s.pipe(vb())}));return Object(Fn.a)(i).pipe(zw())}function $w(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>qb(()=>{const i=e.guards.map(i=>{const s=Hw(i,e.node,n);let o;if(function(t){return t&&Tw(t.canActivateChild)}(s))o=C_(s.canActivateChild(r,t));else{if(!Tw(s))throw new Error("Invalid CanActivateChild guard");o=C_(s(r,t))}return o.pipe(vb())});return Object(Fn.a)(i).pipe(zw())}));return Object(Fn.a)(i).pipe(zw())}class Ww{}class Qw{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Zw(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new sw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Y_(n,e),i=new ow(this.url,r);return this.inheritParamsAndData(i._root),Object(Fn.a)(i)}catch(Yv){return new Ln.a(e=>e.error(Yv))}}inheritParamsAndData(t){const e=t.value,n=iw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=R_(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Yv){if(!(Yv instanceof Ww))throw Yv}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ww}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Ww;if((t.outlet||"primary")!==r)throw new Ww;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?I_(n).parameters:{};i=new sw(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eE(t),r,t.component,t,Jw(e),Xw(e)+n.length,nE(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ww;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||E_)(n,t,e);if(!r)throw new Ww;const i={};x_(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new sw(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,eE(t),r,t.component,t,Jw(e),Xw(e)+s.length,nE(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Zw(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new Y_(i,t)]}if(0===a.length&&0===c.length)return[new Y_(i,[])];const l=this.processSegment(a,u,c,"primary");return[new Y_(i,l)]}}function Jw(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xw(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Zw(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Yw(t,e,n)&&"primary"!==tE(n))}(t,n,r)){const i=new j_(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==tE(s)){const n=new j_([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[tE(s)]=n}return i}(t,e,r,new j_(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Yw(t,e,n))}(t,n,r)){const s=new j_(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Yw(t,n,a)&&!i[tE(a)]){const n=new j_([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[tE(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new j_(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Yw(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function tE(t){return t.outlet||"primary"}function eE(t){return t.data||{}}function nE(t){return t.resolve||{}}function rE(t){return function(e){return e.pipe(Qn(e=>{const n=t(e);return n?Object(Un.a)(n).pipe(Object(Bn.a)(()=>e)):Object(Un.a)([e])}))}}class iE{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let sE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.zb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Gb(0,"router-outlet")},directives:function(){return[SE]},encapsulation:2}),t})();function oE(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];aE(r,uE(e,r))}}function aE(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&oE(t.children,e)}function uE(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function cE(t){const e=t.children&&t.children.map(cE),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=sE),n}const lE=new r.q("ROUTES");class hE{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Bn.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ow(T_(r.injector.get(lE)).map(cE),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Un.a)(this.loader.load(t)):C_(t()).pipe(Object(Qb.a)(t=>t instanceof r.v?Object(Fn.a)(t):Object(Un.a)(this.compiler.compileModuleAsync(t))))}}class fE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dE,this.attachRef=null}}class dE{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new fE,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class pE{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function gE(t){throw t}function mE(t,e,n){return e.parse("/")}function yE(t,e){return Object(Fn.a)(null)}let vE=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new eb.a,this.errorHandler=gE,this.malformedUriErrorHandler=mE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yE,afterPreactivation:yE},this.urlHandlingStrategy=new pE,this.routeReuseStrategy=new iE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.W);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new k_(new j_([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hE(o,a,t=>this.triggerEvent(new f_(t)),t=>this.triggerEvent(new d_(t))),this.routerState=nw(this.currentUrlTree,this.rootComponentType),this.transitions=new Lb({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Fi(t=>0!==t.id),Object(Bn.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Qn(t=>{let n=!1,r=!1;return Object(Fn.a)(t).pipe(Object(Jb.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Fn.a)(t).pipe(Qn(t=>{const n=this.transitions.getValue();return e.next(new r_(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ob.a:[t]}),Qn(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Qn(t=>function(t,e,n,r,i){return new Nw(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Bn.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Jb.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(Qb.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Qw(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Bn.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Jb.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Jb.a)(t=>{const n=new a_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new r_(n,this.serializeUrl(r),i,s);e.next(a);const u=nw(r,this.rootComponentType).snapshot;return Object(Fn.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ob.a}),rE(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Jb.a)(t=>{const e=new u_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Bn.a)(t=>Object.assign(Object.assign({},t),{guards:Mw(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Qb.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Fn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Un.a)(t).pipe(Object(Qb.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Fn.a)(!0);const o=s.map(s=>{const o=Hw(s,e,i);let a;if(function(t){return t&&Tw(t.canDeactivate)}(o))a=C_(o.canDeactivate(t,e,n,r));else{if(!Tw(o))throw new Error("Invalid CanDeactivate guard");a=C_(o(t,e,n,r))}return a.pipe(vb())});return Object(Fn.a)(o).pipe(zw())}(t.component,t.route,n,e,r)),vb(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Qb.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Un.a)(e).pipe(Yb(e=>Object(Un.a)([Kw(e.route.parent,r),Bw(e.route,r),$w(t,e.path,n),Gw(t,e.route,n)]).pipe(Ti(),vb(t=>!0!==t,!0))),vb(t=>!0!==t,!0))}(r,s,t,e):Object(Fn.a)(n)),Object(Bn.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Jb.a)(t=>{if(Iw(t.guardsResult)){const e=w_(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Jb.a)(t=>{const e=new c_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Fi(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new s_(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),rE(t=>{if(t.guards.canActivateChecks.length)return Object(Fn.a)(t).pipe(Object(Jb.a)(t=>{const e=new l_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Qn(t=>{let n=!1;return Object(Fn.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Qb.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Fn.a)(t);let s=0;return Object(Un.a)(n).pipe(Yb(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Fn.a)({});const s={};return Object(Un.a)(i).pipe(Object(Qb.a)(i=>function(t,e,n,r){const i=Hw(t,e,r);return C_(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Jb.a)(t=>{s[i]=t}))),zb(1),Object(Qb.a)(()=>Object.keys(s).length===i.length?Object(Fn.a)(s):ob.a))}(t._resolve,t,e,r).pipe(Object(Bn.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),iw(t,n).resolve),null)))}(t.route,e,r,i)),Object(Jb.a)(()=>s++),zb(1),Object(Qb.a)(e=>s===n.length?Object(Fn.a)(t):ob.a))}))}),Object(Jb.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new s_(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Jb.a)(t=>{const e=new h_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),rE(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Bn.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Y_(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new rw(new Lb((i=n.value).url),new Lb(i.params),new Lb(i.queryParams),new Lb(i.fragment),new Lb(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Y_(r,s)}}var i}(t,e._root,n?n._root:void 0);return new ew(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Jb.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Bn.a)(t=>(new Ew(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Jb.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new s_(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new t_(i))),Gb(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Iw(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new s_(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new o_(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(_l){t.reject(_l)}}var i;return ob.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){oE(t),this.config=t.map(cE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.T)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return fw(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dw(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return x_(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new dw(n,e,r)}(n);if(s.toRoot())return fw(e.root,new j_([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new pw(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new pw(t,t===e.root,0)}const r=hw(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new pw(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?yw(o.segmentGroup,o.index,s.commands):mw(o.segmentGroup,o.index,s.commands);return fw(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.T)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Iw(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Yv){e=this.malformedUriErrorHandler(Yv,this.urlSerializer,t)}return e}isActive(t,e){if(Iw(t))return A_(this.currentUrlTree,t,e);const n=this.parseUrl(t);return A_(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new i_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,u;i?(o=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.M),r.Kb(D_),r.Kb(dE),r.Kb(E),r.Kb(r.r),r.Kb(r.w),r.Kb(r.i),r.Kb(void 0))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})(),bE=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new eb.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:wE(this.skipLocationChange),replaceUrl:wE(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wE(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wE(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Fb(vE),r.Fb(rw),r.Lb("tabindex"),r.Fb(r.D),r.Fb(r.l))},t.\u0275dir=r.Ab({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Nb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.ub]}),t})(),_E=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new eb.a,this.subscription=t.events.subscribe(t=>{t instanceof i_&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:wE(this.skipLocationChange),replaceUrl:wE(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:wE(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:wE(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Fb(vE),r.Fb(rw),r.Fb(y))},t.\u0275dir=r.Ab({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Nb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Jb("href",e.href,r.Xb),r.wb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.ub]}),t})();function wE(t){return""===t||!!t}let EE=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof i_&&this.update()})}ngAfterContentInit(){Object(Un.a)([this.links.changes,this.linksWithHrefs.changes,Object(Fn.a)(null)]).pipe(Object(Oi.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Un.a)(e).pipe(Object(Oi.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Fb(vE),r.Fb(r.l),r.Fb(r.D),r.Fb(r.h),r.Fb(bE,8),r.Fb(_E,8))},t.\u0275dir=r.Ab({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(r.yb(n,bE,!0),r.yb(n,_E,!0)),2&t&&(r.Wb(i=r.Ob())&&(e.links=i),r.Wb(i=r.Ob())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.ub]}),t})(),SE=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new OE(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Fb(dE),r.Fb(r.P),r.Fb(r.j),r.Lb("name"),r.Fb(r.h))},t.\u0275dir=r.Ab({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class OE{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===rw?this.route:t===dE?this.childContexts:this.parent.get(t,e)}}class TE{}class IE{preload(t,e){return Object(Fn.a)(null)}}let xE=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new hE(e,n,e=>t.triggerEvent(new f_(e)),e=>t.triggerEvent(new d_(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fi(t=>t instanceof i_),Yb(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Un.a)(n).pipe(Object(Oi.a)(),Object(Bn.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Qb.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(vE),r.Kb(r.w),r.Kb(r.i),r.Kb(r.r),r.Kb(TE))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})(),CE=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof r_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof i_&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof v_&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new v_(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(vE),r.Kb(L),r.Kb(void 0))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();const AE=new r.q("ROUTER_CONFIGURATION"),kE=new r.q("ROUTER_FORROOT_GUARD"),jE=[E,{provide:D_,useClass:L_},{provide:vE,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new vE(null,t,e,n,r,i,s,T_(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[D_,dE,E,r.r,r.w,r.i,lE,AE,[class{},new r.A],[class{},new r.A]]},dE,{provide:rw,useFactory:function(t){return t.routerState.root},deps:[vE]},{provide:r.w,useClass:r.J},xE,IE,class{preload(t,e){return e().pipe(Gb(()=>Object(Fn.a)(null)))}},{provide:AE,useValue:{enableTracing:!1}}];function NE(){return new r.y("Router",vE)}let PE=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[jE,FE(e),{provide:kE,useFactory:LE,deps:[[vE,new r.A,new r.I]]},{provide:AE,useValue:n||{}},{provide:y,useFactory:DE,deps:[u,[new r.p(b),new r.A],AE]},{provide:CE,useFactory:RE,deps:[vE,L,AE]},{provide:TE,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:IE},{provide:r.y,multi:!0,useFactory:NE},[UE,{provide:r.d,multi:!0,useFactory:ME,deps:[UE]},{provide:VE,useFactory:HE,deps:[UE]},{provide:r.b,multi:!0,useExisting:VE}]]}}static forChild(e){return{ngModule:t,providers:[FE(e)]}}}return t.\u0275mod=r.Db({type:t}),t.\u0275inj=r.Cb({factory:function(e){return new(e||t)(r.Kb(kE,8),r.Kb(vE,8))}}),t})();function RE(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new CE(t,e,n)}function DE(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function LE(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function FE(t){return[{provide:r.a,multi:!0,useValue:t},{provide:lE,multi:!0,useValue:t}]}let UE=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new eb.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(vE),r=this.injector.get(AE);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Fn.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(AE),n=this.injector.get(xE),i=this.injector.get(CE),s=this.injector.get(vE),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.r))},t.\u0275prov=r.Bb({token:t,factory:t.\u0275fac}),t})();function ME(t){return t.appInitializer.bind(t)}function HE(t){return t.bootstrapListener.bind(t)}const VE=new r.q("Router Initializer");let qE=(()=>{class t{transform(t,e,n){if(Array.isArray(t))return t.sort((t,r)=>{if(t[e]<r[e]){if("ASC"==n)return-1;if("DESC"==n)return 1}else{if(!(t[e]>r[e]))return 0;if("ASC"==n)return 1;if("DESC"==n)return-1}}),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Eb({name:"sort",type:t,pure:!0}),t})();function zE(t,e){1&t&&(r.Ib(0,"div",8),r.Ib(1,"div",9),r.Ib(2,"div",10),r.Ib(3,"span",11),r.bc(4,"Loading..."),r.Hb(),r.Hb(),r.Hb(),r.Hb())}function BE(t,e){if(1&t&&(r.Ib(0,"div",14),r.Gb(1,"img",15),r.Ib(2,"div",16),r.Ib(3,"h5",17),r.bc(4),r.Hb(),r.Gb(5,"hr",18),r.Ib(6,"h6",17),r.bc(7),r.Hb(),r.Gb(8,"hr",18),r.Ib(9,"p",19),r.bc(10),r.Hb(),r.Ib(11,"a",20),r.Gb(12,"i",21),r.Gb(13,"i",22),r.bc(14," See in GitHub "),r.Hb(),r.Hb(),r.Hb()),2&t){const t=e.$implicit;r.vb(1),r.Ub("src",t.imgUrl,r.Xb),r.vb(3),r.dc(" ",t.name,""),r.vb(3),r.dc(" ",t.anio,""),r.vb(3),r.dc(" ",t.description," "),r.vb(1),r.Vb("href","https://github.com/mecanizados-aac/",t.name,"",r.Xb)}}function KE(t,e){if(1&t&&(r.Ib(0,"div",12),r.ac(1,BE,15,5,"div",13),r.Qb(2,"sort"),r.Hb()),2&t){const t=r.Pb();r.vb(1),r.Ub("ngForOf",r.Rb(2,1,t.projects,"anio","DESC"))}}let GE=(()=>{class t{constructor(t){this.db=t,this.projects=new Array,this.loading=!0}ngOnInit(){this.projects.length=0,this.db.collection("project").get().subscribe(t=>{t.docs.forEach(t=>{const e=t.data();e.id=t.id,this.projects.push(e),this.loading=!1})})}}return t.\u0275fac=function(e){return new(e||t)(r.Fb(Rb))},t.\u0275cmp=r.zb({type:t,selectors:[["app-portfolio"]],decls:10,vars:2,consts:[[1,"container","pt-5","animated","fadeIn"],[1,"page-section-heading","text-center","text-uppercase","mb-0"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"far","fa-address-card"],["class","container","style","height: 300px;",4,"ngIf"],["class","row d-flex justify-content-center container-card",4,"ngIf"],[1,"container",2,"height","300px"],[1,"d-flex","justify-content-center","align-items-center","h-100"],["role","status",1,"spinner-border","text-dark"],[1,"sr-only"],[1,"row","d-flex","justify-content-center","container-card"],["class","card p-3 bg-secondary text-white","style","width: 18rem;",4,"ngFor","ngForOf"],[1,"card","p-3","bg-secondary","text-white",2,"width","18rem"],["alt","project-image",1,"card-img-top","image-project",3,"src"],[1,"card-body"],[1,"card-title","text-center"],[1,"bg-light"],[1,"card-text","text-justify","font-italic"],[1,"btn","btn-outline-light","btn-block",3,"href"],[1,"fas","fa-arrow-right"],[1,"fab","fa-github","ml-2"]],template:function(t,e){1&t&&(r.Ib(0,"div",0),r.Ib(1,"h2",1),r.bc(2,"Portfolio"),r.Hb(),r.Ib(3,"div",2),r.Gb(4,"div",3),r.Ib(5,"div",4),r.Gb(6,"i",5),r.Hb(),r.Gb(7,"div",3),r.Hb(),r.ac(8,zE,5,0,"div",6),r.ac(9,KE,3,5,"div",7),r.Hb()),2&t&&(r.vb(8),r.Ub("ngIf",e.loading),r.vb(1),r.Ub("ngIf",!e.loading))},directives:[N,k],pipes:[qE],styles:[".image-project[_ngcontent-%COMP%]{height:150px;box-shadow:10px 5px 5px #a4a4a4;border-radius:10px}.container-card[_ngcontent-%COMP%]{flex-wrap:wrap}.card[_ngcontent-%COMP%]{height:auto;border-radius:20px;margin:13px;box-shadow:10px 5px 5px #a4a4a4;padding:10px;border:2px solid #483d8b}"]}),t})();const $E="undefined"!=typeof window&&window||{};let WE;function QE(){return void 0===$E||(void 0===$E.__theme?(WE||(WE=function(){if("undefined"==typeof document)return null;const t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");const e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()),"bs3"===WE):"bs4"!==$E.__theme)}function JE(t,e){if(1&t&&(r.Ib(0,"bar",2),r.Sb(1),r.Hb()),2&t){const t=r.Pb();r.Ub("type",t.type)("value",t._value)("max",t._max)}}function XE(t,e){if(1&t&&(r.Ib(0,"bar",2),r.bc(1),r.Hb()),2&t){const t=e.$implicit;r.Ub("type",t.type)("value",t.value)("max",t.max),r.vb(1),r.cc(t.label)}}function ZE(t,e){if(1&t&&r.ac(0,XE,2,4,"bar",3),2&t){const t=r.Pb();r.Ub("ngForOf",t._value)}}"undefined"==typeof console||console;const YE=["*"];let tS=(()=>{class t{constructor(){this.animate=!1,this.max=100}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Bb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),eS=(()=>{class t{constructor(t){this.isStacked=!1,this._max=100,this.addClass=!0,this.bars=[],Object.assign(this,t)}set animate(t){this._animate=t,this.bars.forEach(e=>{e.animate=t})}set striped(t){this._striped=t,this.bars.forEach(e=>{e.striped=t})}set value(t){this.isStacked=Array.isArray(t),this._value=t}get isBs3(){return QE()}get max(){return this._max}set max(t){this._max=t,this.bars.forEach(t=>{t.recalculatePercentage()})}addBar(t){t.animate=this._animate,t.striped=this._striped,this.bars.push(t)}removeBar(t){this.bars.splice(this.bars.indexOf(t),1)}}return t.\u0275fac=function(e){return new(e||t)(r.Fb(tS))},t.\u0275cmp=r.zb({type:t,selectors:[["progressbar"]],hostVars:3,hostBindings:function(t,e){2&t&&(r.wb("max",e.max),r.xb("progress",e.addClass))},inputs:{animate:"animate",striped:"striped",value:"value",max:"max",type:"type"},ngContentSelectors:YE,decls:2,vars:2,consts:[[3,"type","value","max",4,"ngIf"],[3,"ngIf"],[3,"type","value","max"],[3,"type","value","max",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Tb(),r.ac(0,JE,2,3,"bar",0),r.ac(1,ZE,1,1,"ng-template",1)),2&t&&(r.Ub("ngIf",!e.isStacked),r.vb(1),r.Ub("ngIf",e.isStacked))},directives:function(){return[N,nS,k]},styles:["[_nghost-%COMP%] {\n      width: 100%;\n      display: flex;\n    }"]}),t})(),nS=(()=>{class t{constructor(t,e,n){this.el=t,this.renderer=n,this.addClass=!0,this.percent=0,this.progress=e}get setBarWidth(){return this.recalculatePercentage(),this.percent}get isBs3(){return QE()}ngOnInit(){this.progress.addBar(this)}ngOnDestroy(){this.progress.removeBar(this)}ngOnChanges(t){if(t.value){if(!t.value.currentValue&&0!==t.value.currentValue)return;this.value=t.value.currentValue,this.recalculatePercentage()}t.type&&(this.type=t.type.currentValue,this.applyTypeClasses())}recalculatePercentage(){this.percent=+(this.value/this.progress.max*100).toFixed(2);const t=this.progress.bars.reduce((function(t,e){return t+e.percent}),0);t>100&&(this.percent-=t-100)}applyTypeClasses(){if(this._prevType){const t="bg-"+this._prevType;this.renderer.removeClass(this.el.nativeElement,"progress-bar-"+this._prevType),this.renderer.removeClass(this.el.nativeElement,t),this._prevType=null}if(this.type){const t="bg-"+this.type;this.renderer.addClass(this.el.nativeElement,"progress-bar-"+this.type),this.renderer.addClass(this.el.nativeElement,t),this._prevType=this.type}}}return t.\u0275fac=function(e){return new(e||t)(r.Fb(r.l),r.Fb(eS,1),r.Fb(r.D))},t.\u0275cmp=r.zb({type:t,selectors:[["bar"]],hostAttrs:["role","progressbar","aria-valuemin","0"],hostVars:15,hostBindings:function(t,e){2&t&&(r.wb("aria-valuenow",e.value)("aria-valuetext",e.percent?e.percent.toFixed(0)+"%":"")("aria-valuemax",e.max),r.Zb("height","100","%")("width",e.setBarWidth,"%"),r.xb("progress-bar-animated",!e.isBs3&&e.animate)("progress-bar-striped",e.striped)("active",e.isBs3&&e.animate)("progress-bar",e.addClass))},inputs:{value:"value",type:"type",max:"max"},features:[r.ub],ngContentSelectors:YE,decls:1,vars:0,template:function(t,e){1&t&&(r.Tb(),r.Sb(0))},encapsulation:2}),t})(),rS=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=r.Db({type:t}),t.\u0275inj=r.Cb({factory:function(e){return new(e||t)},imports:[[D]]}),t})();function iS(t,e){1&t&&(r.Ib(0,"div",8),r.Ib(1,"div",9),r.Ib(2,"div",10),r.Ib(3,"span",11),r.bc(4,"Loading..."),r.Hb(),r.Hb(),r.Hb(),r.Hb())}function sS(t,e){if(1&t&&(r.Ib(0,"li",15),r.Ib(1,"div",16),r.bc(2),r.Hb(),r.Ib(3,"div",17),r.Ib(4,"div",18),r.Ib(5,"progressbar",19),r.bc(6),r.Hb(),r.Hb(),r.Hb(),r.Hb()),2&t){const t=e.$implicit;r.vb(2),r.dc(" ",t.name," "),r.vb(3),r.Ub("value",t.percentage)("striped",!0)("animate",!0),r.vb(1),r.dc("",t.percentage," %")}}function oS(t,e){if(1&t&&(r.Ib(0,"div",12),r.Ib(1,"ul",13),r.ac(2,sS,7,5,"li",14),r.Qb(3,"sort"),r.Hb(),r.Hb()),2&t){const t=r.Pb();r.vb(2),r.Ub("ngForOf",r.Rb(3,1,t.skills,"name","ASC"))}}const aS=[{path:"skills",component:(()=>{class t{constructor(t){this.db=t,this.skills=new Array,this.loading=!0}ngOnInit(){this.skills.length=0,this.db.collection("skill").get().subscribe(t=>{t.docs.forEach(t=>{const e=t.data();e.id=t.id,this.skills.push(e),this.loading=!1})})}}return t.\u0275fac=function(e){return new(e||t)(r.Fb(Rb))},t.\u0275cmp=r.zb({type:t,selectors:[["app-skills"]],decls:10,vars:2,consts:[[1,"container","pt-5","animated","fadeIn"],[1,"page-section-heading","text-center","text-uppercase","mb-0"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-list"],["class","container","style","height: 300px;",4,"ngIf"],["class","container",4,"ngIf"],[1,"container",2,"height","300px"],[1,"d-flex","justify-content-center","align-items-center","h-100"],["role","status",1,"spinner-border","text-dark"],[1,"sr-only"],[1,"container"],[1,"list-group","list-group-flush","pl-0"],["class","list-group-item row d-flex h-100 justify-content-between align-items-center pl-0 pr-0",4,"ngFor","ngForOf"],[1,"list-group-item","row","d-flex","h-100","justify-content-between","align-items-center","pl-0","pr-0"],[1,"item","col","pl-0","h4","m-2"],[1,"col","pl-0","pr-0"],[1,"d-flex","h-100","align-items-center"],["max","100","type","dark",3,"value","striped","animate"]],template:function(t,e){1&t&&(r.Ib(0,"div",0),r.Ib(1,"h2",1),r.bc(2,"Skills"),r.Hb(),r.Ib(3,"div",2),r.Gb(4,"div",3),r.Ib(5,"div",4),r.Gb(6,"i",5),r.Hb(),r.Gb(7,"div",3),r.Hb(),r.ac(8,iS,5,0,"div",6),r.ac(9,oS,4,5,"div",7),r.Hb()),2&t&&(r.vb(8),r.Ub("ngIf",e.loading),r.vb(1),r.Ub("ngIf",!e.loading))},directives:[N,k,eS],pipes:[qE],styles:[""]}),t})()},{path:"portfolio",component:GE},{path:"**",pathMatch:"full",redirectTo:"skills"}];let uS=(()=>{class t{}return t.\u0275mod=r.Db({type:t}),t.\u0275inj=r.Cb({factory:function(e){return new(e||t)},imports:[[PE.forRoot(aS,{useHash:!0})],PE]}),t})(),cS=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.zb({type:t,selectors:[["app-navbar"]],decls:16,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","fixed-top","pt-1","pb-1"],[1,"container"],["href","https://github.com/mecanizados-aac",1,"navbar-brand","font-weight-bold","font-italic","mec"],["src","assets/ac-logo.png","alt","img-logo",1,"img-logo"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],["routerLinkActive","active",1,"nav-item"],["routerLink","skills",1,"nav-link"],[1,"fas","fa-list"],["routerLink","portfolio",1,"nav-link"],[1,"far","fa-address-card"]],template:function(t,e){1&t&&(r.Ib(0,"nav",0),r.Ib(1,"div",1),r.Ib(2,"a",2),r.Gb(3,"img",3),r.Hb(),r.Ib(4,"button",4),r.Gb(5,"span",5),r.Hb(),r.Ib(6,"div",6),r.Ib(7,"ul",7),r.Ib(8,"li",8),r.Ib(9,"a",9),r.Gb(10,"i",10),r.bc(11," Skills "),r.Hb(),r.Hb(),r.Ib(12,"li",8),r.Ib(13,"a",11),r.Gb(14,"i",12),r.bc(15," Portfolio "),r.Hb(),r.Hb(),r.Hb(),r.Hb(),r.Hb(),r.Hb())},directives:[EE,_E],styles:[".img-logo[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:150px;border:3px solid #fff;object-fit:cover}"]}),t})(),lS=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.zb({type:t,selectors:[["app-profile"]],decls:18,vars:1,consts:[["src","assets/banner.jpg","alt","img-banner",1,"img-banner"],["animated","","fadeIn","",1,"profile","container"],[1,"row","banner__content","d-flex","align-items-center","h-100"],[1,"col-3"],["src","assets/aac.jpg","alt","img-profile",1,"img-profile"],[1,"col-1"],[1,"col-7","col-sm-8","pr-0","pl-0"],[1,"text-white","text-center"],[1,"container","pr-0","pl"],[1,"text-uppercase","mb-0"],[1,"divider-custom","divider-light"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fas","fa-laptop-code"],[1,"font-weight-light","mb-0"]],template:function(t,e){1&t&&(r.Gb(0,"img",0),r.Ib(1,"div",1),r.Ib(2,"div",2),r.Ib(3,"div",3),r.Gb(4,"img",4),r.Hb(),r.Gb(5,"div",5),r.Ib(6,"div",6),r.Ib(7,"header",7),r.Ib(8,"div",8),r.Ib(9,"h1",9),r.bc(10,"Aldo Adri\xe1n Castillo"),r.Hb(),r.Ib(11,"div",10),r.Gb(12,"div",11),r.Ib(13,"div",12),r.Gb(14,"i",13),r.Hb(),r.Gb(15,"div",11),r.Hb(),r.Ib(16,"p",14),r.bc(17,"Web/Mobile Full-Stack Developer"),r.Hb(),r.Hb(),r.Hb(),r.Hb(),r.Hb(),r.Hb()),2&t&&(r.vb(2),r.Ub("@enterState",void 0))},styles:[".img-banner[_ngcontent-%COMP%]{width:100%;height:450px;opacity:.9;padding-top:9.5vh}.img-profile[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:150px;border:8px solid #fff;object-fit:cover}.banner[_ngcontent-%COMP%]{width:100%;height:400px;object-fit:cover}.banner__content[_ngcontent-%COMP%]{position:absolute;top:45%;left:22%;transform:translateX(-20%) translateY(-50%);color:#fff;text-align:center;font-size:1.5em;font-weight:700;transition:all .5s;z-index:1}.pl[_ngcontent-%COMP%]{padding-left:10vw}@media screen and (max-width:500px) and (min-width:360px){.img-profile[_ngcontent-%COMP%]{width:95px;height:95px}.img-banner[_ngcontent-%COMP%]{padding-top:5vh}h1[_ngcontent-%COMP%]{font-size:1.2em}.banner__content[_ngcontent-%COMP%]{transform:translateX(-18%) translateY(-50%);font-size:.95em}.pl[_ngcontent-%COMP%]{padding-left:16vw}}@media screen and (max-width:700px) and (min-width:501px){.img-profile[_ngcontent-%COMP%]{width:120px;height:120px}.img-banner[_ngcontent-%COMP%]{padding-top:5vh}h1[_ngcontent-%COMP%]{font-size:1.5em}.banner__content[_ngcontent-%COMP%]{transform:translateX(-12%) translateY(-50%);font-size:1.2em}.pl[_ngcontent-%COMP%]{padding-left:16vw}}@media screen and (max-width:720px) and (min-width:701px){.img-banner[_ngcontent-%COMP%]{padding-top:4vh}.banner__content[_ngcontent-%COMP%]{transform:translateX(-11%) translateY(-50%)}.pl[_ngcontent-%COMP%]{padding-left:8vw}}@media screen and (max-width:768px) and (min-width:721px){.img-banner[_ngcontent-%COMP%]{padding-top:4vh}.banner__content[_ngcontent-%COMP%]{transform:translateX(-10%) translateY(-50%)}}@media screen and (max-width:850px) and (min-width:769px){.img-banner[_ngcontent-%COMP%]{padding-top:3vh}.banner__content[_ngcontent-%COMP%]{transform:translateX(-20%) translateY(-55%)}}@media screen and (max-width:929px) and (min-width:851px){.img-banner[_ngcontent-%COMP%]{padding-top:2vh}.banner__content[_ngcontent-%COMP%]{transform:translateX(-13%) translateY(-55%)}}@media screen and (max-width:1000px) and (min-width:930px){.img-banner[_ngcontent-%COMP%]{padding-top:2vh}.banner__content[_ngcontent-%COMP%]{transform:translateX(-10%) translateY(-55%)}}@media screen and (max-width:1100px) and (min-width:1000px){.img-banner[_ngcontent-%COMP%]{padding-top:1vh}.banner__content[_ngcontent-%COMP%]{transform:translateX(-20%) translateY(-50%)}}@media screen and (max-width:1800px) and (min-width:1100px){.img-banner[_ngcontent-%COMP%]{padding-top:0}.banner__content[_ngcontent-%COMP%]{transform:translateX(-20%) translateY(-50%)}}"],data:{animation:[gt("enterState",[bt("void",vt({transform:"translateX(-120%) translateY(-50%)",opacity:0})),_t(":enter",[mt(800,vt({transform:"translateX(-20%) translateY(-50%)",opacity:.5}))])])]}}),t})(),hS=(()=>{class t{constructor(){this.anio=(new Date).getFullYear()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.zb({type:t,selectors:[["app-footer"]],decls:29,vars:1,consts:[[1,"pt-5"],[1,"footer","text-center"],[1,"container"],[1,"row"],[1,"col-lg-4","mb-5","mb-lg-0"],[1,"text-uppercase","mb-4"],[1,"lead","mb-0"],["href","https://api.whatsapp.com/send?phone=542616934658&text=Hola!%20Quiero%20contratar%20sus%20servicios!",1,"btn","btn-outline-light","btn-social","mx-1"],[1,"fab","fa-whatsapp"],["href","https://mail.google.com/mail/u/0/?view=cm&fs=1&tf=1&to=aldo.castillo.13@gmail.com&compose=Consulta&body=Hola!%20Quiero%20contratar%20sus%20servicios!",1,"btn","btn-outline-light","btn-social","mx-1"],[1,"far","fa-envelope"],["href","https://m.me/dev.aldo.adrian.castillo",1,"btn","btn-outline-light","btn-social","mx-1"],[1,"fab","fa-facebook-messenger"],["href","https://www.linkedin.com/in/dev-aldo-adri%C3%A1n-castillo/",1,"btn","btn-outline-light","btn-social","mx-1"],[1,"fab","fa-fw","fa-linkedin-in"],[1,"col-lg-4"],[1,"copyright","py-4","text-center","text-white"],[1,"container","h4","mb-0"]],template:function(t,e){1&t&&(r.Ib(0,"div",0),r.Ib(1,"footer",1),r.Ib(2,"div",2),r.Ib(3,"div",3),r.Ib(4,"div",4),r.Ib(5,"h4",5),r.bc(6,"Location"),r.Hb(),r.Ib(7,"p",6),r.bc(8," Godoy Cruz, Mendoza, Argentina. "),r.Hb(),r.Hb(),r.Ib(9,"div",4),r.Ib(10,"h4",5),r.bc(11,"Contact me"),r.Hb(),r.Ib(12,"a",7),r.Gb(13,"i",8),r.Hb(),r.Ib(14,"a",9),r.Gb(15,"i",10),r.Hb(),r.Ib(16,"a",11),r.Gb(17,"i",12),r.Hb(),r.Ib(18,"a",13),r.Gb(19,"i",14),r.Hb(),r.Hb(),r.Ib(20,"div",15),r.Ib(21,"h4",5),r.bc(22,"About me"),r.Hb(),r.Ib(23,"p",6),r.bc(24," I am an independent, self-taught, committed, goal-focused, creative and team worker person. I love systems, mathematics, tennis and I have the soul of a leader. "),r.Hb(),r.Hb(),r.Hb(),r.Hb(),r.Hb(),r.Ib(25,"div",16),r.Ib(26,"div",17),r.Ib(27,"small"),r.bc(28),r.Hb(),r.Hb(),r.Hb(),r.Hb()),2&t&&(r.vb(28),r.dc("Copyright \xa9 - Aldo Adri\xe1n Castillo - mecanizados - ",e.anio,""))},styles:[".footer[_ngcontent-%COMP%]{display:block;padding-top:5rem;padding-bottom:5rem;background-color:#343a40;color:#fff}.btn-social[_ngcontent-%COMP%]{border-radius:100%;display:inline-flex;width:3.25rem;height:3.25rem;font-size:1.25rem;justify-content:center;align-items:center}.copyright[_ngcontent-%COMP%]{background-color:#6c757d}"]}),t})(),fS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.zb({type:t,selectors:[["app-root"]],decls:4,vars:0,template:function(t,e){1&t&&(r.Gb(0,"app-navbar"),r.Gb(1,"app-profile"),r.Gb(2,"router-outlet"),r.Gb(3,"app-footer"))},directives:[cS,lS,SE,hS],styles:[""]}),t})(),dS=(()=>{class t{}return t.\u0275mod=r.Db({type:t,bootstrap:[fS]}),t.\u0275inj=r.Cb({factory:function(e){return new(e||t)},providers:[],imports:[[dt,Rn,uS,rS.forRoot(),Dn.a.initializeApp(i),Si,Db]]}),t})();Object(r.S)(),ht().bootstrapModule(dS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);