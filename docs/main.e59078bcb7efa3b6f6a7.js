(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=Object(r.e)(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.e)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=Object(r.g)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(o){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.10.1","app"),r.a.SDK_VERSION="8.10.1"},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Ps})),n.d(e,"b",(function(){return Fu})),n.d(e,"c",(function(){return Pu})),n.d(e,"d",(function(){return Au})),n.d(e,"e",(function(){return ju})),n.d(e,"f",(function(){return Ic})),n.d(e,"g",(function(){return yc})),n.d(e,"h",(function(){return ps})),n.d(e,"i",(function(){return Wu})),n.d(e,"j",(function(){return la})),n.d(e,"k",(function(){return Vu})),n.d(e,"l",(function(){return ha})),n.d(e,"m",(function(){return jn})),n.d(e,"n",(function(){return pu})),n.d(e,"o",(function(){return J})),n.d(e,"p",(function(){return y})),n.d(e,"q",(function(){return X})),n.d(e,"r",(function(){return js})),n.d(e,"s",(function(){return Aa})),n.d(e,"t",(function(){return ja})),n.d(e,"u",(function(){return Uu})),n.d(e,"v",(function(){return ft})),n.d(e,"w",(function(){return bc})),n.d(e,"x",(function(){return dt})),n.d(e,"y",(function(){return dc})),n.d(e,"z",(function(){return Zu})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return Lu})),n.d(e,"C",(function(){return Du})),n.d(e,"D",(function(){return ga})),n.d(e,"E",(function(){return fa})),n.d(e,"F",(function(){return pa})),n.d(e,"G",(function(){return ya})),n.d(e,"H",(function(){return br})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return Ec})),n.d(e,"K",(function(){return Da})),n.d(e,"L",(function(){return sc})),n.d(e,"M",(function(){return ms})),n.d(e,"N",(function(){return ba})),n.d(e,"O",(function(){return va})),n.d(e,"P",(function(){return Fa})),n.d(e,"Q",(function(){return Et})),n.d(e,"R",(function(){return fc})),n.d(e,"S",(function(){return Qn})),n.d(e,"T",(function(){return F})),n.d(e,"U",(function(){return Wn})),n.d(e,"V",(function(){return Oc})),n.d(e,"W",(function(){return uc})),n.d(e,"X",(function(){return Mu})),n.d(e,"Y",(function(){return ys})),n.d(e,"Z",(function(){return Ja})),n.d(e,"ab",(function(){return yr})),n.d(e,"bb",(function(){return tr})),n.d(e,"cb",(function(){return Un})),n.d(e,"db",(function(){return qn})),n.d(e,"eb",(function(){return Gn})),n.d(e,"fb",(function(){return Hn})),n.d(e,"gb",(function(){return Bn})),n.d(e,"hb",(function(){return zn})),n.d(e,"ib",(function(){return Qa})),n.d(e,"jb",(function(){return Tc})),n.d(e,"kb",(function(){return Ya})),n.d(e,"lb",(function(){return Za})),n.d(e,"mb",(function(){return Vn})),n.d(e,"nb",(function(){return z})),n.d(e,"ob",(function(){return Fs})),n.d(e,"pb",(function(){return io})),n.d(e,"qb",(function(){return ro})),n.d(e,"rb",(function(){return Wa})),n.d(e,"sb",(function(){return Xt})),n.d(e,"tb",(function(){return R})),n.d(e,"ub",(function(){return Mn})),n.d(e,"vb",(function(){return Qo})),n.d(e,"wb",(function(){return Kt})),n.d(e,"xb",(function(){return aa})),n.d(e,"yb",(function(){return Vr})),n.d(e,"zb",(function(){return Bs})),n.d(e,"Ab",(function(){return Gs})),n.d(e,"Bb",(function(){return Ao})),n.d(e,"Cb",(function(){return Io})),n.d(e,"Db",(function(){return Cu})),n.d(e,"Eb",(function(){return Ct})),n.d(e,"Fb",(function(){return Nt})),n.d(e,"Gb",(function(){return T})),n.d(e,"Hb",(function(){return O})),n.d(e,"Ib",(function(){return At})),n.d(e,"Jb",(function(){return Rt})),n.d(e,"Kb",(function(){return $s})),n.d(e,"Lb",(function(){return Js})),n.d(e,"Mb",(function(){return eo})),n.d(e,"Nb",(function(){return to})),n.d(e,"Ob",(function(){return Xs})),n.d(e,"Pb",(function(){return Zs})),n.d(e,"Qb",(function(){return no})),n.d(e,"Rb",(function(){return In})),n.d(e,"Sb",(function(){return $o})),n.d(e,"Tb",(function(){return ut})),n.d(e,"Ub",(function(){return Ws})),n.d(e,"Vb",(function(){return ku})),n.d(e,"Wb",(function(){return so})),n.d(e,"Xb",(function(){return Iu})),n.d(e,"Yb",(function(){return uo})),n.d(e,"Zb",(function(){return cu})),n.d(e,"ac",(function(){return lu})),n.d(e,"bc",(function(){return hu})),n.d(e,"cc",(function(){return ho})),n.d(e,"dc",(function(){return lo})),n.d(e,"ec",(function(){return Qs})),n.d(e,"fc",(function(){return fo})),n.d(e,"gc",(function(){return su})),n.d(e,"hc",(function(){return ou})),n.d(e,"ic",(function(){return Ou})),n.d(e,"jc",(function(){return un})),n.d(e,"kc",(function(){return ye})),n.d(e,"lc",(function(){return _r})),n.d(e,"mc",(function(){return jt})),n.d(e,"nc",(function(){return xo})),n.d(e,"oc",(function(){return Co})),n.d(e,"pc",(function(){return Ks})),n.d(e,"qc",(function(){return Ho})),n.d(e,"rc",(function(){return zo})),n.d(e,"sc",(function(){return Go})),n.d(e,"tc",(function(){return Ko}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}function m(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const y=m("Inject",t=>({token:t})),v=m("Optional"),b=m("Self"),_=m("SkipSelf");var w=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function O(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return I(t,t[k])||I(t,t[P])}function I(t,e){return e&&e.token===t?e:null}function x(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(N))?t[A]:null}const k=E({"\u0275prov":E}),A=E({"\u0275inj":E}),j=E({"\u0275provFallback":E}),P=E({ngInjectableDef:E}),N=E({ngInjectorDef:E});function R(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function D(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const L=E({__forward_ref__:E});function F(t){return t.__forward_ref__=F,t.toString=function(){return R(this())},t}function M(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===F}const V="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=V||H||q||B,G=E({"\u0275cmp":E}),K=E({"\u0275dir":E}),$=E({"\u0275pipe":E}),W=E({"\u0275mod":E}),Q=E({"\u0275loc":E}),Y=E({"\u0275fac":E}),Z=E({__NG_ELEMENT_ID__:E});class X{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=T({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const J=new X("INJECTOR",-1),tt={},et=/\n/gm,nt=E({provide:String,useValue:E});let rt,it=void 0;function st(t){const e=it;return it=t,e}function ot(t){const e=rt;return rt=t,e}function at(t,e=w.Default){if(void 0===it)throw new Error("inject() must be called from an injection context");return null===it?ct(t,void 0,e):it.get(t,e&w.Optional?null:void 0,e)}function ut(t,e=w.Default){return(rt||at)(M(t),e)}function ct(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&w.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${R(t)}]`)}function lt(t){const e=[];for(let n=0;n<t.length;n++){const r=M(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=w.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof v||"Optional"===i.ngMetadataName||i===v?n|=w.Optional:i instanceof _||"SkipSelf"===i.ngMetadataName||i===_?n|=w.SkipSelf:i instanceof b||"Self"===i.ngMetadataName||i===b?n|=w.Self:t=i instanceof y||i===y?i.token:i}e.push(ut(t,n))}else e.push(ut(r))}return e}class ht{get(t,e=tt){if(e===tt){const e=new Error(`NullInjectorError: No provider for ${R(t)}!`);throw e.name="NullInjectorError",e}return e}}class dt{}class ft{}function pt(t,e){t.forEach(t=>Array.isArray(t)?pt(t,e):e(t))}function gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function vt(t,e,n){let r=_t(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bt(t,e){const n=_t(t,e);if(n>=0)return t[1|n]}function _t(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var wt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Et=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const St={},Tt=[];let Ot=0;function Ct(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Et.Emulated,id:"c",styles:t.styles||Tt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Ot++,n.inputs=Pt(t.inputs,e),n.outputs=Pt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(It):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(xt):null,n})}function It(t){return Dt(t)||function(t){return t[K]||null}(t)}function xt(t){return function(t){return t[$]||null}(t)}const kt={};function At(t){const e={type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{kt[t.id]=t.type}),e}function jt(t,e){return g(()=>{const n=Ft(t,!0);n.declarations=e.declarations||Tt,n.imports=e.imports||Tt,n.exports=e.exports||Tt})}function Pt(t,e){if(null==t)return St;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Nt=Ct;function Rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dt(t){return t[G]||null}function Lt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}function Ft(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${R(t)} does not have '\u0275mod' property.`);return n}function Mt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ut(t){return Array.isArray(t)&&!0===t[1]}function Vt(t){return 0!=(8&t.flags)}function qt(t){return 2==(2&t.flags)}function Bt(t){return 1==(1&t.flags)}function Ht(t){return null!==t.template}function zt(t){return 0!=(512&t[2])}class Gt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Kt(){return $t}function $t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qt),Wt}function Wt(){const t=Yt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===St)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Qt(t,e,n,r){const i=Yt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:St,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Gt(u&&u.currentValue,e,o===St),t[r]=e}function Yt(t){return t.__ngSimpleChanges__||null}Kt.ngInherit=!0;let Zt=void 0;function Xt(t){Zt=t}function Jt(t){return!!t.listen}const te={createRenderer:(t,e)=>void 0!==Zt?Zt:"undefined"!=typeof document?document:void 0};function ee(t){for(;Array.isArray(t);)t=t[0];return t}function ne(t,e){return ee(e[t+20])}function re(t,e){return ee(e[t.index])}function ie(t,e){return t.data[e+20]}function se(t,e){return t[e+20]}function oe(t,e){const n=e[t];return Mt(n)?n:n[0]}function ae(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ue(t){return 4==(4&t[2])}function ce(t){return 128==(128&t[2])}function le(t,e){return null===t||null==e?null:t[e]}function he(t){t[18]=0}function de(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const fe={lFrame:De(null),bindingsEnabled:!0,checkNoChangesMode:!1};function pe(){return fe.bindingsEnabled}function ge(){return fe.lFrame.lView}function me(){return fe.lFrame.tView}function ye(t){fe.lFrame.contextLView=t}function ve(){return fe.lFrame.previousOrParentTNode}function be(t,e){fe.lFrame.previousOrParentTNode=t,fe.lFrame.isParent=e}function _e(){return fe.lFrame.isParent}function we(){fe.lFrame.isParent=!1}function Ee(){return fe.checkNoChangesMode}function Se(t){fe.checkNoChangesMode=t}function Te(){const t=fe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Oe(){return fe.lFrame.bindingIndex}function Ce(){return fe.lFrame.bindingIndex++}function Ie(t){const e=fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function xe(t,e){const n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,ke(e)}function ke(t){fe.lFrame.currentDirectiveIndex=t}function Ae(){return fe.lFrame.currentQueryIndex}function je(t){fe.lFrame.currentQueryIndex=t}function Pe(t,e){const n=Re();fe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ne(t,e){const n=Re(),r=t[1];fe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Re(){const t=fe.lFrame,e=null===t?null:t.child;return null===e?De(t):e}function De(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Le(){const t=fe.lFrame;return fe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Fe=Le;function Me(){const t=Le();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ue(){return fe.lFrame.selectedIndex}function Ve(t){fe.lFrame.selectedIndex=t}function qe(){const t=fe.lFrame;return ie(t.tView,t.selectedIndex)}function Be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function He(t,e,n){Ke(t,e,3,n)}function ze(t,e,n,r){(3&t[2])===n&&Ke(t,e,n,r)}function Ge(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ke(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&($e(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function $e(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class We{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Qe(t,e,n){const r=Jt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ze(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ye(t){return 3===t||4===t||6===t}function Ze(t){return 64===t.charCodeAt(0)}function Xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Je(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function tn(t){return-1!==t}function en(t){return 32767&t}function nn(t){return t>>16}function rn(t,e){let n=nn(t),r=e;for(;n>0;)r=r[15],n--;return r}function sn(t){return"string"==typeof t?t:null==t?"":""+t}function on(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():sn(t)}const an=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function un(t){return{name:"window",target:t.ownerDocument.defaultView}}function cn(t){return t instanceof Function?t():t}let ln=!0;function hn(t){const e=ln;return ln=t,e}let dn=0;function fn(t,e){const n=gn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,pn(r.data,t),pn(e,null),pn(r.blueprint,null));const i=mn(t,e),s=t.injectorIndex;if(tn(i)){const t=en(i),n=rn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function pn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function gn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function mn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function yn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=dn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function vn(t,e,n,r=w.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Pe(e,t);try{const t=i();if(null!=t||r&w.Optional)return t;throw new Error(`No provider for ${on(n)}!`)}finally{Fe()}}else if("number"==typeof i){if(-1===i)return new On(t,e);let s=null,o=gn(t,e),a=-1,u=r&w.Host?e[16][6]:null;for((-1===o||r&w.SkipSelf)&&(a=-1===o?mn(t,e):e[o+8],Tn(r,!1)?(s=e[1],o=en(a),e=rn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(Sn(i,o,t.data)){const t=_n(o,e,n,s,r,u);if(t!==bn)return t}Tn(r,e[1].data[o+8]===u)&&Sn(i,o,e)?(s=t,o=en(a),e=rn(a,e)):o=-1}}}if(r&w.Optional&&void 0===i&&(i=null),0==(r&(w.Self|w.Host))){const t=e[9],s=ot(void 0);try{return t?t.get(n,i,r&w.Optional):ct(n,i,r&w.Optional)}finally{ot(s)}}if(r&w.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${on(n)}]`)}const bn={};function _n(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=wn(a,o,n,null==r?qt(a)&&ln:r!=o&&3===a.type,i&w.Host&&s===a);return null!==u?En(e,o,u,a):bn}function wn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Ht(t)&&t.type===n)return u}return null}function En(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof We){const o=i;if(o.resolving)throw new Error("Circular dep for "+on(s[n]));const a=hn(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=ot(o.injectImpl)),Pe(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=$t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&ot(u),hn(a),o.resolving=!1,Fe()}}return i}function Sn(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function Tn(t,e){return!(t&w.Self||t&w.Host&&e)}class On{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return vn(this._tNode,this._lView,t,void 0,e)}}function Cn(t){const e=t;if(U(t))return()=>{const t=Cn(M(e));return t?t():null};let n=Lt(e);if(null===n){const t=x(e);n=t&&t.factory}return n||null}function In(t){return g(()=>{const e=t.prototype.constructor,n=e[Y]||Cn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||Cn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function xn(t){return t.ngDebugContext}function kn(t){return t.ngOriginalError}function An(t,...e){t.error(...e)}class jn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||An}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?xn(t)?xn(t):this._findContext(kn(t)):null}_findOriginalError(t){let e=kn(t);for(;e&&kn(e);)e=kn(e);return e}}class Pn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Nn extends Pn{getTypeName(){return"HTML"}}class Rn extends Pn{getTypeName(){return"Style"}}class Dn extends Pn{getTypeName(){return"Script"}}class Ln extends Pn{getTypeName(){return"URL"}}class Fn extends Pn{getTypeName(){return"ResourceURL"}}function Mn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Vn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Vn(t){return t instanceof Pn&&t.getTypeName()||null}function qn(t){return new Nn(t)}function Bn(t){return new Rn(t)}function Hn(t){return new Dn(t)}function zn(t){return new Ln(t)}function Gn(t){return new Fn(t)}let Kn=!0,$n=!1;function Wn(){return $n=!0,Kn}function Qn(){if($n)throw new Error("Cannot enable prod mode after platform setup.");Kn=!1}class Yn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Xn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tr(t){return(t=String(t)).match(Xn)||t.match(Jn)?t:(Wn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function er(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function nr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const rr=er("area,br,col,hr,img,wbr"),ir=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sr=er("rp,rt"),or=nr(sr,ir),ar=nr(rr,nr(ir,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(sr,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ur=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cr=er("srcset"),lr=nr(ur,cr,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=er("script,style,template");class dr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ar.hasOwnProperty(e))return this.sanitizedSomething=!0,!hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!lr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ur[s]&&(o=tr(o)),cr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>tr(t.trim())).join(", ")),this.buf.push(" ",e,'="',gr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ar.hasOwnProperty(e)&&!rr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/([^\#-~ |!])/g;function gr(t){return t.replace(/&/g,"&amp;").replace(fr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(pr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mr;function yr(t,e){let n=null;try{mr=mr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Yn:new Zn(t)}(t);let r=e?String(e):"";n=mr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=mr.getInertBodyElement(r)}while(r!==s);const o=new dr,a=o.sanitizeChildren(vr(n)||n);return Wn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var br=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function _r(t){const e=function(){const t=ge();return t&&t[12]}();return e?e.sanitize(br.URL,t)||"":Un(t,"URL")?Mn(t):tr(sn(t))}function wr(t,e){t.__ngContext__=e}function Er(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Sr(){throw new Error("Cannot mix multi providers and regular providers")}function Tr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Or(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Tr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Cr(t){return 0===t.type&&"ng-template"!==t.tagName}function Ir(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function xr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ye(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Ir(t,u,n)||""===u&&1===e.length){if(kr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Or(t.attrs,c,n)){if(kr(r))return!1;o=!0}continue}const l=Ar(8&r?"class":u,i,Cr(t),n);if(-1===l){if(kr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Tr(e,c,0)||2&r&&c!==t){if(kr(r))return!1;o=!0}}}}else{if(!o&&!kr(r)&&!kr(u))return!1;if(o&&kr(u))continue;o=!1,r=u|1&r}}return kr(r)||o}function kr(t){return 0==(1&t)}function Ar(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function jr(t,e,n=!1){for(let r=0;r<e.length;r++)if(xr(t,e[r],n))return!0;return!1}function Pr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Nr(t,e){return t?":not("+e.trim()+")":e}function Rr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||kr(o)||(e+=Nr(s,i),i=""),r=o,s=s||!kr(r);n++}return""!==i&&(e+=Nr(s,i)),e}const Dr={};function Lr(t){const e=t[3];return Ut(e)?e[3]:e}function Fr(t){return Ur(t[13])}function Mr(t){return Ur(t[4])}function Ur(t){for(;null!==t&&!Ut(t);)t=t[4];return t}function Vr(t){qr(me(),ge(),Ue()+t,Ee())}function qr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&He(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ze(e,r,0,n)}Ve(n)}function Br(t,e){return t<<17|e<<2}function Hr(t){return t>>17&32767}function zr(t){return 2|t}function Gr(t){return(131068&t)>>2}function Kr(t,e){return-131069&t|e<<2}function $r(t){return 1|t}function Wr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];je(i),n.contentQueries(2,e[s],s)}}}function Qr(t,e,n){return Jt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Yr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,he(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Zr(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=ve(),a=_e(),u=a?o:o&&o.parent,c=t.data[n]=ui(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return be(a,!0),a}function Xr(t,e,n){Ne(e,e[6]);try{const r=t.viewQuery;null!==r&&ji(1,r,n);const i=t.template;null!==i&&ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Wr(t,e),t.staticViewQueries&&ji(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ci(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Me()}}function Jr(t,e,n,r){const i=e[2];if(256==(256&i))return;Ne(e,e[6]);const s=Ee();try{he(e),fe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ei(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&He(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ze(e,n,0,null),Ge(e,0)}if(function(t){for(let e=Fr(t);null!==e;e=Mr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&de(r,1),n[2]|=1024}}}(e),function(t){for(let e=Fr(t);null!==e;e=Mr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];ce(n)&&Jr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Wr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&He(e,n)}else{const n=t.contentHooks;null!==n&&ze(e,n,1),Ge(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,Ve(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(xe(r,i),o(2,e[i])),i++)}}}finally{Ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Oi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ji(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&He(e,n)}else{const n=t.viewHooks;null!==n&&ze(e,n,2),Ge(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,de(e[3],-1))}finally{Me()}}function ti(t,e,n,r){const i=e[10],s=!Ee(),o=ue(e);try{s&&!o&&i.begin&&i.begin(),o&&Xr(t,e,r),Jr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ei(t,e,n,r,i){const s=Ue();try{Ve(-1),2&r&&e.length>20&&qr(t,e,0,Ee()),n(r,i)}finally{Ve(s)}}function ni(t,e,n){if(Vt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ri(t,e,n){pe()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||fn(n,e),wr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Ht(r);s&&_i(e,n,r);const u=En(e,t,a,n);wr(u,e),null!==o&&Ei(0,a-i,u,r,0,o),s&&(oe(n.index,e)[8]=u)}}(t,e,n,re(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,u=fe.lFrame.currentDirectiveIndex;try{Ve(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ke(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?pi(r,i):o&&s.push(null)}}finally{Ve(-1),ke(u)}}(t,e,n))}function ii(t,e,n=re){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function si(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=oi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function oi(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Dr);return n}(l,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ai(t,e,n,r){const i=Ni(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ui(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ci(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function li(t,e,n,r,i,s,o,a){const u=re(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Di(t,n,c,r,i),qt(e)&&function(t,e){const n=oe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.tagName||"",r):i,Jt(s)?s.setProperty(u,r,i):Ze(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function hi(t,e,n,r){let i=!1;if(pe()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];jr(n,o.selectors,!1)&&(i||(i=[]),yn(fn(n,e),t,o.type),Ht(o)?(2&n.flags&&Er(n),mi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,vi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}gi(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Xe(n.mergedAttrs,c.hostAttrs),bi(t,e,c),yi(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),di(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Cr(e)?null:Si(n,i);s.push(c),o=ci(n,u,o),a=ci(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),fi(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Xe(n.mergedAttrs,n.attrs),i}function di(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function fi(t,e,n){for(let r=0;r<n;r++)e.push(Dr),t.blueprint.push(Dr),t.data.push(null)}function pi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function gi(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function yi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ht(e)&&(n[""]=t)}}function vi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Lt(n.type)),i=new We(r,Ht(n),null);t.blueprint.push(i),e.push(i)}function _i(t,e,n){const r=re(e,t),i=si(n),s=t[10],o=Ii(t,Yr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function wi(t,e,n,r,i,s){const o=re(t,e),a=e[11];if(null==r)Jt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?sn(r):i(r,t.tagName||"",n);Jt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}function Ei(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Si(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ti(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Oi(t,e){const n=oe(e,t);if(ce(n)){const t=n[1];80&n[2]?Jr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Fr(e);null!==r;r=Mr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Jr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=oe(n[r],e);ce(i)&&i[5]>0&&t(i)}}(n)}}function Ci(t,e){const n=oe(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Xr(r,n,n[8])}function Ii(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function xi(t){for(;t;){t[2]|=64;const e=Lr(t);if(zt(t)&&!e)return t;t=e}return null}function ki(t,e,n){const r=e[10];r.begin&&r.begin();try{Jr(t,e,t.template,n)}catch(i){throw Ri(e,i),i}finally{r.end&&r.end()}}function Ai(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ae(n),i=r[1];ti(i,r,i.template,n)}}(t[8])}function ji(t,e,n){je(0),e(t,n)}const Pi=(()=>Promise.resolve(null))();function Ni(t){return t[7]||(t[7]=[])}function Ri(t,e){const n=t[9],r=n?n.get(jn,null):null;r&&r.handleError(e)}function Di(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Li(t,e,n){const r=ne(e,t),i=t[11];Jt(i)?i.setValue(r,n):r.textContent=n}function Fi(t,e){const n=e[3];return-1===t.index?Ut(n)?n:null:n}function Mi(t,e){const n=Fi(t,e);return n?Yi(e[11],n[7]):null}function Ui(t,e,n,r,i){if(null!=r){let s,o=!1;Ut(r)?s=r:Mt(r)&&(o=!0,r=r[0]);const a=ee(r);0===t&&null!==n?null==i?Wi(e,n,a):$i(e,n,a,i||null):1===t&&null!==n?$i(e,n,a,i||null):2===t?function(t,e,n){const r=Yi(t,e);r&&function(t,e,n,r){Jt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==ee(n)&&Ui(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];es(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Vi(t,e,n,r){const i=Mi(t.node,e);i&&es(t,e,e[11],n?1:2,i,r)}function qi(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&de(e[3],-1),n.splice(r,1)}function Bi(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&qi(i,r),e>0&&(t[n-1][4]=r[4]);const s=mt(t,10+e);Vi(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Hi(t,e){if(!(256&e[2])){const n=e[11];Jt(n)&&n.destroyNode&&es(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Gi(t[1],t);for(;e;){let n=null;if(Mt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Mt(e)&&Gi(e[1],e),e=zi(e,t);null===e&&(e=t),Mt(e)&&Gi(e[1],e),n=e&&e[4]}e=n}}(e)}}function zi(t,e){let n;return Mt(t)&&(n=t[6])&&2===n.type?Fi(n,t):t[3]===e?null:t[3]}function Gi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof We)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):ee(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Jt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ut(e[3])){r!==e[3]&&qi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Ki(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Mi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return re(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Et.ShadowDom&&n!==Et.Native)return null}return re(r,n)}function $i(t,e,n,r){Jt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Wi(t,e,n){Jt(t)?t.appendChild(e,n):e.appendChild(n)}function Qi(t,e,n,r){null!==r?$i(t,e,n,r):Wi(t,e,n)}function Yi(t,e){return Jt(t)?t.parentNode(e):e.parentNode}function Zi(t,e){if(2===t.type){const n=Fi(t,e);return null===n?null:Ji(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?re(t,e):null}function Xi(t,e,n,r){const i=Ki(t,r,e);if(null!=i){const t=e[11],s=Zi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Qi(t,i,n[e],s);else Qi(t,i,n,s)}}function Ji(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return re(n,e);if(0===r)return Ji(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ut(t)?Ji(-1,t):ee(t)}}{const r=e[16],i=r[6],s=Lr(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function ts(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&wr(ee(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(ts(t,e,n.child,r,i,s,!1),Ui(e,t,i,a,s)):1===u?ns(t,e,r,n,i,s):Ui(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function es(t,e,n,r,i,s){ts(n,r,t.node.child,e,i,s,!1)}function ns(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ui(e,t,i,a[u],s);else ts(t,e,a,o[3],i,s,!0)}function rs(t,e,n){Jt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function is(t,e,n){Jt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class ss{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(ee(o)),Ut(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=Lr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Hi(this._lView[1],this._lView)}onDestroy(t){ai(this._lView[1],this._lView,null,t)}markForCheck(){xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ki(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Se(!0);try{ki(t,e,n)}finally{Se(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,es(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class os extends ss{constructor(t){super(t),this._view=t}detectChanges(){Ai(this._view)}checkNoChanges(){!function(t){Se(!0);try{Ai(t)}finally{Se(!1)}}(this._view)}get context(){return null}}let as,us,cs;function ls(t,e,n){return as||(as=class extends t{}),new as(re(e,n))}function hs(t,e,n,r){return us||(us=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Yr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Xr(e,n,t),new ss(n)}}),0===n.type?new us(r,n,ls(e,n,r)):null}function ds(t,e,n,r){let i;cs||(cs=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return ls(e,this._hostTNode,this._hostView)}get injector(){return new On(this._hostTNode,this._hostView)}get parentInjector(){const t=mn(this._hostTNode,this._hostView),e=rn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=nn(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return tn(t)&&null!=n?new On(n,e):new On(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(dt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ut(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new cs(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],gt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Vi(r,n,!0,Ji(i,this._lContainer)),t.attachToViewContainerRef(this),gt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Bi(this._lContainer,e);n&&(mt(this._lContainer[8],e),Hi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Bi(this._lContainer,e);return n&&null!=mt(this._lContainer[8],e)?new ss(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Ut(s))i=s;else{let t;if(4===n.type)t=ee(s);else if(t=r[11].createComment(""),zt(r)){const e=r[11],i=re(n,r);$i(e,Yi(e,i),t,function(t,e){return Jt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Xi(r[1],r,t,n);r[n.index]=i=Ti(s,r,t,n),Ii(r,i)}return new cs(i,n,r)}function fs(t=!1){return function(t,e,n){if(!n&&qt(t)){const n=oe(t.index,e);return new ss(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new ss(e[16],e):null}(ve(),ge(),t)}let ps=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>gs(),t})();const gs=fs,ms=Function,ys=new X("Set Injector scope."),vs={},bs={},_s=[];let ws=void 0;function Es(){return void 0===ws&&(ws=new ht),ws}function Ss(t,e=null,n=null,r){return new Ts(t,n,e||Es(),r)}class Ts{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&pt(e,n=>this.processProvider(n,t,e)),pt([t],t=>this.processInjectorType(t,[],i)),this.records.set(J,Is(void 0,this));const s=this.records.get(ys);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:R(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=tt,n=w.Default){this.assertNotDestroyed();const r=st(this);try{if(!(n&w.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof X)&&C(t);e=n&&this.injectableDefInScope(n)?Is(Os(t),vs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&w.Self?Es():this.parent).get(t,e=n&w.Optional&&e===tt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(R(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=R(e);if(Array.isArray(e))i=e.map(R).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):R(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(et,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{st(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(R(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=M(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{pt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];pt(r,t=>this.processProvider(t,n,r||_s))}}this.injectorDefTypes.add(s),this.records.set(s,Is(r.factory,vs));const a=r.providers;if(null!=a&&!o){const e=t;pt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ks(t=M(t))?t:M(t&&t.provide);const i=function(t,e,n){return xs(t)?Is(void 0,t.useValue):Is(Cs(t,e,n),vs)}(t,e,n);if(ks(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Sr()}else{let e=this.records.get(r);e?void 0===e.multi&&Sr():(e=Is(void 0,vs,!0),e.factory=()=>lt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===bs?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(R(t)):e.value===vs&&(e.value=bs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Os(t){const e=C(t),n=null!==e?e.factory:Lt(t);if(null!==n)return n;const r=x(t);if(null!==r)return r.factory;if(t instanceof X)throw new Error(`Token ${R(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=yt(e,"?");throw new Error(`Can't resolve all parameters for ${R(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[P]||t[j]&&t[j]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Cs(t,e,n){let r=void 0;if(ks(t)){const e=M(t);return Lt(e)||Os(e)}if(xs(t))r=()=>M(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...lt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ut(M(t.useExisting));else{const i=M(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${R(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Lt(i)||Os(i);r=()=>new i(...lt(t.deps))}var i;return r}function Is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xs(t){return null!==t&&"object"==typeof t&&nt in t}function ks(t){return"function"==typeof t}const As=function(t,e,n){return function(t,e=null,n=null,r){const i=Ss(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let js=(()=>{class t{static create(t,e){return Array.isArray(t)?As(t,e,""):As(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=tt,t.NULL=new ht,t.\u0275prov=T({token:t,providedIn:"any",factory:()=>ut(J)}),t.__NG_ELEMENT_ID__=-1,t})();const Ps=new X("AnalyzeForEntryComponents");function Ns(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=D(i,t):2==s&&(r=D(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Rs=null;function Ds(){if(!Rs){const t=z.Symbol;if(t&&t.iterator)Rs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Rs=n)}}}return Rs}class Ls{constructor(t){this.wrapped=t}static wrap(t){return new Ls(t)}static unwrap(t){return Ls.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ls}}function Fs(t){return!!Ms(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ds()in t)}function Ms(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Us(t,e,n){return t[e]=n}function Vs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qs(t,e,n,r){const i=Vs(t,e,n);return Vs(t,e+1,r)||i}function Bs(t,e,n,r){const i=ge();return Vs(i,Ce(),e)&&(me(),wi(qe(),i,t,e,n,r)),Bs}function Hs(t,e,n,r){return Vs(t,Ce(),n)?e+sn(n)+r:Dr}function zs(t,e,n,r,i,s){const o=qs(t,Oe(),n,i);return Ie(2),o?e+sn(n)+r+sn(i)+s:Dr}function Gs(t,e,n,r,i,s){const o=ge(),a=Hs(o,e,n,r);return a!==Dr&&wi(qe(),o,t,a,i,s),Gs}function Ks(t,e,n,r,i,s,o,a){const u=ge(),c=me(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Zr(e,n[6],t,0,o||null,le(c,a));hi(e,n,l,le(c,u)),Be(e,l);const h=l.tViews=oi(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=ui(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];be(h,!1);const d=u[11].createComment("");Xi(c,u,d,h),wr(d,u),Ii(u,u[l]=Ti(d,u,d,h)),Bt(h)&&ri(c,u,h),null!=o&&ii(u,h,a)}function $s(t,e=w.Default){const n=ge();return null==n?ut(t,e):vn(ve(),n,M(t),e)}function Ws(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ye(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ve(),t)}function Qs(t,e,n){const r=ge();return Vs(r,Ce(),e)&&li(me(),qe(),r,t,e,r[11],n,!1),Qs}function Ys(t,e,n,r,i){const s=i?"class":"style";Di(t,n,e.inputs[s],s,r)}function Zs(t,e,n,r){const i=ge(),s=me(),o=20+t,a=i[11],u=i[o]=Qr(e,a,fe.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=le(a,s),c=Zr(e,n[6],t,3,i,u);return hi(e,n,c,le(a,o)),null!==c.attrs&&Ns(c,c.attrs,!1),null!==c.mergedAttrs&&Ns(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];be(c,!0);const l=c.mergedAttrs;null!==l&&Qe(a,u,l);const h=c.classes;null!==h&&is(a,u,h);const d=c.styles;null!==d&&rs(a,u,d),Xi(s,i,u,c),0===fe.lFrame.elementDepthCount&&wr(u,i),fe.lFrame.elementDepthCount++,Bt(c)&&(ri(s,i,c),ni(s,c,i)),null!==r&&ii(i,c)}function Xs(){let t=ve();_e()?we():(t=t.parent,be(t,!1));const e=t;fe.lFrame.elementDepthCount--;const n=me();n.firstCreatePass&&(Be(n,t),Vt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ys(n,e,ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ys(n,e,ge(),e.stylesWithoutHost,!1)}function Js(t,e,n,r){Zs(t,e,n,r),Xs()}function to(t,e,n){const r=ge(),i=me(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=le(s,r),a=Zr(e,n[6],t,4,"ng-container",o);return null!==o&&Ns(a,o,!0),hi(e,n,a,le(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];be(o,!0);const a=r[s]=r[11].createComment("");Xi(i,r,a,o),wr(a,r),Bt(o)&&(ri(i,r,o),ni(i,o,r)),null!=n&&ii(r,o)}function eo(){let t=ve();const e=me();_e()?we():(t=t.parent,be(t,!1)),e.firstCreatePass&&(Be(e,t),Vt(t)&&e.queries.elementEnd(t))}function no(){return ge()}function ro(t){return!!t&&"function"==typeof t.then}function io(t){return!!t&&"function"==typeof t.subscribe}function so(t,e,n=!1,r){const i=ge(),s=me(),o=ve();return function(t,e,n,r,i,s,o=!1,a){const u=Bt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ni(e);let h=!0;if(3===r.type){const d=re(r,e),f=a?a(d):St,p=f.target||d,g=l.length,m=a?t=>a(ee(t[r.index])).target:r.index;if(Jt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ao(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=ao(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),so}function oo(t,e,n){try{return!1!==e(n)}catch(r){return Ri(t,r),!1}}function ao(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?oe(t.index,e):e;0==(32&e[2])&&xi(o);let a=oo(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=oo(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function uo(t=1){return function(t){return(fe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,fe.lFrame.contextLView))[8]}(t)}function co(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?jr(t,s,!0):Pr(r,s))return i}else n=i}return n}function lo(t){const e=ge()[16][6];if(!e.projection){const n=e.projection=yt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?co(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ho(t,e=0,n){const r=ge(),i=me(),s=Zr(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),we(),function(t,e,n){ns(e[11],0,e,n,Ki(t,n,e),Zi(n.parent||e[6],e))}(i,r,s)}function fo(t,e,n,r,i,s,o){const a=ge(),u=zs(a,e,n,r,i,s);return u!==Dr&&li(me(),qe(),a,t,u,a[11],o,!1),fo}const po=[];function go(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Hr(s):Gr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];mo(t[a],e)&&(u=!0,t[a+1]=r?$r(n):zr(n)),a=r?Hr(n):Gr(n)}u&&(t[n+1]=r?zr(s):$r(s))}function mo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_t(t,e)>=0}const yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vo(t){return t.substring(yo.key,yo.keyEnd)}function bo(t){return t.substring(yo.value,yo.valueEnd)}function _o(t,e){const n=yo.textEnd;return n===e?-1:(e=yo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,yo.key=e,n),So(t,e,n))}function wo(t,e){const n=yo.textEnd;let r=yo.key=So(t,e,n);return n===r?-1:(r=yo.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=To(t,r,n),r=yo.value=So(t,r,n),r=yo.valueEnd=function(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const u=t.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=Oo(t,u,o,n):e===o-4&&85===s&&82===i&&76===r&&40===u?a=o=Oo(t,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(t,r,n),To(t,r,n))}function Eo(t){yo.key=0,yo.keyEnd=0,yo.value=0,yo.valueEnd=0,yo.textEnd=t.length}function So(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function To(t,e,n,r){return(e=So(t,e,n))<n&&e++,e}function Oo(t,e,n,r){let i=-1,s=n;for(;s<r;){const n=t.charCodeAt(s++);if(n==e&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function Co(t,e,n){return Po(t,e,n,!1),Co}function Io(t,e){return Po(t,e,null,!0),Io}function xo(t){No(Mo,ko,t,!1)}function ko(t,e){for(let n=function(t){return Eo(t),wo(t,So(t,0,yo.textEnd))}(e);n>=0;n=wo(e,n))Mo(t,vo(e),bo(e))}function Ao(t){No(vt,jo,t,!0)}function jo(t,e){for(let n=function(t){return Eo(t),_o(t,So(t,0,yo.textEnd))}(e);n>=0;n=_o(e,n))vt(t,vo(e),!0)}function Po(t,e,n,r){const i=ge(),s=me(),o=Ie(2);s.firstUpdatePass&&Do(s,t,o,r),e!==Dr&&Vs(i,o,e)&&Uo(s,s.data[Ue()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=R(Mn(t)))),t}(e,n),r,o)}function No(t,e,n,r){const i=me(),s=Ie(2);i.firstUpdatePass&&Do(i,null,s,r);const o=ge();if(n!==Dr&&Vs(o,s,n)){const a=i.data[Ue()+20];if(Bo(a,r)&&!Ro(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=D(t,n||"")),Ys(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Dr&&(i=po);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,d!==f&&(p=h,g=f)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=f),null!==p&&Uo(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return po;const r=[],i=Mn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Ro(t,e){return e>=t.expandoStartIndex}function Do(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ue()+20],o=Ro(t,n);Bo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=fe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Fo(n=Lo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Lo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Gr(r))return t[Hr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Lo(null,t,e,n[1],r),n=Fo(n,e.attrs,r),function(t,e,n,r){t[Hr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Fo(r,t[s].hostAttrs,n);return Fo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Hr(o),u=Gr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||_t(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Hr(t[a+1]);t[r+1]=Br(e,a),0!==e&&(t[e+1]=Kr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Br(a,0),0!==a&&(t[a+1]=Kr(t[a+1],r)),a=r;else t[r+1]=Br(u,0),0===a?a=r:t[u+1]=Kr(t[u+1],r),u=r;l&&(t[r+1]=zr(t[r+1])),go(t,c,r,!0),go(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&_t(s,e)>=0&&(n[r+1]=$r(n[r+1]))}(e,c,t,r,s),o=Br(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Lo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Fo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Fo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vt(t,o,!!n||e[++s]))}return void 0===t?null:t}function Mo(t,e,n){vt(t,e,Mn(n))}function Uo(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,c=u[a+1];qo(1==(1&c)?Vo(u,e,n,i,Gr(c),o):void 0)||(qo(s)||function(t){return 2==(2&t)}(c)&&(s=Vo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Jt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,ne(Ue(),n),i,s))}function Vo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Dr&&(l=c?po:void 0);let h=c?bt(l,r):u===r?l:void 0;if(s&&!qo(h)&&(h=bt(e,r)),qo(h)&&(a=h,o))return a;const d=t[i+1];i=o?Hr(d):Gr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=bt(t,r))}return a}function qo(t){return void 0!==t}function Bo(t,e){return 0!=(t.flags&(e?16:32))}function Ho(t,e=""){const n=ge(),r=me(),i=t+20,s=r.firstCreatePass?Zr(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Jt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Xi(r,n,o,s),be(s,!1)}function zo(t){return Go("",t,""),zo}function Go(t,e,n){const r=ge(),i=Hs(r,t,e,n);return i!==Dr&&Li(r,Ue(),i),Go}function Ko(t,e,n,r,i){const s=ge(),o=zs(s,t,e,n,r,i);return o!==Dr&&Li(s,Ue(),o),Ko}function $o(t,e,n){const r=ge();return Vs(r,Ce(),e)&&li(me(),qe(),r,t,e,r[11],n,!0),$o}function Wo(t,e){const n=ae(t)[1],r=n.data.length-1;Be(n,{directiveStart:r,directiveEnd:r+1})}function Qo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ht(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Yo(t.inputs),e.declaredInputs=Yo(t.declaredInputs),e.outputs=Yo(t.outputs);const n=i.hostBindings;n&&Jo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Zo(t,s),o&&Xo(t,o),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),Ht(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Qo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xe(i.hostAttrs,n=Xe(n,i.hostAttrs))}}(r)}function Yo(t){return t===St?{}:t===Tt?[]:t}function Zo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Xo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Jo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function ta(t,e,n,r,i){if(t=M(t),Array.isArray(t))for(let s=0;s<t.length;s++)ta(t[s],e,n,r,i);else{const s=me(),o=ge();let a=ks(t)?t:M(t.provide),u=Cs(t);const c=ve(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(ks(t)||!t.multi){const r=new We(u,i,$s),f=ra(a,e,i?l:l+d,h);-1===f?(yn(fn(c,o),s,a),ea(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=ra(a,e,l+d,h),p=ra(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){yn(fn(c,o),s,a);const l=function(t,e,n,r,i){const s=new We(t,n,$s);return s.multi=[],s.index=e,s.componentProviders=0,na(s,i,r&&!n),s}(i?sa:ia,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ea(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else ea(s,t,f>-1?f:p,na(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ea(t,e,n,r){const i=ks(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function na(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ra(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ia(t,e,n,r){return oa(this.multi,[])}function sa(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=En(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),oa(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],oa(i,s);return s}function oa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function aa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=me();if(r.firstCreatePass){const i=Ht(t);ta(n,r.data,r.blueprint,i,!0),ta(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ua{}class ca{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${R(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let la=(()=>{class t{}return t.NULL=new ca,t})(),ha=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>da(t),t})();const da=function(t){return ls(t,ve(),ge())};class fa{}var pa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let ga=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ma(),t})();const ma=function(){const t=ge(),e=oe(ve().index,t);return function(t){const e=t[11];if(Jt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Mt(e)?e:t)};let ya=(()=>{class t{}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>null}),t})();class va{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ba=new va("10.0.14");class _a{constructor(){}supports(t){return Fs(t)}create(t){return new Ea(t)}}const wa=(t,e)=>e;class Ea{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ca(n,r,i)?e:n,o=Ca(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Fs(t))throw new Error(`Error trying to diff '${R(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ds()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Sa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Oa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Oa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Sa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ta{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Oa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ta,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ca(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ia{constructor(){}supports(t){return t instanceof Map||Ms(t)}create(){return new xa}}class xa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ms(t)))throw new Error(`Error trying to diff '${R(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ka(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ka{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new _a])}),t})(),ja=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new Ia])}),t})();const Pa=[new Ia],Na=new Aa([new _a]),Ra=new ja(Pa);let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>La(t,ha),t})();const La=function(t,e){return hs(t,e,ve(),ge())};let Fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ma(t,ha),t})();const Ma=function(t,e){return ds(t,e,ve(),ge())},Ua={};class Va extends la{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Dt(t);return new Ha(e,this.ngModule)}}function qa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ba=new X("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>an});class Ha extends ua{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Rr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return qa(this.componentDef.inputs)}get outputs(){return qa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Ua,i);return s!==Ua||r===Ua?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(fa,te),o=i.get(ya,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Jt(t))return t.selectRootElement(e,n===Et.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Qr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:an,clean:Pi,playerHandler:null,flags:0},d=oi(0,-1,null,1,0,null,null,null,null,null),f=Yr(null,d,h,l,null,null,s,a,o,i);let p,g;Ne(f,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Zr(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ns(a,u,!0),null!==t&&(Qe(i,t,u),null!==a.classes&&is(i,t,a.classes),null!==a.styles&&rs(i,t,a.styles)));const c=r.createRenderer(t,e),l=Yr(n,si(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return o.firstCreatePass&&(yn(fn(a,n),o,e.type),mi(o,a),vi(a,n.length,1)),Ii(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Qe(a,c,["ng-version",ba.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!kr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Qe(a,c,t),e&&e.length>0&&is(a,c,e.join(" "))}if(g=ie(d,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ve();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),gi(t,r,1),bi(t,e,n));const i=En(e,t,e.length-1,r);wr(i,e);const s=re(r,e);return s&&wr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=ve();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ve(a.index-20);const t=n[1];di(t,e),fi(t,n,e.hostVars),pi(e,o)}return o}(t,this.componentDef,f,h,[Wo]),Xr(d,f,null)}finally{Me()}const m=new za(this.componentType,p,ls(ha,g,f),f,g);return d.node.child=g,m}}class za extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new os(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=ui(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new On(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Ga=void 0;var Ka=["en",[["a","p"],["AM","PM"],Ga],[["AM","PM"],Ga,Ga],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ga,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ga,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ga,"{1} 'at' {0}",Ga],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let $a={};function Wa(t,e,n){"string"!=typeof e&&(n=e,e=t[Ja.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),$a[e]=t,n&&($a[e][Ja.ExtraData]=n)}function Qa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Xa(e);if(n)return n;const r=e.split("-")[0];if(n=Xa(r),n)return n;if("en"===r)return Ka;throw new Error(`Missing locale data for the locale "${t}".`)}function Ya(t){return Qa(t)[Ja.CurrencyCode]||null}function Za(t){return Qa(t)[Ja.PluralCase]}function Xa(t){return t in $a||($a[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),$a[t]}var Ja=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let tu="en-US";function eu(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(tu=t.toLowerCase().replace(/_/g,"-"))}const nu=new Map;class ru extends dt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Va(this);const n=Ft(t),r=t[Q]||null;r&&eu(r),this._bootstrapComponents=cn(n.bootstrap),this._r3Injector=Ss(t,e,[{provide:dt,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],R(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=js.THROW_IF_NOT_FOUND,n=w.Default){return t===js||t===dt||t===J?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class iu extends ft{constructor(t){super(),this.moduleType=t,null!==Ft(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${R(e)} vs ${R(e.name)}`)})(t,nu.get(t),e),nu.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ru(this.moduleType,t)}}function su(t,e,n,r){return uu(ge(),Te(),t,e,n,r)}function ou(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return qs(t,a,i,s)?Us(t,a+2,o?r.call(o,i,s):r(i,s)):au(t,a+2)}(ge(),Te(),t,e,n,r,i)}function au(t,e){const n=t[e];return n===Dr?void 0:n}function uu(t,e,n,r,i,s){const o=e+n;return Vs(t,o,i)?Us(t,o+1,s?r.call(s,i):r(i)):au(t,o+1)}function cu(t,e){const n=me();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Lt(r.type)),o=ot($s),a=hn(!1),u=s();return hn(a),ot(o),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ge(),t,u),u}function lu(t,e,n){const r=ge(),i=se(r,t);return fu(r,du(r,t)?uu(r,Te(),e,i.transform,n,i):i.transform(n))}function hu(t,e,n,r,i){const s=ge(),o=se(s,t);return fu(s,du(s,t)?function(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=qs(t,e,n,r);return Vs(t,e+2,i)||s}(t,u,i,s,o)?Us(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):au(t,u+3)}(s,Te(),e,o.transform,n,r,i,o):o.transform(n,r,i))}function du(t,e){return t[1].data[e+20].pure}function fu(t,e){return Ls.isWrapped(e)&&(e=Ls.unwrap(e),t[Oe()]=Dr),e}const pu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function gu(){return this._results[Ds()]()}class mu{constructor(){this.dirty=!0,this._results=[],this.changes=new pu,this.length=0;const t=Ds(),e=mu.prototype;e[t]||(e[t]=gu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class yu{constructor(t){this.queryList=t,this.matches=null}clone(){return new yu(this.queryList)}setDirty(){this.queryList.setDirty()}}class vu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new vu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==xu(t,e).matches&&this.queries[e].setDirty()}}class bu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class _u{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new _u(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class wu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new wu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Eu(e,i)),this.matchTNodeWithReadOption(t,e,wn(e,t,i,!1,!1))}else n===Da?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,wn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ha||r===Fa||r===Da&&0===e.type)this.addMatch(e.index,-2);else{const n=wn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Eu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Su(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?ls(ha,t,e):0===t.type?hs(Da,ha,t,e):null}(e,t):-2===n?function(t,e,n){return n===ha?ls(ha,e,t):n===Da?hs(Da,ha,e,t):n===Fa?ds(Fa,ha,e,t):void 0}(t,e,r):En(t,t[1],n,e)}function Tu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Su(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ou(t){const e=ge(),n=me(),r=Ae();je(r+1);const i=xu(n,r);if(t.dirty&&ue(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=Tu(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):Tu(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Cu(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new _u),t.queries.track(new wu(e,n))}(t,new bu(n,r,!1,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),function(t,e){const n=new mu;ai(t,e,n,n.destroy),null===e[19]&&(e[19]=new vu),e[19].queries.push(new yu(n))}(t,e)}(me(),ge(),e,n,r,0,ve(),t)}function Iu(){return t=ge(),e=Ae(),t[19].queries[e].queryList;var t,e}function xu(t,e){return t.queries.getByIndex(e)}function ku(t=w.Default){const e=fs(!0);if(null!=e||t&w.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Au=new X("Application Initializer");let ju=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ro(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ut(Au,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Pu=new X("AppId"),Nu={provide:Pu,useFactory:function(){return`${Ru()}${Ru()}${Ru()}`},deps:[]};function Ru(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Du=new X("Platform Initializer"),Lu=new X("Platform ID"),Fu=new X("appBootstrapListener");let Mu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Uu=new X("LocaleId"),Vu=new X("DefaultCurrencyCode");class qu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Bu=function(t){return new iu(t)},Hu=Bu,zu=function(t){return Promise.resolve(Bu(t))},Gu=function(t){const e=Bu(t),n=cn(Ft(t).declarations).reduce((t,e)=>{const n=Dt(e);return n&&t.push(new Ha(n)),t},[]);return new qu(e,n)},Ku=Gu,$u=function(t){return Promise.resolve(Gu(t))};let Wu=(()=>{class t{constructor(){this.compileModuleSync=Hu,this.compileModuleAsync=zu,this.compileModuleAndAllComponentsSync=Ku,this.compileModuleAndAllComponentsAsync=$u}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Qu=(()=>Promise.resolve(0))();function Yu(t){"undefined"==typeof Zone?Qu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Zu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pu(!1),this.onMicrotaskEmpty=new pu(!1),this.onStable=new pu(!1),this.onError=new pu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ec(t),tc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ec(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return nc(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),rc(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return nc(t),e.invoke(r,i,s,o,a)}finally{rc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ec(t),tc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ju,Xu,Xu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Xu(){}const Ju={};function tc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ec(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function nc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rc(t){t._nesting--,tc(t)}class ic{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pu,this.onMicrotaskEmpty=new pu,this.onStable=new pu,this.onError=new pu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let sc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zu.assertNotInAngularZone(),Yu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ut(Zu))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})(),oc=(()=>{class t{constructor(){this._applications=new Map,lc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return lc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();class ac{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function uc(t){lc=t}let cc,lc=new ac;const hc=new X("AllowMultipleToken");class dc{constructor(t,e){this.name=t,this.token=e}}function fc(t,e,n=[]){const r="Platform: "+e,i=new X(r);return(e=[])=>{let s=pc();if(!s||s.injector.get(hc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ys,useValue:"platform"});!function(t){if(cc&&!cc.destroyed&&!cc.injector.get(hc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");cc=t.get(gc);const e=t.get(Du,null);e&&e.forEach(t=>t())}(js.create({providers:t,name:r}))}return function(t){const e=pc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function pc(){return cc&&!cc.destroyed?cc:null}let gc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ic:("zone.js"===t?void 0:t)||new Zu({enableLongStackTrace:Wn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Zu,useValue:n}];return n.run(()=>{const e=js.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(jn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>vc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return ro(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(ju);return t.runInitializers(),t.donePromise.then(()=>(eu(i.injector.get(Uu,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=mc({},e);return function(t,e,n){const r=new iu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(yc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${R(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ut(js))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function mc(t,e){return Array.isArray(e)?e.reduce(mc,t):Object.assign(Object.assign({},t),e)}let yc=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Wn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Zu.assertNotInAngularZone(),Yu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ua?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(dt),i=n.create(js.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(sc,null);return s&&i.injector.get(oc).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Wn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;vc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),vc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ut(Zu),ut(Mu),ut(js),ut(jn),ut(la),ut(ju))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function vc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bc{}class _c{}const wc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ec=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||wc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Sc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Sc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ut(Wu),ut(_c,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function Sc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Tc=function(t){return null},Oc=fc(null,"core",[{provide:Lu,useValue:"unknown"},{provide:gc,deps:[js]},{provide:oc,deps:[]},{provide:Mu,deps:[]}]),Cc=[{provide:yc,useClass:yc,deps:[Zu,Mu,js,jn,la,ju]},{provide:Ba,deps:[Zu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ju,useClass:ju,deps:[[new v,Au]]},{provide:Wu,useClass:Wu,deps:[]},Nu,{provide:Aa,useFactory:function(){return Na},deps:[]},{provide:ja,useFactory:function(){return Ra},deps:[]},{provide:Uu,useFactory:function(t){return eu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new y(Uu),new v,new _]]},{provide:Vu,useValue:"USD"}];let Ic=(()=>{class t{constructor(t){}}return t.\u0275mod=At({type:t}),t.\u0275inj=O({factory:function(e){return new(e||t)(ut(yc))},providers:Cc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return O})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return C})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return k})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return g})),n.d(e,"m",(function(){return y})),n.d(e,"n",(function(){return v})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return f})),n.d(e,"q",(function(){return m})),n.d(e,"r",(function(){return _})),n.d(e,"s",(function(){return b}));var r=n("mrSG"),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){return function(t){var e=i(t);return s.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function a(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function _(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var w=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,E.prototype.create),s}return Object(r.c)(e,t),e}(Error),E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?S(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new w(i,a,r);return u},t}();function S(t,e){return t.replace(T,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var T=/\{\$([^}]+)}/g;function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new I(t,e);return n.subscribe.bind(n)}var I=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function x(){}function k(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"j",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function T(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[v,u.z,[new u.A,b]]};let C=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Tb(u.B))},providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),f=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.g)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}s(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.h)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.h)(e,t)},createSubscribe:o.f,ErrorFactory:o.b,deepExtend:o.h}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(o.k)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.p)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.30",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyCJ93RlP121bcUHuAnmGiOUTUhGrL4QqZs",authDomain:"portfolio-daac.firebaseapp.com",projectId:"portfolio-daac",storageBucket:"portfolio-daac.appspot.com",messagingSenderId:"613550579273",appId:"1:613550579273:web:a83a4df58689a0836a6998",measurementId:"G-86FSQK3HTS"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Tb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a))},t.\u0275prov=Object(r.Gb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Tb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Tb)(a).location;return new _(Object(r.Tb)(u),e&&e.origin||"")}const b=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(u),r.Tb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(u),r.Tb(b,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(y),r.Tb(u))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Gb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Tb)(y),Object(r.Tb)(u))}function T(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.lb;class I{}let x=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function k(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let A=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.s),r.Kb(r.t),r.Kb(r.l),r.Kb(r.D))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new N(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let F=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:I,useClass:x}]}),t})(),M=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new U(Object(r.Tb)(a),window,Object(r.Tb)(r.m))}),t})();class U{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=V(this.window.history)||V(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function V(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new q,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=H||(H=document.querySelector("base"),H)?H.getAttribute("href"):null;return null==e?null:(n=e,B||(B=document.createElement("a")),B.setAttribute("href",n),"/"===B.pathname.charAt(0)?B.pathname:"/"+B.pathname);var n}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return k(document.cookie,t)}}let B,H=null;const z=new r.q("TRANSITION_ID"),G=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,a,r.r],multi:!0}];class K{static init(){Object(r.W)(new K)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const $=new r.q("EventManagerPlugins");let W=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb($),r.Tb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Y=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Z=(()=>{class t extends Y{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},J=/%COMP%/g;function tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tt(t,i,n):(i=i.replace(J,t),n.push(i))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new it(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(W),r.Tb(Z),r.Tb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(X[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=X[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=X[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class it extends rt{constructor(t,e,n,r){super(t),this.component=n;const i=tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(J,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(J,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends rt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=tt(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends Q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends Q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ct.hasOwnProperty(e)&&(e=ct[e]))}return ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,lt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const dt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){q.makeCurrent(),K.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],ft=Object(r.R)(r.V,"browser",dt),pt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:$,useClass:ot,multi:!0,deps:[a,r.z,r.B]},{provide:$,useClass:ht,multi:!0,deps:[a]},[],{provide:nt,useClass:nt,deps:[W,Z,r.c]},{provide:r.E,useExisting:nt},{provide:Y,useExisting:Z},{provide:Z,useClass:Z,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:W,useClass:W,deps:[$,r.z]},[]];let gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:z,useExisting:r.c},G]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Tb(t,12))},providers:pt,imports:[F,r.f]}),t})();"undefined"!=typeof window&&window;class mt{}function yt(t,e){return{type:7,name:t,definitions:e,options:{}}}function vt(t,e=null){return{type:4,styles:e,timings:t}}function bt(t,e=null){return{type:2,steps:t,options:e}}function _t(t){return{type:6,styles:t,offset:null}}function wt(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Et(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function St(t,e){return{type:12,timings:t,animation:e}}function Tt(t){Promise.resolve(null).then(t)}class Ot{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Tt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ct{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Tt(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function It(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xt(t){switch(t.length){case 0:return new Ot;case 1:return t[0];default:return new Ct(t)}}function kt(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function At(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&jt(n,"start",t)));break;case"done":t.onDone(()=>r(n&&jt(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&jt(n,"destroy",t)))}}function jt(t,e,n){const r=n.totalTime,i=Pt(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Pt(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Nt(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Rt(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Dt=(t,e)=>!1,Lt=(t,e)=>!1,Ft=(t,e,n)=>[];const Mt=It();(Mt||"undefined"!=typeof Element)&&(Dt=(t,e)=>t.contains(e),Lt=(()=>{if(Mt||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Lt}})(),Ft=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Ut=null,Vt=!1;function qt(t){Ut||(Ut=("undefined"!=typeof document?document.body:null)||{},Vt=!!Ut.style&&"WebkitAppearance"in Ut.style);let e=!0;return Ut.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ut.style,!e&&Vt)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ut.style),e}const Bt=Lt,Ht=Dt,zt=Ft;function Gt(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Kt=(()=>{class t{validateStyleProperty(t){return qt(t)}matchesElement(t,e){return Bt(t,e)}containsElement(t,e){return Ht(t,e)}query(t,e,n){return zt(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Ot(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),$t=(()=>{class t{}return t.NOOP=new Kt,t})();function Wt(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qt(parseFloat(e[1]),e[2])}function Qt(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Yt(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Qt(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Qt(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Zt(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Xt(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Zt(t,n);return n}function Jt(t,e,n){return n?e+":"+n+";":""}function te(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Jt(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Jt(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function ee(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=ce(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),It()&&te(t))}function ne(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=ce(e);t.style[n]=""}),It()&&te(t))}function re(t){return Array.isArray(t)?1==t.length?t[0]:bt(t):t}const ie=new RegExp("{{\\s*(.+?)\\s*}}","g");function se(t){let e=[];if("string"==typeof t){let n;for(;n=ie.exec(t);)e.push(n[1]);ie.lastIndex=0}return e}function oe(t,e,n){const r=t.toString(),i=r.replace(ie,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function ae(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ue=/-+([a-z0-9])/g;function ce(t){return t.replace(ue,(...t)=>t[1].toUpperCase())}function le(t,e){return 0===t||0===e}function he(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=fe(t,e)}))}}return e}function de(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function fe(t,e){return window.getComputedStyle(t)[e]}function pe(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(ye(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(ye(o,i))}(t,n,e)):n.push(t),n}const ge=new Set(["true","1"]),me=new Set(["false","0"]);function ye(t,e){const n=ge.has(t)||me.has(t),r=ge.has(e)||me.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?ge.has(t):me.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?ge.has(e):me.has(e)),o&&a}}const ve=new RegExp("s*:selfs*,?","g");function be(t,e,n){return new _e(t).build(e,n)}class _e{constructor(t){this._driver=t}build(t,e){const n=new we(e);return this._resetContextStyleTimingState(n),de(this,re(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Ee(t)){const e=t;Object.keys(e).forEach(t=>{se(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=ae(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=de(this,re(t.animation),e);return{type:1,matchers:pe(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Se(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>de(this,t,e)),options:Se(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=de(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Se(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Te(Yt(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Te(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Yt(r,e),Te(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:_t({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=_t(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Ee(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=se(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Ee(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Ee(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:de(this,re(t.animation),e),options:Se(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Se(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Se(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(ve,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Nt(e.collectedStyles,e.currentQuerySelector,{});const o=de(this,re(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Se(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Yt(t.timings,e.errors,!0);return{type:12,animation:de(this,re(t.animation),e),timings:n,options:null}}}class we{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ee(t){return!Array.isArray(t)&&"object"==typeof t}function Se(t){var e;return t?(t=Zt(t)).params&&(t.params=(e=t.params)?Zt(e):null):t={},t}function Te(t,e,n){return{duration:t,delay:e,easing:n}}function Oe(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ce{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ie=new RegExp(":enter","g"),xe=new RegExp(":leave","g");function ke(t,e,n,r,i,s={},o={},a,u,c=[]){return(new Ae).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class Ae{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new Ce;const l=new Pe(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),de(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Oe(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Wt(n.duration):null,s=null!=n.delay?Wt(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),de(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=je);const t=Wt(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>de(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Wt(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),de(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Yt(e.params?oe(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Wt(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=je);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),de(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;de(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const je={};class Pe{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=je,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ne(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Wt(n.duration)),null!=n.delay&&(r.delay=Wt(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=oe(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Pe(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=je,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Re(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Ie,"."+this._enterClassName)).replace(xe,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ne{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ne(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):Xt(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=oe(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Xt(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?ae(t.values()):[],s=e.size?ae(e.values()):[];if(n){const t=r[0],e=Zt(t);t.offset=0,e.offset=1,r=[t,e]}return Oe(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Re extends Ne{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Xt(t[0],!1);a.offset=0,i.push(a);const u=Xt(t[0],!1);u.offset=De(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=Xt(t[r],!1);o.offset=De((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Oe(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function De(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Le{}class Fe extends Le{normalizePropertyName(t,e){return ce(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Me[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Me=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ue(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const Ve={};class qe{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Ve,d=this.buildStyles(n,o&&o.params||Ve,l),f=a&&a.params||Ve,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=c?[]:ke(t,e,this.ast.animation,i,s,d,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Ue(e,this._triggerName,n,r,v,d,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=Nt(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Nt(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=ae(g.values());return Ue(e,this._triggerName,n,r,v,d,p,_,E,m,y,w)}}class Be{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Zt(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=oe(s,r,e)),n[t]=s})}}),n}}class He{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Be(t.style,t.options&&t.options.params||{})}),ze(this.states,"true","1"),ze(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new qe(t,e,this.states))}),this.fallbackTransition=new qe(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ze(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Ge=new Ce;class Ke{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=be(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=kt(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=ke(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Ge,r),s.forEach(t=>{const e=Nt(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=xt(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Pt(e,"","","");return At(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const $e=[],We={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Ye{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Zt(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ze=new Ye("void");class Xe{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,on(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Nt(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Nt(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(on(t,"ng-trigger"),on(t,"ng-trigger-"+e),a[e]=Ze),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new tn(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(on(t,"ng-trigger"),on(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Ye(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Ze),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{ne(t,n),ee(t,r)})}return}const c=Nt(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(on(t,"ng-animate-queued"),s.onStart(()=>{an(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&xt(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Ze,o=new Ye("void"),a=new tn(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==We||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){on(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Pt(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,At(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Je{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Xe(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(en(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!en(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),on(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),an(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(en(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return en(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return xt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=We,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)on(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?xt(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new Ce,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=sn(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>on(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=sn(h,Array.from(m));b.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>on(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>an(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>an(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>ne(i,p.fromStyles)),e.onDestroy(()=>ee(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>ne(i,p.fromStyles)),e.onDestroy(()=>ee(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Nt(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Nt(E,e,[]).push(t),t.destroy()})});const T=g.filter(t=>cn(t,a,u)),O=new Map;rn(O,this.driver,y,u,"*").forEach(t=>{cn(t,a,u)&&T.push(t)});const C=new Map;d.forEach((t,e)=>{rn(C,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=O.get(t),n=C.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>ee(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,O);if(s.setRealPlayer(n),t===k)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=xt(e)),r.push(s)}}else ne(e,o.fromStyles),s.onDestroy(()=>ee(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=xt(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(an(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?un(this,t,r):this.processLeaveNode(t)}return g.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Nt(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}ne(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Ot(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Ct?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||$e).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=kt(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new tn(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{Nt(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>on(t,"ng-animating"));const d=xt(h);return d.onDestroy(()=>{c.forEach(t=>an(t,"ng-animating")),ee(a,e.toStyles)}),l.forEach(t=>{Nt(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ot(t.duration,t.delay)}}class tn{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ot,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>At(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Nt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function en(t){return t&&1===t.nodeType}function nn(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function rn(t,e,n,r,i){const s=[];n.forEach(t=>s.push(nn(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Qe,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>nn(t,s[a++])),o}function sn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function on(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function an(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function un(t,e,n){xt(n).onDone(()=>t.processLeaveNode(e))}function cn(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class ln{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Je(t,e,n),this._timelineEngine=new Ke(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=be(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new He(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Rt(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Rt(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function hn(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=fn(e[0]),e.length>1&&(r=fn(e[e.length-1]))):e&&(n=fn(e)),n||r?new dn(t,n,r):null}let dn=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ee(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ee(this._element,this._initialStyles),this._endStyles&&(ee(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ne(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ne(this._element,this._endStyles),this._endStyles=null),ee(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function fn(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];pn(i)&&(e=e||{},e[i]=t[i])}return e}function pn(t){return"display"===t||"position"===t}class gn{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=wn(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),_n(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),bn(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){mn(this._element,this._name,"paused")}resume(){mn(this._element,this._name,"running")}setPosition(t){const e=yn(this._element,this._name);this._position=t*this._duration,_n(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),bn(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=wn(t,"").split(","),r=vn(n,e);r>=0&&(n.splice(r,1),_n(t,"",n.join(",")))}(this._element,this._name))}}function mn(t,e,n){_n(t,"PlayState",n,yn(t,e))}function yn(t,e){const n=wn(t,"");return n.indexOf(",")>0?vn(n.split(","),e):vn([n],e)}function vn(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function bn(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function _n(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function wn(t,e){return t.style["animation"+e]}class En{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new gn(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:fe(this.element,n))})}this.currentSnapshot=t}}class Sn extends Ot{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Gt(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Tn{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return qt(t)}matchesElement(t,e){return Bt(t,e)}containsElement(t,e){return Ht(t,e)}query(t,e,n){return zt(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Gt(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof En),u={};le(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=he(t,e,u));if(0==n)return new Sn(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=hn(t,e),f=new En(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class On{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:fe(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Cn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(In().toString()),this._cssKeyframesDriver=new Tn}validateStyleProperty(t){return qt(t)}matchesElement(t,e){return Bt(t,e)}containsElement(t,e){return Ht(t,e)}query(t,e,n){return zt(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof On);le(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=hn(t,e=he(t,e=e.map(t=>Xt(t,!1)),u));return new On(t,e,a,l)}}function In(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let xn=(()=>{class t extends mt{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.Q.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?bt(t):t;return jn(this._renderer,null,e,"register",[n]),new kn(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.E),r.Tb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class kn extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new An(this._id,t,e||{},this._renderer)}}class An{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jn(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function jn(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Pn=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Nn("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Rn(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.E),r.Tb(ln),r.Tb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Nn{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Rn extends Nn{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Dn=(()=>{class t extends ln{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb($t),r.Tb(Le))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Ln=[{provide:$t,useFactory:function(){return"function"==typeof In()?new Cn:new Tn}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:mt,useClass:xn},{provide:Le,useFactory:function(){return new Fe}},{provide:ln,useClass:Dn},{provide:r.E,useFactory:function(t,e,n){return new Pn(t,e,n)},deps:[nt,ln,r.z]}];let Fn=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:Ln,imports:[gt]}),t})();var Mn=n("LRne"),Un=n("Cfvw"),Vn=n("XNiG"),qn=n("9ppp");class Bn extends Vn.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qn.a;return this._value}next(t){super.next(this._value=t)}}var Hn=n("HDdC");const zn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Gn=n("z+Ro"),Kn=n("DH7j"),$n=n("l7GE"),Wn=n("ZUHj"),Qn=n("yCtX");const Yn={};class Zn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Xn(t,this.resultSelector))}}class Xn extends $n.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Yn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Wn.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===Yn?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Jn=n("EY2u");function tr(t){return new Hn.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Un.a)(n):Object(Jn.b)()).subscribe(e)})}var er=n("lJxs"),nr=n("bHdf");function rr(){return Object(nr.a)(1)}var ir=n("7o/Q");function sr(t,e){return function(n){return n.lift(new or(t,e))}}class or{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ar(t,this.predicate,this.thisArg))}}class ar extends ir.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const ur=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function cr(t){return function(e){return 0===t?Object(Jn.b)():e.lift(new lr(t))}}class lr{constructor(t){if(this.total=t,this.total<0)throw new ur}call(t,e){return e.subscribe(new hr(t,this.total))}}class hr extends ir.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function dr(t=gr){return e=>e.lift(new fr(t))}class fr{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new pr(t,this.errorFactory))}}class pr extends ir.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(nw){t=nw}this.destination.error(t)}}}function gr(){return new zn}function mr(t=null){return e=>e.lift(new yr(t))}class yr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new vr(t,this.defaultValue))}}class vr extends ir.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var br=n("SpAZ"),_r=n("51Dv");function wr(t){return function(e){const n=new Er(t),r=e.lift(n);return n.caught=r}}class Er{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Sr(t,this.selector,this.caught))}}class Sr extends $n.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new _r.a(this,void 0,void 0);this.add(r);const i=Object(Wn.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function Tr(t){return e=>0===t?Object(Jn.b)():e.lift(new Or(t))}class Or{constructor(t){if(this.total=t,this.total<0)throw new ur}call(t,e){return e.subscribe(new Cr(t,this.total))}}class Cr extends ir.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ir(t,e){const n=arguments.length>=2;return r=>r.pipe(t?sr((e,n)=>t(e,n,r)):br.a,Tr(1),n?mr(e):dr(()=>new zn))}var xr=n("5+tZ"),kr=n("vkgz");class Ar{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new jr(t,this.predicate,this.thisArg,this.source))}}class jr extends ir.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Pr(t,e){return"function"==typeof e?n=>n.pipe(Pr((n,r)=>Object(Un.a)(t(n,r)).pipe(Object(er.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Nr(t))}class Nr{constructor(t){this.project=t}call(t,e){return e.subscribe(new Rr(t,this.project))}}class Rr extends $n.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new _r.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(Wn.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Dr(...t){return rr()(Object(Mn.a)(...t))}function Lr(...t){const e=t[t.length-1];return Object(Gn.a)(e)?(t.pop(),n=>Dr(t,n,e)):e=>Dr(t,e)}function Fr(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Mr(t,e,n))}}class Mr{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ur(t,this.accumulator,this.seed,this.hasSeed))}}class Ur extends ir.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Vr(t,e){return Object(xr.a)(t,e,1)}var qr=n("quSY");class Br{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Hr(t,this.callback))}}class Hr extends ir.a{constructor(t,e){super(t),this.add(new qr.a(e))}}class zr{constructor(t,e){this.id=t,this.url=e}}class Gr extends zr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kr extends zr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $r extends zr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wr extends zr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qr extends zr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yr extends zr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zr extends zr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xr extends zr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr extends zr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ti{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ei{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ni{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ii{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class si{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ai{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ui(t){return new ai(t)}function ci(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function li(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hi(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!di(t[i],e[i]))return!1;return!0}function di(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function fi(t){return Array.prototype.concat.apply([],t)}function pi(t){return t.length>0?t[t.length-1]:null}function gi(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function mi(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(Un.a)(Promise.resolve(t)):Object(Mn.a)(t)}function yi(t,e,n){return n?function(t,e){return hi(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!wi(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>di(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!wi(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!wi(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!wi(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class vi{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ui(this.queryParams)),this._queryParamMap}toString(){return Oi.serialize(this)}}class bi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,gi(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ci(this)}}class _i{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ui(this.parameters)),this._parameterMap}toString(){return Pi(this)}}function wi(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ei(t,e){let n=[];return gi(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),gi(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Si{}class Ti{parse(t){const e=new Fi(t);return new vi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return Ci(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return gi(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Ei(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${Ci(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${xi(e)}=${xi(t)}`).join("&"):`${xi(e)}=${xi(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Oi=new Ti;function Ci(t){return t.segments.map(t=>Pi(t)).join("/")}function Ii(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xi(t){return Ii(t).replace(/%3B/gi,";")}function ki(t){return Ii(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ai(t){return decodeURIComponent(t)}function ji(t){return Ai(t.replace(/\+/g,"%20"))}function Pi(t){return`${ki(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ki(t)}=${ki(e[t])}`).join("")}`;var e}const Ni=/^[^\/()?;=#]+/;function Ri(t){const e=t.match(Ni);return e?e[0]:""}const Di=/^[^=?&#]+/,Li=/^[^?&#]+/;class Fi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bi([],{}):new bi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new bi(t,e)),n}parseSegment(){const t=Ri(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new _i(Ai(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ri(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ri(this.remaining);t&&(n=t,this.capture(n))}t[Ai(e)]=Ai(n)}parseQueryParam(t){const e=function(t){const e=t.match(Di);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Li);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ji(e),i=ji(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ri(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new bi([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Mi{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ui(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ui(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Vi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Vi(t,this._root).map(t=>t.value)}}function Ui(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ui(t,n);if(e)return e}return null}function Vi(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Vi(t,n);if(r.length)return r.unshift(e),r}return[]}class qi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bi(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Hi extends Mi{constructor(t,e){super(t),this.snapshot=e,Qi(this,t)}toString(){return this.snapshot.toString()}}function zi(t,e){const n=function(t,e){const n=new $i([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Wi("",new qi(n,[]))}(t,e),r=new Bn([new _i("",{})]),i=new Bn({}),s=new Bn({}),o=new Bn({}),a=new Bn(""),u=new Gi(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new Hi(new qi(u,[]),n)}class Gi{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(er.a)(t=>ui(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(er.a)(t=>ui(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ki(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $i{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ui(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ui(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wi extends Mi{constructor(t,e){super(e),this.url=t,Qi(this,e)}toString(){return Yi(this._root)}}function Qi(t,e){e.value._routerState=t,e.children.forEach(e=>Qi(t,e))}function Yi(t){const e=t.children.length>0?` { ${t.children.map(Yi).join(", ")} } `:"";return`${t.value}${e}`}function Zi(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hi(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hi(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hi(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Xi(t,e){return hi(t.params,e.params)&&function(t,e){return wi(t,e)&&t.every((t,n)=>hi(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Xi(t.parent,e.parent))}function Ji(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ts(t,e,n,r,i){let s={};return r&&gi(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new vi(n.root===t?e:function t(e,n,r){const i={};return gi(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new bi(e.segments,i)}(n.root,t,e),s,i)}class es{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ji(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==pi(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ns{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function rs(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function is(t,e,n){if(t||(t=new bi([],{})),0===t.segments.length&&t.hasChildren())return ss(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=rs(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!cs(o,a,e))return s;r+=2}else{if(!cs(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new bi(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new bi(t.segments.slice(r.pathIndex),t.children),ss(e,0,i)}return r.match&&0===i.length?new bi(t.segments,{}):r.match&&!t.hasChildren()?os(t,e,n):r.match?ss(t,0,i):os(t,e,n)}function ss(t,e,n){if(0===n.length)return new bi(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return gi(r,(n,r)=>{null!==n&&(i[r]=is(t.children[r],e,n))}),gi(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new bi(t.segments,i)}}function os(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=as(n[i].outlets);return new bi(r,t)}if(0===i&&Ji(n[0])){r.push(new _i(t.segments[e].path,n[0])),i++;continue}const s=rs(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Ji(o)?(r.push(new _i(s,us(o))),i+=2):(r.push(new _i(s,{})),i++)}return new bi(r,{})}function as(t){const e={};return gi(t,(t,n)=>{null!==t&&(e[n]=os(new bi([],{}),0,t))}),e}function us(t){const e={};return gi(t,(t,n)=>e[n]=""+t),e}function cs(t,e,n){return t==n.path&&hi(e,n.parameters)}class ls{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Zi(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Bi(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),gi(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Bi(t),i=t.value.component?n.children:e;gi(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Bi(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new si(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ri(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Zi(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),hs(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function hs(t){Zi(t.value),t.children.forEach(hs)}class ds{constructor(t,e){this.routes=t,this.module=e}}function fs(t){return"function"==typeof t}function ps(t){return t instanceof vi}class gs{constructor(t){this.segmentGroup=t||null}}class ms{constructor(t){this.urlTree=t}}function ys(t){return new Hn.a(e=>e.error(new gs(t)))}function vs(t){return new Hn.a(e=>e.error(new ms(t)))}function bs(t){return new Hn.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class _s{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(er.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(wr(t=>{if(t instanceof ms)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof gs)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(er.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(wr(t=>{if(t instanceof gs)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new bi([],{primary:t}):t;return new vi(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(er.a)(t=>new bi([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Mn.a)({});const n=[],r=[],i={};return gi(t,(t,s)=>{const o=e(s,t).pipe(Object(er.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),Mn.a.apply(null,n.concat(r)).pipe(rr(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?sr((e,n)=>t(e,n,r)):br.a,cr(1),n?mr(e):dr(()=>new zn))}(),Object(er.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Object(Mn.a)(...n).pipe(Object(er.a)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(wr(t=>{if(t instanceof gs)return Object(Mn.a)(null);throw t}))),rr(),Ir(t=>!!t),wr((t,n)=>{if(t instanceof zn||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Mn.a)(new bi([],{}));throw new gs(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Ts(r)!==s?ys(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):ys(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?vs(i):this.lineralizeSegments(n,i).pipe(Object(xr.a)(n=>{const i=new bi(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=ws(e,r,i);if(!o)return ys(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?vs(l):this.lineralizeSegments(r,l).pipe(Object(xr.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(er.a)(t=>(n._loadedConfig=t,new bi(r,{})))):Object(Mn.a)(new bi(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=ws(e,n,r);if(!i)return ys(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(xr.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ss(t,e,n)&&"primary"!==Ts(n))}(t,n,r)?{segmentGroup:Es(new bi(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Ts(r)&&(n[Ts(r)]=new bi([],{}));return n}(r,new bi(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ss(t,e,n))}(t,n,r)?{segmentGroup:Es(new bi(t.segments,function(t,e,n,r){const i={};for(const s of n)Ss(t,e,s)&&!r[Ts(s)]&&(i[Ts(s)]=new bi([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(er.a)(t=>new bi(s,t))):0===r.length&&0===o.length?Object(Mn.a)(new bi(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(Object(er.a)(t=>new bi(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Mn.a)(new ds(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Mn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(xr.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(er.a)(t=>(e._loadedConfig=t,t))):function(t){return new Hn.a(e=>e.error(ci(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Mn.a)(new ds([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(Un.a)(r).pipe(Object(er.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&fs(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!fs(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return mi(s)})).pipe(rr(),Object(kr.a)(t=>{if(!ps(t))return;const e=ci(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new Ar(i,void 0,t)))):Object(Mn.a)(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Mn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return bs(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new vi(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return gi(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return gi(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new bi(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function ws(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||li)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Es(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new bi(t.segments.concat(e.segments),e.children)}return t}function Ss(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ts(t){return t.outlet||"primary"}class Os{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cs{constructor(t,e){this.component=t,this.route=e}}function Is(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bi(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wi(t.url,e.url)||!hi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xi(t,e)||!hi(t.queryParams,e.queryParams);case"paramsChange":default:return!Xi(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Os(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&s.canDeactivateChecks.push(new Cs(u&&u.outlet&&u.outlet.component||null,a))}else a&&ks(n,u,s),s.canActivateChecks.push(new Os(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),gi(o,(t,e)=>ks(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function xs(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ks(t,e,n){const r=Bi(t),i=t.value;gi(r,(t,r)=>{ks(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Cs(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const As=Symbol("INITIAL_VALUE");function js(){return Pr(t=>function(...t){let e=null,n=null;return Object(Gn.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Kn.a)(t[0])&&(t=t[0]),Object(Qn.a)(t,n).lift(new Zn(e))}(...t.map(t=>t.pipe(Tr(1),Lr(As)))).pipe(Fr((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==As)return t;if(r===As&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ps(r))return r}return t},t)},As),sr(t=>t!==As),Object(er.a)(t=>ps(t)?t:!0===t),Tr(1)))}function Ps(t,e){return null!==t&&e&&e(new ii(t)),Object(Mn.a)(!0)}function Ns(t,e){return null!==t&&e&&e(new ni(t)),Object(Mn.a)(!0)}function Rs(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Mn.a)(!0);const i=r.map(r=>tr(()=>{const i=xs(r,e,n);let s;if(function(t){return t&&fs(t.canActivate)}(i))s=mi(i.canActivate(e,t));else{if(!fs(i))throw new Error("Invalid CanActivate guard");s=mi(i(e,t))}return s.pipe(Ir())}));return Object(Mn.a)(i).pipe(js())}function Ds(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>tr(()=>{const i=e.guards.map(i=>{const s=xs(i,e.node,n);let o;if(function(t){return t&&fs(t.canActivateChild)}(s))o=mi(s.canActivateChild(r,t));else{if(!fs(s))throw new Error("Invalid CanActivateChild guard");o=mi(s(r,t))}return o.pipe(Ir())});return Object(Mn.a)(i).pipe(js())}));return Object(Mn.a)(i).pipe(js())}class Ls{}class Fs{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Vs(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new $i([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qi(n,e),i=new Wi(this.url,r);return this.inheritParamsAndData(i._root),Object(Mn.a)(i)}catch(nw){return new Hn.a(e=>e.error(nw))}}inheritParamsAndData(t){const e=t.value,n=Ki(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ei(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(nw){if(!(nw instanceof Ls))throw nw}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ls}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Ls;if((t.outlet||"primary")!==r)throw new Ls;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?pi(n).parameters:{};i=new $i(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hs(t),r,t.component,t,Ms(e),Us(e)+n.length,zs(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ls;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||li)(n,t,e);if(!r)throw new Ls;const i={};gi(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new $i(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hs(t),r,t.component,t,Ms(e),Us(e)+s.length,zs(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Vs(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new qi(i,t)]}if(0===a.length&&0===c.length)return[new qi(i,[])];const l=this.processSegment(a,u,c,"primary");return[new qi(i,l)]}}function Ms(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Us(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Vs(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>qs(t,e,n)&&"primary"!==Bs(n))}(t,n,r)){const i=new bi(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Bs(s)){const n=new bi([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Bs(s)]=n}return i}(t,e,r,new bi(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qs(t,e,n))}(t,n,r)){const s=new bi(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(qs(t,n,a)&&!i[Bs(a)]){const n=new bi([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Bs(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new bi(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function qs(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Bs(t){return t.outlet||"primary"}function Hs(t){return t.data||{}}function zs(t){return t.resolve||{}}function Gs(t){return function(e){return e.pipe(Pr(e=>{const n=t(e);return n?Object(Un.a)(n).pipe(Object(er.a)(()=>e)):Object(Un.a)([e])}))}}class Ks{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let $s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[ho]},encapsulation:2}),t})();function Ws(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Qs(r,Ys(e,r))}}function Qs(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ws(t.children,e)}function Ys(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Zs(t){const e=t.children&&t.children.map(Zs),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=$s),n}const Xs=new r.q("ROUTES");class Js{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(er.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new ds(fi(r.injector.get(Xs)).map(Zs),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Un.a)(this.loader.load(t)):mi(t()).pipe(Object(xr.a)(t=>t instanceof r.v?Object(Mn.a)(t):Object(Un.a)(this.compiler.compileModuleAsync(t))))}}class to{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new eo,this.attachRef=null}}class eo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new to,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class no{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ro(t){throw t}function io(t,e,n){return e.parse("/")}function so(t,e){return Object(Mn.a)(null)}let oo=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Vn.a,this.errorHandler=ro,this.malformedUriErrorHandler=io,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:so,afterPreactivation:so},this.urlHandlingStrategy=new no,this.routeReuseStrategy=new Ks,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(r.x),this.console=s.get(r.X);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new vi(new bi([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Js(o,a,t=>this.triggerEvent(new ti(t)),t=>this.triggerEvent(new ei(t))),this.routerState=zi(this.currentUrlTree,this.rootComponentType),this.transitions=new Bn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(sr(t=>0!==t.id),Object(er.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Pr(t=>{let n=!1,r=!1;return Object(Mn.a)(t).pipe(Object(kr.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pr(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Mn.a)(t).pipe(Pr(t=>{const n=this.transitions.getValue();return e.next(new Gr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Jn.a:[t]}),Pr(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Pr(t=>function(t,e,n,r,i){return new _s(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(er.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(kr.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(xr.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Fs(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(er.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(kr.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(kr.a)(t=>{const n=new Qr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Gr(n,this.serializeUrl(r),i,s);e.next(a);const u=zi(r,this.rootComponentType).snapshot;return Object(Mn.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Jn.a}),Gs(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(kr.a)(t=>{const e=new Yr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(er.a)(t=>Object.assign(Object.assign({},t),{guards:Is(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(xr.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Mn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Un.a)(t).pipe(Object(xr.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Mn.a)(!0);const o=s.map(s=>{const o=xs(s,e,i);let a;if(function(t){return t&&fs(t.canDeactivate)}(o))a=mi(o.canDeactivate(t,e,n,r));else{if(!fs(o))throw new Error("Invalid CanDeactivate guard");a=mi(o(t,e,n,r))}return a.pipe(Ir())});return Object(Mn.a)(o).pipe(js())}(t.component,t.route,n,e,r)),Ir(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(xr.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Un.a)(e).pipe(Vr(e=>Object(Un.a)([Ns(e.route.parent,r),Ps(e.route,r),Ds(t,e.path,n),Rs(t,e.route,n)]).pipe(rr(),Ir(t=>!0!==t,!0))),Ir(t=>!0!==t,!0))}(r,s,t,e):Object(Mn.a)(n)),Object(er.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(kr.a)(t=>{if(ps(t.guardsResult)){const e=ci(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(kr.a)(t=>{const e=new Zr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),sr(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new $r(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Gs(t=>{if(t.guards.canActivateChecks.length)return Object(Mn.a)(t).pipe(Object(kr.a)(t=>{const e=new Xr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Pr(t=>{let n=!1;return Object(Mn.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(xr.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Mn.a)(t);let s=0;return Object(Un.a)(n).pipe(Vr(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Mn.a)({});const s={};return Object(Un.a)(i).pipe(Object(xr.a)(i=>function(t,e,n,r){const i=xs(t,e,r);return mi(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(kr.a)(t=>{s[i]=t}))),cr(1),Object(xr.a)(()=>Object.keys(s).length===i.length?Object(Mn.a)(s):Jn.a))}(t._resolve,t,e,r).pipe(Object(er.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ki(t,n).resolve),null)))}(t.route,e,r,i)),Object(kr.a)(()=>s++),cr(1),Object(xr.a)(e=>s===n.length?Object(Mn.a)(t):Jn.a))}))}),Object(kr.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new $r(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(kr.a)(t=>{const e=new Jr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Gs(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(er.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new qi(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Gi(new Bn((i=n.value).url),new Bn(i.params),new Bn(i.queryParams),new Bn(i.fragment),new Bn(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new qi(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Hi(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(kr.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(er.a)(t=>(new ls(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(kr.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new $r(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Br(i))),wr(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=ps(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new $r(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Wr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Od){t.reject(Od)}}var i;return Jn.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ws(t),this.config=t.map(Zs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(r.U)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ts(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new es(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return gi(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new es(n,e,r)}(n);if(s.toRoot())return ts(e.root,new bi([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ns(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ns(t,t===e.root,0)}const r=Ji(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ns(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ss(o.segmentGroup,o.index,s.commands):is(o.segmentGroup,o.index,s.commands);return ts(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ps(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(nw){e=this.malformedUriErrorHandler(nw,this.urlSerializer,t)}return e}isActive(t,e){if(ps(t))return yi(this.currentUrlTree,t,e);const n=this.parseUrl(t);return yi(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Kr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,u;i?(o=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.M),r.Tb(Si),r.Tb(eo),r.Tb(E),r.Tb(r.r),r.Tb(r.w),r.Tb(r.i),r.Tb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ao=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Vn.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:co(this.skipLocationChange),replaceUrl:co(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:co(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:co(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(oo),r.Kb(Gi),r.Ub("tabindex"),r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Wb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),uo=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Vn.a,this.subscription=t.events.subscribe(t=>{t instanceof Kr&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:co(this.skipLocationChange),replaceUrl:co(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:co(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:co(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(oo),r.Kb(Gi),r.Kb(y))},t.\u0275dir=r.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Wb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Sb("href",e.href,r.lc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function co(t){return""===t||!!t}let lo=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Kr&&this.update()})}ngAfterContentInit(){Object(Un.a)([this.links.changes,this.linksWithHrefs.changes,Object(Mn.a)(null)]).pipe(Object(nr.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Un.a)(e).pipe(Object(nr.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(oo),r.Kb(r.l),r.Kb(r.D),r.Kb(r.h),r.Kb(ao,8),r.Kb(uo,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Db(n,ao,!0),r.Db(n,uo,!0)),2&t&&(r.ic(i=r.Xb())&&(e.links=i),r.ic(i=r.Xb())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.wb]}),t})(),ho=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new fo(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(eo),r.Kb(r.P),r.Kb(r.j),r.Ub("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class fo{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Gi?this.route:t===eo?this.childContexts:this.parent.get(t,e)}}class po{}class go{preload(t,e){return Object(Mn.a)(null)}}let mo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Js(e,n,e=>t.triggerEvent(new ti(e)),e=>t.triggerEvent(new ei(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(sr(t=>t instanceof Kr),Vr(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Un.a)(n).pipe(Object(nr.a)(),Object(er.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(xr.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(oo),r.Tb(r.w),r.Tb(r.i),r.Tb(r.r),r.Tb(po))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),yo=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Kr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof oi&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new oi(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(oo),r.Tb(M),r.Tb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const vo=new r.q("ROUTER_CONFIGURATION"),bo=new r.q("ROUTER_FORROOT_GUARD"),_o=[E,{provide:Si,useClass:Ti},{provide:oo,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new oo(null,t,e,n,r,i,s,fi(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Si,eo,E,r.r,r.w,r.i,Xs,vo,[class{},new r.A],[class{},new r.A]]},eo,{provide:Gi,useFactory:function(t){return t.routerState.root},deps:[oo]},{provide:r.w,useClass:r.J},mo,go,class{preload(t,e){return e().pipe(wr(()=>Object(Mn.a)(null)))}},{provide:vo,useValue:{enableTracing:!1}}];function wo(){return new r.y("Router",oo)}let Eo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[_o,Co(e),{provide:bo,useFactory:Oo,deps:[[oo,new r.A,new r.I]]},{provide:vo,useValue:n||{}},{provide:y,useFactory:To,deps:[u,[new r.p(b),new r.A],vo]},{provide:yo,useFactory:So,deps:[oo,M,vo]},{provide:po,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:go},{provide:r.y,multi:!0,useFactory:wo},[Io,{provide:r.d,multi:!0,useFactory:xo,deps:[Io]},{provide:Ao,useFactory:ko,deps:[Io]},{provide:r.b,multi:!0,useExisting:Ao}]]}}static forChild(e){return{ngModule:t,providers:[Co(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Tb(bo,8),r.Tb(oo,8))}}),t})();function So(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new yo(t,e,n)}function To(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Oo(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Co(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Xs,multi:!0,useValue:t}]}let Io=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Vn.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(oo),r=this.injector.get(vo);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Mn.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(vo),n=this.injector.get(mo),i=this.injector.get(yo),s=this.injector.get(oo),o=this.injector.get(r.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function xo(t){return t.appInitializer.bind(t)}function ko(t){return t.bootstrapListener.bind(t)}const Ao=new r.q("Router Initializer"),jo=yt("slideInRightList",[wt(":enter, :leave",[Et(":enter",[_t({transform:"translateX(100%)",opacity:0}),St("300ms",[vt("300ms ease-in-out",_t({transform:"translateX(0)",opacity:1}))])],{optional:!0}),Et(":leave",[_t({transform:"translateX(0)",opacity:1}),St("50ms",[vt("50ms ease-in-out",_t({transform:"translateX(100%)",opacity:0}))])],{optional:!0})])]),Po=yt("slideInRight",[wt(":enter",[_t({transform:"translateX(100%)",opacity:0}),vt("400ms ease-in",_t({opacity:1,transform:"translateX(0%)"}))]),wt(":leave",[_t({transform:"translateX(0%)",opacity:1}),vt(".1ms ease-out",_t({opacity:0,transform:"translateX(100%)"}))])]);var No=n("D0XW");function Ro(){return t=>t.lift(new Do)}class Do{call(t,e){return e.subscribe(new Lo(t))}}class Lo extends ir.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Fo{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Mo(t,this.compare,this.keySelector))}}class Mo extends ir.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Uo=n("pxpQ"),Vo=n("spgP"),qo=n("Jgta"),Bo=n("zIRd"),Ho=n("mrSG"),zo=n("qOnz"),Go=n("q/0M"),Ko=function(t,e){return(Ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function $o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Wo,Qo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Yo=Yo||{},Zo=Qo||self;function Xo(){}function Jo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ta(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ea="closure_uid_"+(1e9*Math.random()>>>0),na=0;function ra(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function sa(t,e,n){return(sa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ra:ia).apply(null,arguments)}function oa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function aa(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function ua(){this.s=this.s,this.o=this.o}var ca={};ua.prototype.s=!1,ua.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,ea)&&t[ea]||(t[ea]=++na)}(this);delete ca[t]}},ua.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var la=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ha=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function da(t){return Array.prototype.concat.apply([],arguments)}function fa(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function pa(t){return/^[\s\xa0]*$/.test(t)}var ga,ma=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ya(t,e){return-1!=t.indexOf(e)}function va(t,e){return t<e?-1:t>e?1:0}t:{var ba=Zo.navigator;if(ba){var _a=ba.userAgent;if(_a){ga=_a;break t}}ga=""}function wa(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ea(t){var e={};for(var n in t)e[n]=t[n];return e}var Sa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ta(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Sa.length;s++)n=Sa[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Oa(t){return Oa[" "](t),t}Oa[" "]=Xo;var Ca,Ia,xa=ya(ga,"Opera"),ka=ya(ga,"Trident")||ya(ga,"MSIE"),Aa=ya(ga,"Edge"),ja=Aa||ka,Pa=ya(ga,"Gecko")&&!(ya(ga.toLowerCase(),"webkit")&&!ya(ga,"Edge"))&&!(ya(ga,"Trident")||ya(ga,"MSIE"))&&!ya(ga,"Edge"),Na=ya(ga.toLowerCase(),"webkit")&&!ya(ga,"Edge");function Ra(){var t=Zo.document;return t?t.documentMode:void 0}t:{var Da="",La=(Ia=ga,Pa?/rv:([^\);]+)(\)|;)/.exec(Ia):Aa?/Edge\/([\d\.]+)/.exec(Ia):ka?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ia):Na?/WebKit\/(\S+)/.exec(Ia):xa?/(?:Version)[ \/]?(\S+)/.exec(Ia):void 0);if(La&&(Da=La?La[1]:""),ka){var Fa=Ra();if(null!=Fa&&Fa>parseFloat(Da)){Ca=String(Fa);break t}}Ca=Da}var Ma={};var Ua=Zo.document&&ka&&(Ra()||parseInt(Ca,10))||void 0,Va=function(){if(!Zo.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Zo.addEventListener("test",Xo,e),Zo.removeEventListener("test",Xo,e)}catch(n){}return t}();function qa(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ba(t,e){if(qa.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Pa){t:{try{Oa(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ha[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ba.Z.h.call(this)}}qa.prototype.h=function(){this.defaultPrevented=!0},aa(Ba,qa);var Ha={2:"touch",3:"pen",4:"mouse"};Ba.prototype.h=function(){Ba.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var za="closure_listenable_"+(1e6*Math.random()|0),Ga=0;function Ka(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ga,this.ca=this.fa=!1}function $a(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Wa(t){this.src=t,this.g={},this.h=0}function Qa(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=la(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&($a(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ya(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Wa.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Ya(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new Ka(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Za="closure_lm_"+(1e6*Math.random()|0),Xa={};function Ja(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=ou(r),e&&e[za]?e.O(n,r,ta(i)?!!i.capture:!!i,s):tu(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ja(t,e[s],n,r,i);return null}return n=ou(n),t&&t[za]?t.N(e,n,ta(r)?!!r.capture:!!r,i):tu(t,e,n,!1,r,i)}function tu(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ta(i)?!!i.capture:!!i,a=iu(t);if(a||(t[Za]=a=new Wa(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=ru;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Va||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(nu(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function eu(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[za])Qa(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(nu(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iu(e))?(Qa(n,t),0==n.h&&(n.src=null,e[Za]=null)):$a(t)}}}function nu(t){return t in Xa?Xa[t]:Xa[t]="on"+t}function ru(t,e){if(t.ca)t=!0;else{e=new Ba(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&eu(t),t=n.call(r,e)}return t}function iu(t){return(t=t[Za])instanceof Wa?t:null}var su="__closure_events_fn_"+(1e9*Math.random()>>>0);function ou(t){return"function"==typeof t?t:(t[su]||(t[su]=function(e){return t.handleEvent(e)}),t[su])}function au(){ua.call(this),this.i=new Wa(this),this.P=this,this.I=null}function uu(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new qa(e,t);else if(e instanceof qa)e.target=e.target||t;else{var i=e;Ta(e=new qa(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=cu(o,r,!0,e)&&i}if(i=cu(o=e.g=t,r,!0,e)&&i,i=cu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=cu(o=e.g=n[s],r,!1,e)&&i}function cu(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Qa(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}aa(au,ua),au.prototype[za]=!0,au.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=ta(i)?!!i.capture:!!i,r=ou(r),e&&e[za]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=Ya(o=e.g[n],r,i,s))&&($a(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.g[n],e.h--))):e&&(e=iu(e))&&(n=e.g[n.toString()],e=-1,n&&(e=Ya(n,r,i,s)),(r=-1<e?n[e]:null)&&eu(r))}(this,t,e,n,r)},au.prototype.M=function(){if(au.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)$a(n[r]);delete e.g[t],e.h--}}this.I=null},au.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},au.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var lu=Zo.JSON.stringify;function hu(){var t=bu,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var du,fu=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=pu.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),pu=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())((function(){return new gu}),(function(t){return t.reset()})),gu=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function mu(t){Zo.setTimeout((function(){throw t}),0)}function yu(t,e){du||function(){var t=Zo.Promise.resolve(void 0);du=function(){t.then(_u)}}(),vu||(du(),vu=!0),bu.add(t,e)}var vu=!1,bu=new fu;function _u(){for(var t;t=hu();){try{t.h.call(t.g)}catch(n){mu(n)}var e=pu;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vu=!1}function wu(t,e){au.call(this),this.h=t||1,this.g=e||Zo,this.j=sa(this.kb,this),this.l=Date.now()}function Eu(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Su(t,e,n){if("function"==typeof t)n&&(t=sa(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=sa(t.handleEvent,t)}return 2147483647<Number(e)?-1:Zo.setTimeout(t,e||0)}function Tu(t){t.g=Su((function(){t.g=null,t.i&&(t.i=!1,Tu(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}aa(wu,au),(Wo=wu.prototype).da=!1,Wo.S=null,Wo.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),uu(this,"tick"),this.da&&(Eu(this),this.start()))}},Wo.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wo.M=function(){wu.Z.M.call(this),Eu(this),delete this.g};var Ou=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ko(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Tu(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Zo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(ua);function Cu(t){ua.call(this),this.h=t,this.g={}}aa(Cu,ua);var Iu=[];function xu(t,e,n,r){Array.isArray(n)||(n&&(Iu[0]=n.toString()),n=Iu);for(var i=0;i<n.length;i++){var s=Ja(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ku(t){wa(t.g,(function(t,e){this.g.hasOwnProperty(e)&&eu(t)}),t),t.g={}}function Au(){this.g=!0}function ju(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return lu(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Cu.prototype.M=function(){Cu.Z.M.call(this),ku(this)},Cu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Au.prototype.Aa=function(){this.g=!1},Au.prototype.info=function(){};var Pu={},Nu=null;function Ru(){return Nu=Nu||new au}function Du(t){qa.call(this,Pu.Ma,t)}function Lu(t){var e=Ru();uu(e,new Du(e,t))}function Fu(t,e){qa.call(this,Pu.STAT_EVENT,t),this.stat=e}function Mu(t){var e=Ru();uu(e,new Fu(e,t))}function Uu(t,e){qa.call(this,Pu.Na,t),this.size=e}function Vu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Zo.setTimeout((function(){t()}),e)}Pu.Ma="serverreachability",aa(Du,qa),Pu.STAT_EVENT="statevent",aa(Fu,qa),Pu.Na="timingevent",aa(Uu,qa);var qu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Bu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Hu(){}function zu(){}Hu.prototype.h=null;var Gu,Ku={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $u(){qa.call(this,"d")}function Wu(){qa.call(this,"c")}function Qu(){}function Yu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Cu(this),this.P=Xu,this.W=new wu(t=ja?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zu}function Zu(){this.i=null,this.g="",this.h=!1}aa($u,qa),aa(Wu,qa),aa(Qu,Hu),Qu.prototype.g=function(){return new XMLHttpRequest},Qu.prototype.i=function(){return{}},Gu=new Qu;var Xu=45e3,Ju={},tc={};function ec(t,e,n){t.K=1,t.v=Tc(vc(e)),t.s=n,t.U=!0,nc(t,null)}function nc(t,e){t.F=Date.now(),oc(t),t.A=vc(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Fc(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Zu,t.g=Ml(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ou(sa(t.Ia,t,t.g),t.O)),xu(t.V,t.g,"readystatechange",t.gb),e=t.H?Ea(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Lu(1),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function rc(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function ic(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=sc(t,n))==tc){4==e&&(t.o=4,Mu(14),i=!1),ju(t.j,t.m,null,"[Incomplete Response]");break}if(r==Ju){t.o=4,Mu(15),ju(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}ju(t.j,t.m,r,null),hc(t,r)}rc(t)&&r!=tc&&r!=Ju&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Mu(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Al(e),e.L=!0,Mu(11))):(ju(t.j,t.m,n,"[Invalid Chunked Response]"),lc(t),cc(t))}function sc(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?tc:(n=Number(e.substring(n,r)),isNaN(n)?Ju:(r+=1)+n>e.length?tc:(e=e.substr(r,n),t.C=r+n,e))}function oc(t){t.Y=Date.now()+t.P,ac(t,t.P)}function ac(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Vu(sa(t.eb,t),e)}function uc(t){t.B&&(Zo.clearTimeout(t.B),t.B=null)}function cc(t){0==t.l.G||t.I||Nl(t.l,t)}function lc(t){uc(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Eu(t.W),ku(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function hc(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||zc(n.i,t)))if(n.I=t.N,!t.J&&zc(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Pl(n),wl(n)}kl(n),Mu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Vu(sa(n.ab,n),6e3));if(1>=Hc(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else Dl(n,11)}else if((t.J||n.g==t)&&Pl(n),!pa(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(ya(l,"spdy")||ya(l,"quic")||ya(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Gc(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Sc(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=Fl(r,r.H?r.la:null,r.W),f.J){Kc(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(uc(p),oc(p)),r.g=f}else xl(r);0<n.l.length&&Tl(n)}else"stop"!=s[0]&&"close"!=s[0]||Dl(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?Dl(n,7):_l(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}Lu(4)}catch(s){}}function dc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Jo(t)||"string"==typeof t)ha(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Jo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Jo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function fc(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof fc)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function pc(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];gc(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)gc(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function gc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Wo=Yu.prototype).setTimeout=function(t){this.P=t},Wo.gb=function(t){t=t.target;var e=this.L;e&&3==gl(t)?e.l():this.Ia(t)},Wo.Ia=function(t){try{if(t==this.g)t:{var e=gl(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||ja||this.g&&(this.h.h||this.g.ga()||ml(this.g)))){this.I||4!=e||7==n||Lu(8==n||0>=r?3:2),uc(this);var i=this.g.ba();this.N=i;e:if(rc(this)){var s=ml(this.g);t="";var o=s.length,a=4==gl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){lc(this),cc(this);var u="";break e}this.h.i=new Zo.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pa(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Mu(12),lc(this),cc(this);break t}ju(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hc(this,i)}this.U?(ic(this,e,u),ja&&this.i&&3==e&&(xu(this.V,this.W,"tick",this.fb),this.W.start())):(ju(this.j,this.m,u,null),hc(this,u)),4==e&&lc(this),this.i&&!this.I&&(4==e?Nl(this.l,this):(this.i=!1,oc(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Mu(12)):(this.o=0,Mu(13)),lc(this),cc(this)}}}catch(e){}},Wo.fb=function(){if(this.g){var t=gl(this.g),e=this.g.ga();this.C<e.length&&(uc(this),ic(this,t,e),this.i&&4!=t&&oc(this))}},Wo.cancel=function(){this.I=!0,lc(this)},Wo.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(Lu(3),Mu(17)),lc(this),this.o=2,cc(this)):ac(this,this.Y-t)},(Wo=fc.prototype).R=function(){pc(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Wo.T=function(){return pc(this),this.g.concat()},Wo.get=function(t,e){return gc(this.h,t)?this.h[t]:e},Wo.set=function(t,e){gc(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Wo.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var mc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yc(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof yc){this.g=void 0!==e?e:t.g,bc(this,t.j),this.s=t.s,_c(this,t.i),wc(this,t.m),this.l=t.l,e=t.h;var n=new Nc;n.i=e.i,e.g&&(n.g=new fc(e.g),n.h=e.h),Ec(this,n),this.o=t.o}else t&&(n=String(t).match(mc))?(this.g=!!e,bc(this,n[1]||"",!0),this.s=Oc(n[2]||""),_c(this,n[3]||"",!0),wc(this,n[4]),this.l=Oc(n[5]||"",!0),Ec(this,n[6]||"",!0),this.o=Oc(n[7]||"")):(this.g=!!e,this.h=new Nc(null,this.g))}function vc(t){return new yc(t)}function bc(t,e,n){t.j=n?Oc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _c(t,e,n){t.i=n?Oc(e,!0):e}function wc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ec(t,e,n){e instanceof Nc?(t.h=e,function(t,e){e&&!t.j&&(Rc(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Dc(this,e),Fc(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Cc(e,jc)),t.h=new Nc(e,t.g))}function Sc(t,e,n){t.h.set(e,n)}function Tc(t){return Sc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Oc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ic),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ic(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cc(e,xc,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Cc(e,xc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Cc(n,"/"==n.charAt(0)?Ac:kc,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cc(n,Pc)),t.join("")};var xc=/[#\/\?@]/g,kc=/[#\?:]/g,Ac=/[#\?]/g,jc=/[#\?@]/g,Pc=/#/g;function Nc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Rc(t){t.g||(t.g=new fc,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Dc(t,e){Rc(t),e=Mc(t,e),gc(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,gc((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&pc(t)))}function Lc(t,e){return Rc(t),e=Mc(t,e),gc(t.g.h,e)}function Fc(t,e,n){Dc(t,e),0<n.length&&(t.i=null,t.g.set(Mc(t,e),fa(n)),t.h+=n.length)}function Mc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Wo=Nc.prototype).add=function(t,e){Rc(this),this.i=null,t=Mc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Wo.forEach=function(t,e){Rc(this),this.g.forEach((function(n,r){ha(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Wo.T=function(){Rc(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Wo.R=function(t){Rc(this);var e=[];if("string"==typeof t)Lc(this,t)&&(e=da(e,this.g.get(Mc(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=da(e,t[n])}return e},Wo.set=function(t,e){return Rc(this),this.i=null,Lc(this,t=Mc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Wo.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Wo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var Uc=function(){return function(t,e){this.h=t,this.g=e}}();function Vc(t){this.l=t||qc,t=Zo.PerformanceNavigationTiming?0<(t=Zo.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Zo.g&&Zo.g.Ea&&Zo.g.Ea()&&Zo.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qc=10;function Bc(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Hc(t){return t.h?1:t.g?t.g.size:0}function zc(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Gc(t,e){t.g?t.g.add(e):t.h=e}function Kc(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function $c(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=$o(t.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return fa(t.i)}function Wc(){}function Qc(){this.g=new Wc}function Yc(t,e,n){var r=n||"";try{dc(t,(function(t,n){var i=t;ta(t)&&(i=lu(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(nw){throw e.push(r+"type="+encodeURIComponent("_badmap")),nw}}function Zc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Xc(t){this.l=t.$b||null,this.j=t.ib||!1}function Jc(t,e){au.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=tl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vc.prototype.cancel=function(){var t,e;if(this.i=$c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=$o(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Wc.prototype.stringify=function(t){return Zo.JSON.stringify(t,void 0)},Wc.prototype.parse=function(t){return Zo.JSON.parse(t,void 0)},aa(Xc,Hu),Xc.prototype.g=function(){return new Jc(this.l,this.j)},Xc.prototype.i=function(t){return function(){return t}}({}),aa(Jc,au);var tl=0;function el(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function nl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rl(t)}function rl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Wo=Jc.prototype).open=function(t,e){if(this.readyState!=tl)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rl(this)},Wo.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Zo).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Wo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nl(this)),this.readyState=tl},Wo.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Zo.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;el(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Wo.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?nl(this):rl(this),3==this.readyState&&el(this)}},Wo.Ua=function(t){this.g&&(this.response=this.responseText=t,nl(this))},Wo.Ta=function(t){this.g&&(this.response=t,nl(this))},Wo.ha=function(){this.g&&nl(this)},Wo.setRequestHeader=function(t,e){this.v.append(t,e)},Wo.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Wo.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Jc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var il=Zo.JSON.parse;function sl(t){au.call(this),this.headers=new fc,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ol,this.K=this.L=!1}aa(sl,au);var ol="",al=/^https?$/i,ul=["POST","PUT"];function cl(t){return"content-type"==t.toLowerCase()}function ll(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hl(t),fl(t)}function hl(t){t.D||(t.D=!0,uu(t,"complete"),uu(t,"error"))}function dl(t){if(t.h&&void 0!==Yo&&(!t.C[1]||4!=gl(t)||2!=t.ba()))if(t.v&&4==gl(t))Su(t.Fa,0,t);else if(uu(t,"readystatechange"),4==gl(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.H).match(mc)[1]||null;if(!s&&Zo.self&&Zo.self.location){var o=Zo.self.location.protocol;s=o.substr(0,o.length-1)}i=!al.test(s?s.toLowerCase():"")}e=i}if(e)uu(t,"complete"),uu(t,"success");else{t.m=6;try{var a=2<gl(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",hl(t)}}finally{fl(t)}}}function fl(t,e){if(t.g){pl(t);var n=t.g,r=t.C[0]?Xo:null;t.g=null,t.C=null,e||uu(t,"ready");try{n.onreadystatechange=r}catch(nw){}}}function pl(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Zo.clearTimeout(t.A),t.A=null)}function gl(t){return t.g?t.g.readyState:0}function ml(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ol:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function yl(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return wa(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Sc(t,e,n))}function vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bl(t){this.za=0,this.l=[],this.h=new Au,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vl("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vl("baseRetryDelayMs",5e3,t),this.$a=vl("retryDelaySeedMs",1e4,t),this.Ya=vl("forwardChannelMaxRetries",2,t),this.ra=vl("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Vc(t&&t.concurrentRequestLimit),this.Ca=new Qc,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function _l(t){if(El(t),3==t.G){var e=t.V++,n=vc(t.F);Sc(n,"SID",t.J),Sc(n,"RID",e),Sc(n,"TYPE","terminate"),Cl(t,n),(e=new Yu(t,t.h,e,void 0)).K=2,e.v=Tc(vc(n)),n=!1,Zo.navigator&&Zo.navigator.sendBeacon&&(n=Zo.navigator.sendBeacon(e.v.toString(),"")),!n&&Zo.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ml(e.l,null),e.g.ea(e.v)),e.F=Date.now(),oc(e)}Ll(t)}function wl(t){t.g&&(Al(t),t.g.cancel(),t.g=null)}function El(t){wl(t),t.u&&(Zo.clearTimeout(t.u),t.u=null),Pl(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Zo.clearTimeout(t.m),t.m=null)}function Sl(t,e){t.l.push(new Uc(t.Za++,e)),3==t.G&&Tl(t)}function Tl(t){Bc(t.i)||t.m||(t.m=!0,yu(t.Ha,t),t.C=0)}function Ol(t,e){var n;n=e?e.m:t.V++;var r=vc(t.F);Sc(r,"SID",t.J),Sc(r,"RID",n),Sc(r,"AID",t.U),Cl(t,r),t.o&&t.s&&yl(r,t.o,t.s),n=new Yu(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Il(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Gc(t.i,n),ec(n,r,e)}function Cl(t,e){t.j&&dc({},(function(t,n){Sc(e,n,t)}))}function Il(t,e,n){n=Math.min(t.l.length,n);var r=t.j?sa(t.j.Oa,t.j,t):null;t:for(var i=t.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=s))s=Math.max(0,i[u].h-100),a=!1;else try{Yc(l,o,"req"+c+"_")}catch(mh){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function xl(t){t.g||t.u||(t.Y=1,yu(t.Ga,t),t.A=0)}function kl(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Vu(sa(t.Ga,t),Rl(t,t.A)),t.A++,0))}function Al(t){null!=t.B&&(Zo.clearTimeout(t.B),t.B=null)}function jl(t){t.g=new Yu(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=vc(t.oa);Sc(e,"RID","rpc"),Sc(e,"SID",t.J),Sc(e,"CI",t.N?"0":"1"),Sc(e,"AID",t.U),Cl(t,e),Sc(e,"TYPE","xmlhttp"),t.o&&t.s&&yl(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Tc(vc(e)),n.s=null,n.U=!0,nc(n,t)}function Pl(t){null!=t.v&&(Zo.clearTimeout(t.v),t.v=null)}function Nl(t,e){var n=null;if(t.g==e){Pl(t),Al(t),t.g=null;var r=2}else{if(!zc(t.i,e))return;n=e.D,Kc(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;uu(r=Ru(),new Uu(r,n,e,i)),Tl(t)}else xl(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Hc(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Vu(sa(t.Ha,t,e),Rl(t,t.C)),t.C++,0)))}(t,e)||2==r&&kl(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Dl(t,5);break;case 4:Dl(t,10);break;case 3:Dl(t,6);break;default:Dl(t,2)}}function Rl(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Dl(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=sa(t.jb,t);n||(n=new yc("//www.google.com/images/cleardot.gif"),Zo.location&&"http"==Zo.location.protocol||bc(n,"https"),Tc(n)),function(t,e){var n=new Au;if(Zo.Image){var r=new Image;r.onload=oa(Zc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=oa(Zc,n,r,"TestLoadImage: error",!1,e),r.onabort=oa(Zc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=oa(Zc,n,r,"TestLoadImage: timeout",!1,e),Zo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Mu(2);t.G=0,t.j&&t.j.va(e),Ll(t),El(t)}function Ll(t){t.G=0,t.I=-1,t.j&&(0==$c(t.i).length&&0==t.l.length||(t.i.i.length=0,fa(t.l),t.l.length=0),t.j.ua())}function Fl(t,e,n){var r=function(t){return t instanceof yc?vc(t):new yc(t,void 0)}(n);if(""!=r.i)e&&_c(r,e+"."+r.i),wc(r,r.m);else{var i=Zo.location;r=function(t,e,n,r){var i=new yc(null,void 0);return t&&bc(i,t),e&&_c(i,e),n&&wc(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&wa(t.aa,(function(t,e){Sc(r,e,t)})),n=t.sa,(e=t.D)&&n&&Sc(r,e,n),Sc(r,"VER",t.ma),Cl(t,r),r}function Ml(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sl(n&&t.Ba&&!t.qa?new Xc({ib:!0}):t.qa)).L=t.H,e}function Ul(){}function Vl(){if(ka&&!(10<=Number(Ua)))throw Error("Environmental error: no available transport.")}function ql(t,e){au.call(this),this.g=new bl(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!pa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pa(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new zl(this)}function Bl(t){$u.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Hl(){Wu.call(this),this.status=1}function zl(t){this.g=t}(Wo=sl.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Gu.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Gu),this.g.onreadystatechange=sa(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void ll(this,s)}t=n||"";var i=new fc(this.headers);r&&dc(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=cl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Zo.FormData&&t instanceof Zo.FormData,!(0<=la(ul,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pl(this),0<this.B&&((this.K=function(t){return ka&&function(){return t=Ma,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=ma(String(Ca)).split("."),n=ma("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var s=e[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;t=va(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||va(0==s[2].length,0==o[2].length)||va(s[2],o[2]),s=s[3],o=o[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sa(this.pa,this)):this.A=Su(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){ll(this,s)}},Wo.pa=function(){void 0!==Yo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,uu(this,"timeout"),this.abort(8))},Wo.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,uu(this,"complete"),uu(this,"abort"),fl(this))},Wo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fl(this,!0)),sl.Z.M.call(this)},Wo.Fa=function(){this.s||(this.F||this.v||this.l?dl(this):this.cb())},Wo.cb=function(){dl(this)},Wo.ba=function(){try{return 2<gl(this)?this.g.status:-1}catch(Ia){return-1}},Wo.ga=function(){try{return this.g?this.g.responseText:""}catch(Ia){return""}},Wo.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),il(e)}},Wo.Da=function(){return this.m},Wo.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Wo=bl.prototype).ma=8,Wo.G=1,Wo.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Wo.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Yu(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Ta(n=Ea(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Il(this,e,r),Sc(i=vc(this.F),"RID",t),Sc(i,"CVER",22),this.D&&Sc(i,"X-HTTP-Session-Id",this.D),Cl(this,i),this.o&&n&&yl(i,this.o,n),Gc(this.i,e),this.Ra&&Sc(i,"TYPE","init"),this.ja?(Sc(i,"$req",r),Sc(i,"SID","null"),e.$=!0,ec(e,i,null)):ec(e,i,r),this.G=2}}else 3==this.G&&(t?Ol(this,t):0==this.l.length||Bc(this.i)||Ol(this))},Wo.Ga=function(){if(this.u=null,jl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Vu(sa(this.bb,this),t)}},Wo.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mu(10),wl(this),jl(this))},Wo.ab=function(){null!=this.v&&(this.v=null,wl(this),kl(this),Mu(19))},Wo.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Mu(2)):(this.h.info("Failed to ping google.com"),Mu(1))},(Wo=Ul.prototype).xa=function(){},Wo.wa=function(){},Wo.va=function(){},Wo.ua=function(){},Wo.Oa=function(){},Vl.prototype.g=function(t,e){return new ql(t,e)},aa(ql,au),ql.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),yu(sa(t.hb,t,e))),Mu(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Fl(t,null,t.W),Tl(t)},ql.prototype.close=function(){_l(this.g)},ql.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Sl(this.g,e)}else this.v?((e={}).__data__=lu(t),Sl(this.g,e)):Sl(this.g,t)},ql.prototype.M=function(){this.g.j=null,delete this.j,_l(this.g),delete this.g,ql.Z.M.call(this)},aa(Bl,$u),aa(Hl,Wu),aa(zl,Ul),zl.prototype.xa=function(){uu(this.g,"a")},zl.prototype.wa=function(t){uu(this.g,new Bl(t))},zl.prototype.va=function(t){uu(this.g,new Hl(t))},zl.prototype.ua=function(){uu(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,ql.prototype.send=ql.prototype.u,ql.prototype.open=ql.prototype.m,ql.prototype.close=ql.prototype.close,qu.NO_ERROR=0,qu.TIMEOUT=8,qu.HTTP_ERROR=6,Bu.COMPLETE="complete",zu.EventType=Ku,Ku.OPEN="a",Ku.CLOSE="b",Ku.ERROR="c",Ku.MESSAGE="d",au.prototype.listen=au.prototype.N,sl.prototype.listenOnce=sl.prototype.O,sl.prototype.getLastError=sl.prototype.La,sl.prototype.getLastErrorCode=sl.prototype.Da,sl.prototype.getStatus=sl.prototype.ba,sl.prototype.getResponseJson=sl.prototype.Qa,sl.prototype.getResponseText=sl.prototype.ga,sl.prototype.send=sl.prototype.ea;var Gl=qu,Kl=Bu,$l=Pu,Wl=Xc,Ql=zu,Yl=sl,Zl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Zl.o=-1;var Xl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Jl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ho.c)(e,t),e}(Error),th=new Go.b("@firebase/firestore");function eh(){return th.logLevel}function nh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(th.logLevel<=Go.a.DEBUG){var r=e.map(sh);th.debug.apply(th,Object(Ho.f)(["Firestore (8.10.1): "+t],r))}}function rh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(th.logLevel<=Go.a.ERROR){var r=e.map(sh);th.error.apply(th,Object(Ho.f)(["Firestore (8.10.1): "+t],r))}}function ih(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(th.logLevel<=Go.a.WARN){var r=e.map(sh);th.warn.apply(th,Object(Ho.f)(["Firestore (8.10.1): "+t],r))}}function sh(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(nw){return t}}function oh(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function ah(t,e){t||oh()}function uh(t,e){return t}function ch(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var lh=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ch(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function hh(t,e){return t<e?-1:t>e?1:0}function dh(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function fh(t){return t+"\0"}var ph=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Jl(Xl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Jl(Xl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Jl(Xl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Jl(Xl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?hh(this.nanoseconds,t.nanoseconds):hh(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),gh=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ph(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function mh(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vh(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bh=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&oh(),void 0===n?n=t.length-e:n>t.length-e&&oh(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),_h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ho.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(bh),wh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Eh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ho.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return wh.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Jl(Xl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Jl(Xl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Jl(Xl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(bh),Sh=function(){function t(t){this.fields=t,t.sort(Eh.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return dh(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Th=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return hh(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Th.EMPTY_BYTE_STRING=new Th("");var Oh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ch(t){if(ah(!!t),"string"==typeof t){var e=0,n=Oh.exec(t);if(ah(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ih(t.seconds),nanos:Ih(t.nanos)}}function Ih(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function xh(t){return"string"==typeof t?Th.fromBase64String(t):Th.fromUint8Array(t)}function kh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ah(t){var e=Ch(t.mapValue.fields.__local_write_time__.timestampValue);return new ph(e.seconds,e.nanos)}function jh(t){return null==t}function Ph(t){return 0===t&&1/t==-1/0}function Nh(t){return"number"==typeof t&&Number.isInteger(t)&&!Ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Rh=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(_h.fromString(e))},t.fromName=function(e){return new t(_h.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===_h.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return _h.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new _h(e.slice()))},t}();function Dh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kh(t)?4:10:oh()}function Lh(t,e){var n=Dh(t);if(n!==Dh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ah(t).isEqual(Ah(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ch(t.timestampValue),r=Ch(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return xh(t.bytesValue).isEqual(xh(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Ih(t.geoPointValue.latitude)===Ih(e.geoPointValue.latitude)&&Ih(t.geoPointValue.longitude)===Ih(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Ih(t.integerValue)===Ih(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Ih(t.doubleValue),r=Ih(e.doubleValue);return n===r?Ph(n)===Ph(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return dh(t.arrayValue.values||[],e.arrayValue.values||[],Lh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(mh(n)!==mh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Lh(n[i],r[i])))return!1;return!0}(t,e);default:return oh()}}function Fh(t,e){return void 0!==(t.values||[]).find((function(t){return Lh(t,e)}))}function Mh(t,e){var n=Dh(t),r=Dh(e);if(n!==r)return hh(n,r);switch(n){case 0:return 0;case 1:return hh(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Ih(t.integerValue||t.doubleValue),r=Ih(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Uh(t.timestampValue,e.timestampValue);case 4:return Uh(Ah(t),Ah(e));case 5:return hh(t.stringValue,e.stringValue);case 6:return function(t,e){var n=xh(t),r=xh(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=hh(n[i],r[i]);if(0!==s)return s}return hh(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=hh(Ih(t.latitude),Ih(e.latitude));return 0!==n?n:hh(Ih(t.longitude),Ih(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Mh(n[i],r[i]);if(s)return s}return hh(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=hh(r[o],s[o]);if(0!==a)return a;var u=Mh(n[r[o]],i[s[o]]);if(0!==u)return u}return hh(r.length,s.length)}(t.mapValue,e.mapValue);default:throw oh()}}function Uh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return hh(t,e);var n=Ch(t),r=Ch(e),i=hh(n.seconds,r.seconds);return 0!==i?i:hh(n.nanos,r.nanos)}function Vh(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Ch(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?xh(e.bytesValue).toBase64():"referenceValue"in e?Rh.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):oh();var n}(t)}function qh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Bh(t){return!!t&&"integerValue"in t}function Hh(t){return!!t&&"arrayValue"in t}function zh(t){return!!t&&"nullValue"in t}function Gh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}function $h(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return yh(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=$h(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=$h(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Wh=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Kh(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$h(e)},t.prototype.setAll=function(t){var e=this,n=Eh.emptyPath(),r={},i=[];t.forEach((function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=$h(t):i.push(s.lastSegment())}));var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Kh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Lh(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Kh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){yh(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t($h(this.value))},t}();function Qh(t){var e=[];return yh(t.fields,(function(t,n){var r=new Eh([t]);if(Kh(n)){var i=Qh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Sh(e)}var Yh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,gh.min(),Wh.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Wh.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Wh.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Wh.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Wh.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Zh=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Xh(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Zh(t,e,n,r,i,s,o)}function Jh(t){var e=uh(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Vh(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=dd(e.startAt)),e.endAt&&(n+="|ub:",n+=dd(e.endAt)),e.h=n}return e.h}function td(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!pd(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Lh(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!md(t.startAt,e.startAt)&&md(t.endAt,e.endAt)}function ed(t){return Rh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var nd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ho.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new rd(t,n,r):"array-contains"===n?new ad(t,r):"in"===n?new ud(t,r):"not-in"===n?new cd(t,r):"array-contains-any"===n?new ld(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new id(t,n):new sd(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Mh(e,this.value)):null!==e&&Dh(this.value)===Dh(e)&&this.m(Mh(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return oh()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),rd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Rh.fromName(r.referenceValue),i}return Object(Ho.c)(e,t),e.prototype.matches=function(t){var e=Rh.comparator(t.key,this.key);return this.m(e)},e}(nd),id=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=od(0,n),r}return Object(Ho.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(nd),sd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=od(0,n),r}return Object(Ho.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(nd);function od(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Rh.fromName(t.referenceValue)}))}var ad=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ho.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Hh(e)&&Fh(e.arrayValue,this.value)},e}(nd),ud=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ho.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Fh(this.value.arrayValue,e)},e}(nd),cd=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ho.c)(e,t),e.prototype.matches=function(t){if(Fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Fh(this.value.arrayValue,e)},e}(nd),ld=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ho.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Hh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Fh(e.value.arrayValue,t)}))},e}(nd),hd=function(t,e){this.position=t,this.before=e};function dd(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Vh(t)})).join(",")}var fd=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function pd(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function gd(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Rh.comparator(Rh.fromName(o.referenceValue),n.key):Mh(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function md(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Lh(t.position[n],e.position[n]))return!1;return!0}var yd=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function vd(t,e,n,r,i,s,o,a){return new yd(t,e,n,r,i,s,o,a)}function bd(t){return new yd(t)}function _d(t){return!jh(t.limit)&&"F"===t.limitType}function wd(t){return!jh(t.limit)&&"L"===t.limitType}function Ed(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Sd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Td(t){return null!==t.collectionGroup}function Od(t){var e=uh(t);if(null===e.p){e.p=[];var n=Sd(e),r=Ed(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new fd(n)),e.p.push(new fd(Eh.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new fd(Eh.keyField(),u))}}}return e.p}function Cd(t){var e=uh(t);if(!e.T)if("F"===e.limitType)e.T=Xh(e.path,e.collectionGroup,Od(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Od(e);r<i.length;r++){var s=i[r];n.push(new fd(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new hd(e.endAt.position,!e.endAt.before):null,a=e.startAt?new hd(e.startAt.position,!e.startAt.before):null;e.T=Xh(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Id(t,e,n){return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return td(Cd(t),Cd(e))&&t.limitType===e.limitType}function kd(t){return Jh(Cd(t))+"|lt:"+t.limitType}function Ad(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Vh(e.value);var e})).join(", ")+"]"),jh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+dd(t.startAt)),t.endAt&&(e+=", endAt: "+dd(t.endAt)),"Target("+e+")"}(Cd(t))+"; limitType="+t.limitType+")"}function jd(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Rh.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!gd(t.startAt,Od(t),e)||t.endAt&&gd(t.endAt,Od(t),e))}(t,e)}function Pd(t){return function(e,n){for(var r=!1,i=0,s=Od(t);i<s.length;i++){var o=s[i],a=Nd(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Nd(t,e,n){var r=t.field.isKeyField()?Rh.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Mh(r,i):oh()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oh()}}function Rd(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function Dd(t){return{integerValue:""+t}}function Ld(t,e){return Nh(e)?Dd(e):Rd(t,e)}var Fd=function(){this._=void 0};function Md(t,e,n){return t instanceof qd?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Bd?Hd(t,e):t instanceof zd?Gd(t,e):function(t,e){var n=Vd(t,e),r=$d(n)+$d(t.A);return Bh(n)&&Bh(t.A)?Dd(r):Rd(t.R,r)}(t,e)}function Ud(t,e,n){return t instanceof Bd?Hd(t,e):t instanceof zd?Gd(t,e):n}function Vd(t,e){return t instanceof Kd?Bh(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var qd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ho.c)(e,t),e}(Fd),Bd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ho.c)(e,t),e}(Fd);function Hd(t,e){for(var n=Wd(e),r=function(t){n.some((function(e){return Lh(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var zd=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ho.c)(e,t),e}(Fd);function Gd(t,e){for(var n=Wd(e),r=function(t){n=n.filter((function(e){return!Lh(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Kd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Ho.c)(e,t),e}(Fd);function $d(t){return Ih(t.integerValue||t.doubleValue)}function Wd(t){return Hh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Qd=function(t,e){this.field=t,this.transform=e},Yd=function(t,e){this.version=t,this.transformResults=e},Zd=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Xd(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Jd=function(){};function tf(t,e,n){t instanceof of?function(t,e,n){var r=t.value.clone(),i=cf(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof af?function(t,e,n){if(Xd(t.precondition,e)){var r=cf(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(uf(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ef(t,e,n){t instanceof of?function(t,e,n){if(Xd(t.precondition,e)){var r=t.value.clone(),i=lf(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(sf(e),r).setHasLocalMutations()}}(t,e,n):t instanceof af?function(t,e,n){if(Xd(t.precondition,e)){var r=lf(t.fieldTransforms,n,e),i=e.data;i.setAll(uf(t)),i.setAll(r),e.convertToFoundDocument(sf(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Xd(t.precondition,e)&&e.convertToNoDocument(gh.min())}(t,e)}function nf(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Vd(s.transform,o||null);null!=a&&(null==n&&(n=Wh.empty()),n.set(s.field,a))}return n||null}function rf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&dh(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Bd&&e instanceof Bd||t instanceof zd&&e instanceof zd?dh(t.elements,e.elements,Lh):t instanceof Kd&&e instanceof Kd?Lh(t.A,e.A):t instanceof qd&&e instanceof qd}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function sf(t){return t.isFoundDocument()?t.version:gh.min()}var of=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Ho.c)(e,t),e}(Jd),af=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Ho.c)(e,t),e}(Jd);function uf(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function cf(t,e,n){var r=new Map;ah(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ud(o,a,n[i]))}return r}function lf(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Md(a,u,e))}return r}var hf,df,ff=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Ho.c)(e,t),e}(Jd),pf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Ho.c)(e,t),e}(Jd),gf=function(t){this.count=t};function mf(t){switch(t){case Xl.OK:return oh();case Xl.CANCELLED:case Xl.UNKNOWN:case Xl.DEADLINE_EXCEEDED:case Xl.RESOURCE_EXHAUSTED:case Xl.INTERNAL:case Xl.UNAVAILABLE:case Xl.UNAUTHENTICATED:return!1;case Xl.INVALID_ARGUMENT:case Xl.NOT_FOUND:case Xl.ALREADY_EXISTS:case Xl.PERMISSION_DENIED:case Xl.FAILED_PRECONDITION:case Xl.ABORTED:case Xl.OUT_OF_RANGE:case Xl.UNIMPLEMENTED:case Xl.DATA_LOSS:return!0;default:return oh()}}function yf(t){if(void 0===t)return rh("GRPC error has no .code"),Xl.UNKNOWN;switch(t){case hf.OK:return Xl.OK;case hf.CANCELLED:return Xl.CANCELLED;case hf.UNKNOWN:return Xl.UNKNOWN;case hf.DEADLINE_EXCEEDED:return Xl.DEADLINE_EXCEEDED;case hf.RESOURCE_EXHAUSTED:return Xl.RESOURCE_EXHAUSTED;case hf.INTERNAL:return Xl.INTERNAL;case hf.UNAVAILABLE:return Xl.UNAVAILABLE;case hf.UNAUTHENTICATED:return Xl.UNAUTHENTICATED;case hf.INVALID_ARGUMENT:return Xl.INVALID_ARGUMENT;case hf.NOT_FOUND:return Xl.NOT_FOUND;case hf.ALREADY_EXISTS:return Xl.ALREADY_EXISTS;case hf.PERMISSION_DENIED:return Xl.PERMISSION_DENIED;case hf.FAILED_PRECONDITION:return Xl.FAILED_PRECONDITION;case hf.ABORTED:return Xl.ABORTED;case hf.OUT_OF_RANGE:return Xl.OUT_OF_RANGE;case hf.UNIMPLEMENTED:return Xl.UNIMPLEMENTED;case hf.DATA_LOSS:return Xl.DATA_LOSS;default:return oh()}}(df=hf||(hf={}))[df.OK=0]="OK",df[df.CANCELLED=1]="CANCELLED",df[df.UNKNOWN=2]="UNKNOWN",df[df.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",df[df.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",df[df.NOT_FOUND=5]="NOT_FOUND",df[df.ALREADY_EXISTS=6]="ALREADY_EXISTS",df[df.PERMISSION_DENIED=7]="PERMISSION_DENIED",df[df.UNAUTHENTICATED=16]="UNAUTHENTICATED",df[df.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",df[df.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",df[df.ABORTED=10]="ABORTED",df[df.OUT_OF_RANGE=11]="OUT_OF_RANGE",df[df.UNIMPLEMENTED=12]="UNIMPLEMENTED",df[df.INTERNAL=13]="INTERNAL",df[df.UNAVAILABLE=14]="UNAVAILABLE",df[df.DATA_LOSS=15]="DATA_LOSS";var vf=function(){function t(t,e){this.comparator=t,this.root=e||_f.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_f.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_f.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new bf(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new bf(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new bf(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new bf(this.root,t,this.comparator,!0)},t}(),bf=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),_f=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw oh();if(this.right.isRed())throw oh();var t=this.left.check();if(t!==this.right.check())throw oh();return t+(this.isRed()?0:1)},t}();_f.EMPTY=null,_f.RED=!0,_f.BLACK=!1,_f.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw oh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw oh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw oh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw oh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw oh()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new _f(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var wf=function(){function t(t){this.comparator=t,this.data=new vf(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ef(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ef(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ef=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Sf=new vf(Rh.comparator);function Tf(){return Sf}var Of=new vf(Rh.comparator);function Cf(){return Of}var If=new vf(Rh.comparator);function xf(){return If}var kf=new wf(Rh.comparator);function Af(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=kf,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var jf=new wf(hh);function Pf(){return jf}var Nf=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Rf.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(gh.min(),r,Pf(),Tf(),Af())},t}(),Rf=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Th.EMPTY_BYTE_STRING,n,Af(),Af(),Af())},t}(),Df=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Lf=function(t,e){this.targetId=t,this.V=e},Ff=function(t,e,n,r){void 0===n&&(n=Th.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Mf=function(){function t(){this.S=0,this.D=qf(),this.C=Th.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Af(),e=Af(),n=Af();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:oh()}})),new Rf(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=qf()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Uf=function(){function t(t){this.W=t,this.G=new Map,this.H=Tf(),this.J=Vf(),this.Y=new wf(hh)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:oh()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(ed(i))if(0===n){var s=new Rh(i.path);this.tt(e,s,Yh.newNoDocument(s,gh.min()))}else ah(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var s=e.ot(i);if(s){if(r.current&&ed(s.target)){var o=new Rh(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Yh.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Af();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Nf(t,n,this.Y,this.H,r);return this.H=Tf(),this.J=Vf(),this.Y=new wf(hh),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Mf,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new wf(hh),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||nh("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Mf),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Vf(){return new vf(Rh.comparator)}function qf(){return new vf(Rh.comparator)}var Bf={asc:"ASCENDING",desc:"DESCENDING"},Hf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zf=function(t,e){this.databaseId=t,this.I=e};function Gf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kf(t,e){return t.I?e.toBase64():e.toUint8Array()}function $f(t,e){return Gf(t,e.toTimestamp())}function Wf(t){return ah(!!t),gh.fromTimestamp(function(t){var e=Ch(t);return new ph(e.seconds,e.nanos)}(t))}function Qf(t,e){return function(t){return new _h(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Yf(t){var e=_h.fromString(t);return ah(bp(e)),e}function Zf(t,e){return Qf(t.databaseId,e.path)}function Xf(t,e){var n=Yf(e);if(n.get(1)!==t.databaseId.projectId)throw new Jl(Xl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Jl(Xl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Rh(np(n))}function Jf(t,e){return Qf(t.databaseId,e)}function tp(t){var e=Yf(t);return 4===e.length?_h.emptyPath():np(e)}function ep(t){return new _h(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function np(t){return ah(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function rp(t,e,n){return{name:Zf(t,e),fields:n.value.mapValue.fields}}function ip(t,e,n){var r=Xf(t,e.name),i=Wf(e.updateTime),s=new Wh({mapValue:{fields:e.fields}}),o=Yh.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function sp(t,e){var n;if(e instanceof of)n={update:rp(t,e.key,e.value)};else if(e instanceof ff)n={delete:Zf(t,e.key)};else if(e instanceof af)n={update:rp(t,e.key,e.data),updateMask:vp(e.fieldMask)};else{if(!(e instanceof pf))return oh();n={verify:Zf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof qd)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bd)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zd)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Kd)return{fieldPath:e.field.canonicalString(),increment:n.A};throw oh()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:$f(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:oh()}(t,e.precondition)),n}function op(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Zd.updateTime(Wf(t.updateTime)):void 0!==t.exists?Zd.exists(t.exists):Zd.none()}(e.currentDocument):Zd.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(ah("REQUEST_TIME"===e.setToServerValue),n=new qd):"appendMissingElements"in e?n=new Bd(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new zd(e.removeAllFromArray.values||[]):"increment"in e?n=new Kd(t,e.increment):oh();var r=Eh.fromServerFormat(e.fieldPath);return new Qd(r,n)}(t,e)})):[];if(e.update){var i=Xf(t,e.update.name),s=new Wh({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Sh((t.fieldPaths||[]).map((function(t){return Eh.fromServerFormat(t)})))}(e.updateMask);return new af(i,s,o,n,r)}return new of(i,s,n,r)}if(e.delete){var a=Xf(t,e.delete);return new ff(a,n)}if(e.verify){var u=Xf(t,e.verify);return new pf(u,n)}return oh()}function ap(t,e){return{documents:[Jf(t,e.path)]}}function up(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Jf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Gh(t.value))return{unaryFilter:{field:pp(t.field),op:"IS_NAN"}};if(zh(t.value))return{unaryFilter:{field:pp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Gh(t.value))return{unaryFilter:{field:pp(t.field),op:"IS_NOT_NAN"}};if(zh(t.value))return{unaryFilter:{field:pp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pp(t.field),op:fp(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:pp(t.field),direction:dp(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||jh(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=lp(e.startAt)),e.endAt&&(n.structuredQuery.endAt=lp(e.endAt)),n}function cp(t){var e=tp(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ah(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[yp(e)]:void 0!==e.fieldFilter?[mp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):oh():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new fd(gp(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return jh(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=hp(n.startAt));var l=null;return n.endAt&&(l=hp(n.endAt)),vd(e,i,a,o,u,"F",c,l)}function lp(t){return{before:t.before,values:t.position}}function hp(t){return new hd(t.values||[],!!t.before)}function dp(t){return Bf[t]}function fp(t){return Hf[t]}function pp(t){return{fieldPath:t.canonicalString()}}function gp(t){return Eh.fromServerFormat(t.fieldPath)}function mp(t){return nd.create(gp(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return oh()}}(t.fieldFilter.op),t.fieldFilter.value)}function yp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=gp(t.unaryFilter.field);return nd.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=gp(t.unaryFilter.field);return nd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=gp(t.unaryFilter.field);return nd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=gp(t.unaryFilter.field);return nd.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return oh()}}function vp(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function bp(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function _p(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ep(e)),e=wp(t.get(n),e);return Ep(e)}function wp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Ep(t){return t+"\x01\x01"}function Sp(t){var e=t.length;if(ah(e>=2),2===e)return ah("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),_h.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&oh(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:oh()}s=o+2}return new _h(r)}var Tp=function(t,e){this.seconds=t,this.nanoseconds=e},Op=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Op.store="owner",Op.key="owner";var Cp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Cp.store="mutationQueues",Cp.keyPath="userId";var Ip=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ip.store="mutations",Ip.keyPath="batchId",Ip.userMutationsIndex="userMutationsIndex",Ip.userMutationsKeyPath=["userId","batchId"];var xp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_p(e)]},t.key=function(t,e,n){return[t,_p(e),n]},t}();xp.store="documentMutations",xp.PLACEHOLDER=new xp;var kp=function(t,e){this.path=t,this.readTime=e},Ap=function(t,e){this.path=t,this.version=e},jp=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};jp.store="remoteDocuments",jp.readTimeIndex="readTimeIndex",jp.readTimeIndexPath="readTime",jp.collectionReadTimeIndex="collectionReadTimeIndex",jp.collectionReadTimeIndexPath=["parentPath","readTime"];var Pp=function(t){this.byteSize=t};Pp.store="remoteDocumentGlobal",Pp.key="remoteDocumentGlobalKey";var Np=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Np.store="targets",Np.keyPath="targetId",Np.queryTargetsIndexName="queryTargetsIndex",Np.queryTargetsKeyPath=["canonicalId","targetId"];var Rp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Rp.store="targetDocuments",Rp.keyPath=["targetId","path"],Rp.documentTargetsIndex="documentTargetsIndex",Rp.documentTargetsKeyPath=["path","targetId"];var Dp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Dp.key="targetGlobalKey",Dp.store="targetGlobal";var Lp=function(t,e){this.collectionId=t,this.parent=e};Lp.store="collectionParents",Lp.keyPath=["collectionId","parent"];var Fp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Fp.store="clientMetadata",Fp.keyPath="clientId";var Mp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Mp.store="bundles",Mp.keyPath="bundleId";var Up=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Up.store="namedQueries",Up.keyPath="name";var Vp=Object(Ho.f)(Object(Ho.f)([],Object(Ho.f)(Object(Ho.f)([],Object(Ho.f)(Object(Ho.f)([],Object(Ho.f)(Object(Ho.f)([],[Cp.store,Ip.store,xp.store,jp.store,Np.store,Op.store,Dp.store,Rp.store]),[Fp.store])),[Pp.store])),[Lp.store])),[Mp.store,Up.store]),qp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bp=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Hp=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},zp=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&oh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Gp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Hp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Wp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Jp(e.target.error);n.ft.reject(new Wp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Wp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(nh("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Yp(e)},t}(),Kp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(zo.j)())&&rh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return nh("SimpleDb","Removing database:",t),Zp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(zo.j)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(nh("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Wp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Jl(Xl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Wp(t,n))},i.onupgradeneeded=function(t){nh("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){nh("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ho.b)(this,void 0,void 0,(function(){var i,s,o,a,u;return Object(Ho.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Ho.d)(this,(function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Gp.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch((function(t){return e.abort(t),zp.reject(t)})).toPromise(),u={},o.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return nh("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),$p=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Zp(this.Pt.delete())},t}(),Wp=function(t){function e(e,n){var r=this;return(r=t.call(this,Xl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ho.c)(e,t),e}(Jl);function Qp(t){return"IndexedDbTransactionError"===t.name}var Yp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(nh("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(nh("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zp(n)},t.prototype.add=function(t){return nh("SimpleDb","ADD",this.store.name,t,t),Zp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Zp(this.store.get(t)).next((function(n){return void 0===n&&(n=null),nh("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return nh("SimpleDb","DELETE",this.store.name,t),Zp(this.store.delete(t))},t.prototype.count=function(){return nh("SimpleDb","COUNT",this.store.name),Zp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){nh("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new zp((function(n,r){e.onerror=function(t){var e=Jp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new zp((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new $p(i),o=e(i.primaryKey,i.value,s);if(o instanceof zp){var a=o.catch((function(t){return s.done(),zp.reject(t)}));n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}})).next((function(){return zp.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zp(t){return new zp((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Jp(t.target.error);n(e)}}))}var Xp=!1;function Jp(t){var e=Kp._t(Object(zo.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Jl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xp||(Xp=!0,setTimeout((function(){throw r}),0)),r}}return t}var tg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Ho.c)(e,t),e}(Bp);function eg(t,e){var n=uh(t);return Kp.It(n.Mt,e)}var ng=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&tf(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&ef(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&ef(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(gh.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Af())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&dh(this.mutations,t.mutations,(function(t,e){return rf(t,e)}))&&dh(this.baseMutations,t.baseMutations,(function(t,e){return rf(t,e)}))},t}(),rg=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ah(e.mutations.length===r.length);for(var i=xf(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ig=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=gh.min()),void 0===s&&(s=gh.min()),void 0===o&&(o=Th.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),sg=function(t){this.Lt=t};function og(t,e){if(e.document)return ip(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Rh.fromSegments(e.noDocument.path),r=hg(e.noDocument.readTime),i=Yh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=Rh.fromSegments(e.unknownDocument.path);return r=hg(e.unknownDocument.version),Yh.newUnknownDocument(s,r)}return oh()}function ag(t,e,n){var r=ug(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Zf(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Gf(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new jp(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=lg(e.version);return o=e.hasCommittedMutations,new jp(null,new kp(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=lg(e.version);return new jp(new Ap(c,l),null,null,!0,r,i)}return oh()}function ug(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function cg(t){var e=new ph(t[0],t[1]);return gh.fromTimestamp(e)}function lg(t){var e=t.toTimestamp();return new Tp(e.seconds,e.nanoseconds)}function hg(t){var e=new ph(t.seconds,t.nanoseconds);return gh.fromTimestamp(e)}function dg(t,e){for(var n=(e.baseMutations||[]).map((function(e){return op(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return op(t.Lt,e)})),s=ph.fromMillis(e.localWriteTimeMs);return new ng(e.batchId,s,n,i)}function fg(t){var e,n,r=hg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?hg(t.lastLimboFreeSnapshotVersion):gh.min();return void 0!==t.query.documents?(ah(1===(n=t.query).documents.length),e=Cd(bd(tp(n.documents[0])))):e=function(t){return Cd(cp(t))}(t.query),new ig(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Th.fromBase64String(t.resumeToken))}function pg(t,e){var n,r=lg(e.snapshotVersion),i=lg(e.lastLimboFreeSnapshotVersion);n=ed(e.target)?ap(t.Lt,e.target):up(t.Lt,e.target);var s=e.resumeToken.toBase64();return new Np(e.targetId,Jh(e.target),r,s,e.sequenceNumber,i,n)}function gg(t){var e=cp({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Id(e,e.limit,"L"):e}var mg=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return yg(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:hg(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return yg(t).put({bundleId:(n=e).id,createTime:lg(Wf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return vg(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:gg(e.bundledQuery),readTime:hg(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return vg(t).put(function(t){return{name:t.name,readTime:lg(Wf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function yg(t){return eg(t,Mp.store)}function vg(t){return eg(t,Up.store)}var bg=function(){function t(){this.Bt=new _g}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),zp.resolve()},t.prototype.getCollectionParents=function(t,e){return zp.resolve(this.Bt.getEntries(e))},t}(),_g=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new wf(_h.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new wf(_h.comparator)).toArray()},t}(),wg=function(){function t(){this.qt=new _g}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var s={collectionId:r,parent:_p(i)};return Eg(t).put(s)}return zp.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[fh(e),""],!1,!0);return Eg(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Sp(s.parent))}return n}))},t}();function Eg(t){return eg(t,Lp.store)}var Sg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tg=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Og(t,e,n){var r=t.store(Ip.store),i=t.store(xp.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){ah(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=xp.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return zp.waitFor(s).next((function(){return c}))}function Cg(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oh();e=t.noDocument}return JSON.stringify(e).length}Tg.DEFAULT_COLLECTION_PERCENTILE=10,Tg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tg.DEFAULT=new Tg(41943040,Tg.DEFAULT_COLLECTION_PERCENTILE,Tg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tg.DISABLED=new Tg(-1,0,0);var Ig=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return ah(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kg(t).$t({index:Ip.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Ag(t),o=kg(t);return o.add({}).next((function(a){ah("number"==typeof a);for(var u=new ng(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return sp(t.Lt,e)})),i=n.mutations.map((function(e){return sp(t.Lt,e)}));return new Ip(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new wf((function(t,e){return hh(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],g=xp.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,xp.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=u.keys()})),zp.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return kg(t).get(e).next((function(t){return t?(ah(t.userId===n.userId),dg(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?zp.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return kg(t).$t({index:Ip.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(ah(e.batchId>=r),s=dg(n.R,e)),i.done()})).next((function(){return s}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kg(t).$t({index:Ip.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kg(t).Nt(Ip.userMutationsIndex,n).next((function(t){return t.map((function(t){return dg(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=xp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Ag(t).$t({range:i},(function(r,i,o){var a=r[0],u=r[2],c=Sp(r[1]);if(a===n.userId&&e.path.isEqual(c))return kg(t).get(u).next((function(t){if(!t)throw oh();ah(t.userId===n.userId),s.push(dg(n.R,t))}));o.done()})).next((function(){return s}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new wf(hh),i=[];return e.forEach((function(e){var s=xp.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ag(t).$t({range:o},(function(t,i,s){var o=t[0],a=t[2],u=Sp(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),zp.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=xp.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new wf(hh);return Ag(t).$t({range:o},(function(t,e,s){var o=t[0],u=t[2],c=Sp(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(kg(t).get(e).next((function(t){if(null===t)throw oh();ah(t.userId===n.userId),r.push(dg(n.R,t))})))})),zp.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Og(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),zp.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return zp.resolve();var r=IDBKeyRange.lowerBound(xp.prefixForUser(e.userId)),i=[];return Ag(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var s=Sp(t[1]);i.push(s)}else r.done()})).next((function(){ah(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return xg(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return jg(t).get(this.userId).next((function(t){return t||new Cp(e.userId,-1,"")}))},t}();function xg(t,e,n){var r=xp.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ag(t).$t({range:s,Ft:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function kg(t){return eg(t,Ip.store)}function Ag(t){return eg(t,xp.store)}function jg(t){return eg(t,Cp.store)}var Pg=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Ng=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Pg(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return gh.fromTimestamp(new ph(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Rg(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return ah(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Rg(t).$t((function(o,a){var u=fg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))})).next((function(){return zp.waitFor(s)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Rg(t).$t((function(t,n){var r=fg(n);e(r)}))},t.prototype.Xt=function(t){return Dg(t).get(Dp.key).next((function(t){return ah(null!==t),t}))},t.prototype.Zt=function(t,e){return Dg(t).put(Dp.key,e)},t.prototype.te=function(t,e){return Rg(t).put(pg(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Jh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rg(t).$t({range:r,index:Np.queryTargetsIndexName},(function(t,n,r){var s=fg(n);td(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Lg(t);return e.forEach((function(e){var o=_p(e.path);i.push(s.put(new Rp(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))})),zp.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Lg(t);return zp.forEach(e,(function(e){var s=_p(e.path);return zp.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Lg(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Lg(t),i=Af();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=Sp(t[1]),s=new Rh(r);i=i.add(s)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=_p(e.path),r=IDBKeyRange.bound([n],[fh(n)],!1,!0),i=0;return Lg(t).$t({index:Rp.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Rg(t).get(e).next((function(t){return t?fg(t):null}))},t}();function Rg(t){return eg(t,Np.store)}function Dg(t){return eg(t,Dp.store)}function Lg(t){return eg(t,Rp.store)}function Fg(t){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){if(t.code!==Xl.FAILED_PRECONDITION||t.message!==qp)throw t;return nh("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Mg(t,e){var n=t[1],r=e[1],i=hh(t[0],e[0]);return 0===i?hh(n,r):i}var Ug=function(){function t(t){this.ne=t,this.buffer=new wf(Mg),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Mg(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Vg=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;nh("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(Ho.b)(e,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Qp(e=n.sent())?(nh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Fg(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),qg=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zp.resolve(Zl.o);var r=new Ug(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(nh("LruGarbageCollector","Garbage collection skipped; disabled"),zp.resolve(Sg)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(nh("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Sg):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(nh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),eh()<=Go.a.DEBUG&&nh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),zp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Bg=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new qg(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Hg(t,n)},t.prototype.removeReference=function(t,e,n){return Hg(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Hg(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return jg(t).Ot((function(r){return xg(t,r,e).next((function(t){return t&&(n=!0),zp.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,(function(o,a){if(a<=e){var u=n._e(t,o).next((function(e){if(!e)return s++,r.getEntry(t,o).next((function(){return r.removeEntry(o),Lg(t).delete([0,_p(o.path)])}))}));i.push(u)}})).next((function(){return zp.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Hg(t,e)},t.prototype.we=function(t,e){var n,r=Lg(t),i=Zl.o;return r.$t({index:Rp.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Zl.o&&e(new Rh(Sp(n)),i),i=o,n=s):i=Zl.o})).next((function(){i!==Zl.o&&e(new Rh(Sp(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Hg(t,e){return Lg(t).put(function(t,e){return new Rp(0,_p(t.path),e)}(e,t.currentSequenceNumber))}var zg=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){yh(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.isEmpty=function(){return vh(this.inner)},t}(),Gg=function(){function t(){this.changes=new zg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:gh.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Yh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zp.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Kg=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Qg(t).put(Yg(e),n)},t.prototype.removeEntry=function(t,e){var n=Qg(t),r=Yg(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Qg(t).get(Yg(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Qg(t).get(Yg(e)).next((function(t){return{document:n.ye(e,t),size:Cg(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Tf();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Tf(),i=new vf(Rh.comparator);return this.pe(t,e,(function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Cg(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return zp.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Qg(t).$t({range:r},(function(t,e,r){for(var o=Rh.fromSegments(t);s&&Rh.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()})).next((function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Tf(),s=e.path.length+1,o={};if(n.isEqual(gh.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=ug(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=jp.collectionReadTimeIndex}return Qg(t).$t(o,(function(t,n,o){if(t.length===s){var a=og(r.R,n);e.path.isPrefixOf(a.key.path)?jd(e,a)&&(i=i.insert(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new $g(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Wg(t).get(Pp.key).next((function(t){return ah(!!t),t}))},t.prototype.me=function(t,e){return Wg(t).put(Pp.key,e)},t.prototype.ye=function(t,e){if(e){var n=og(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(gh.min()))return n}return Yh.newInvalidDocument(t)},t}(),$g=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new zg((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Ho.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new wf((function(t,e){return hh(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=ag(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=Cg(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=ag(e.Ie.R,Yh.newNoDocument(s,gh.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),zp.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(Gg);function Wg(t){return eg(t,Pp.store)}function Qg(t){return eg(t,jp.store)}function Yg(t){return t.path.toArray()}var Zg=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ah(n<r&&n>=0&&r<=11);var s=new Gp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Op.store)}(t),function(t){t.createObjectStore(Cp.store,{keyPath:Cp.keyPath}),t.createObjectStore(Ip.store,{keyPath:Ip.keyPath,autoIncrement:!0}).createIndex(Ip.userMutationsIndex,Ip.userMutationsKeyPath,{unique:!0}),t.createObjectStore(xp.store)}(t),Xg(t),function(t){t.createObjectStore(jp.store)}(t));var o=zp.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Rp.store),t.deleteObjectStore(Np.store),t.deleteObjectStore(Dp.store)}(t),Xg(t)),o=o.next((function(){return function(t){var e=t.store(Dp.store),n=new Dp(0,0,gh.min().toTimestamp(),0);return e.put(Dp.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Ip.store).Nt().next((function(n){t.deleteObjectStore(Ip.store),t.createObjectStore(Ip.store,{keyPath:Ip.keyPath,autoIncrement:!0}).createIndex(Ip.userMutationsIndex,Ip.userMutationsKeyPath,{unique:!0});var r=e.store(Ip.store),i=n.map((function(t){return r.put(t)}));return zp.waitFor(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(Fp.store,{keyPath:Fp.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.Re(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Pp.store)}(t),i.be(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ve(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.Pe(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(jp.store);e.createIndex(jp.readTimeIndex,jp.readTimeIndexPath,{unique:!1}),e.createIndex(jp.collectionReadTimeIndex,jp.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ve(s)}))),n<11&&r>=11&&(o=o.next((function(){!function(t){t.createObjectStore(Mp.store,{keyPath:Mp.keyPath})}(t),function(t){t.createObjectStore(Up.store,{keyPath:Up.keyPath})}(t)}))),o},t.prototype.be=function(t){var e=0;return t.store(jp.store).$t((function(t,n){e+=Cg(n)})).next((function(){var n=new Pp(e);return t.store(Pp.store).put(Pp.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Cp.store),r=t.store(Ip.store);return n.Nt().next((function(n){return zp.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ip.userMutationsIndex,i).next((function(r){return zp.forEach(r,(function(r){ah(r.userId===n.userId);var i=dg(e.R,r);return Og(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Rp.store),n=t.store(jp.store);return t.store(Dp.store).get(Dp.key).next((function(t){var r=[];return n.$t((function(n,i){var s=new _h(n),o=function(t){return[0,_p(t)]}(s);r.push(e.get(o).next((function(n){return n?zp.resolve():function(n){return e.put(new Rp(0,_p(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return zp.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Lp.store,{keyPath:Lp.keyPath});var n=e.store(Lp.store),r=new _g,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:_p(i)})}};return e.store(jp.store).$t({Ft:!0},(function(t,e){var n=new _h(t);return i(n.popLast())})).next((function(){return e.store(xp.store).$t({Ft:!0},(function(t,e){var n=Sp(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Np.store);return n.$t((function(t,r){var i=fg(r),s=pg(e.R,i);return n.put(s)}))},t}();function Xg(t){t.createObjectStore(Rp.store,{keyPath:Rp.keyPath}).createIndex(Rp.documentTargetsIndex,Rp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Np.store,{keyPath:Np.keyPath}).createIndex(Np.queryTargetsIndexName,Np.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Dp.store)}var Jg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tm=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Jl(Xl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bg(this,i),this.Le=n+"main",this.R=new sg(u),this.Be=new Kp(this.Le,11,new Zg(this.R)),this.qe=new Ng(this.referenceDelegate,this.R),this.Ut=new wg,this.Ue=function(t,e){return new Kg(t,e)}(this.R,this.Ut),this.Ke=new mg,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&rh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Jl(Xl.FAILED_PRECONDITION,Jg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Zl(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Ho.b)(e,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Object(Ho.b)(e,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Object(Ho.b)(e,void 0,void 0,(function(){return Object(Ho.d)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return nm(e).put(new Fp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Qp(e))return nh("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return nh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return em(t).get(Op.key).next((function(t){return zp.resolve(e.tn(t))}))},t.prototype.en=function(t){return nm(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=eg(t,Fp.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return zp.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?zp.resolve(!0):em(t).get(Op.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Jl(Xl.FAILED_PRECONDITION,Jg);return!1}}return!(!e.networkEnabled||!e.inForeground)||nm(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&nh("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t=this;return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Op.store,Fp.store],(function(e){var n=new tg(e,Zl.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return nm(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ig.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return nh("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Vp,(function(s){return r=new tg(s,i.Ne?i.Ne.next():Zl.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw rh("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Jl(Xl.FAILED_PRECONDITION,qp);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return em(t).get(Op.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Jl(Xl.FAILED_PRECONDITION,Jg)}))},t.prototype.Ze=function(t){var e=new Op(this.clientId,this.allowTabSynchronization,Date.now());return em(t).put(Op.key,e)},t.yt=function(){return Kp.yt()},t.prototype.Xe=function(t){var e=this,n=em(t);return n.get(Op.key).next((function(t){return e.tn(t)?(nh("IndexedDbPersistence","Releasing primary lease."),n.delete(Op.key)):zp.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(rh("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),Object(zo.r)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return nh("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return rh("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){rh("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function em(t){return eg(t,Op.store)}function nm(t){return eg(t,Fp.store)}function rm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var im=function(t,e){this.progress=t,this.wn=e},sm=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Rh.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Td(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Rh(e)).next((function(t){var e=Cf();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=Cf();return this.Ut.getCollectionParents(t,i).next((function(o){return zp.forEach(o,(function(o){var a=function(t,e){return new yd(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){s=s.insert(t,e)}))}))})).next((function(){return s}))}))},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return s.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=Yh.newInvalidDocument(c),r=r.insert(c,l)),ef(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){jd(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Af(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof af&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),om=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Af(),i=Af(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),am=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(gh.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(s){var o=i.Cn(e,s);return(_d(e)||wd(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(eh()<=Go.a.DEBUG&&nh("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ad(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return o.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new wf(Pd(t));return e.forEach((function(e,r){jd(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return eh()<=Go.a.DEBUG&&nh("QueryEngine","Using full collection scan to execute query:",Ad(e)),this.Sn.getDocumentsMatchingQuery(t,e,gh.min())},t}(),um=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new vf(hh),this.Fn=new zg((function(t){return Jh(t)}),td),this.$n=gh.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new sm(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function cm(t,e,n,r){return new um(t,e,n,r)}function lm(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Ho.d)(this,(function(o){switch(o.label){case 0:return n=uh(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var s;return n._n.getAllMutationBatches(t).next((function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new sm(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],o=Af(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}}))}))}function hm(t,e){var n=uh(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=zp.resolve();return s.forEach((function(t){o=o.next((function(){return r.getEntry(e,t)})).next((function(e){var s=n.docVersions.get(t);ah(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),o.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function dm(t){var e=uh(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function fm(t,e){var n=uh(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var o=[];e.targetChanges.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return ah(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}}));var a=Tf();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(pm(t,s,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(gh.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));o.push(u)}return zp.waitFor(o).next((function(){return s.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.kn=i,t}))}function pm(t,e,n,r,i){var s=Af();return n.forEach((function(t){return s=s.add(t)})),e.getEntries(t,s).next((function(t){var s=Tf();return n.forEach((function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(gh.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):nh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function gm(t,e){var n=uh(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function mm(t,e){var n=uh(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?zp.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new ig(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function ym(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Ho.d)(this,(function(a){switch(a.label){case 0:r=uh(t),i=r.kn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Qp(o=a.sent()))throw o;return nh("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}}))}))}function vm(t,e,n){var r=uh(t),i=gh.min(),s=Af();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=uh(t),i=r.Fn.get(n);return void 0!==i?zp.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,Cd(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:gh.min(),n?s:Af())})).next((function(t){return{documents:t,Bn:s}}))}))}function bm(t,e){var n=uh(t),r=uh(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function _m(t){var e=uh(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=uh(t),i=Tf(),s=ug(n),o=Qg(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:jp.readTimeIndex,range:a},(function(t,e){var n=og(r.R,e);i=i.insert(n.key,n),s=e.readTime})).next((function(){return{wn:i,readTime:cg(s)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function wm(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){return[2,(e=uh(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Qg(t),n=gh.min();return e.$t({index:jp.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=cg(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Em(t,e,n,r){return Object(Ho.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c,l,h,d,f;return Object(Ho.d)(this,(function(p){switch(p.label){case 0:for(i=uh(t),s=Af(),o=Tf(),a=xf(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,mm(i,function(t){return Cd(bd(_h.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return pm(t,d,o,gh.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return i.qe.addMatchingKeys(t,s,f.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Sm(t,e,n){return void 0===n&&(n=Af()),Object(Ho.b)(this,void 0,void 0,(function(){var r,i;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return[4,mm(t,Cd(gg(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=uh(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var s=Wf(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ke.saveNamedQuery(t,e);var o=r.withResumeToken(Th.EMPTY_BYTE_STRING,s);return i.kn=i.kn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var Tm=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return zp.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Wf(n.createTime)}),zp.resolve()},t.prototype.getNamedQuery=function(t,e){return zp.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:gg(t.bundledQuery),readTime:Wf(t.readTime)}}(e)),zp.resolve()},t}(),Om=function(){function t(){this.Wn=new wf(Cm.Gn),this.zn=new wf(Cm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Cm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Cm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Rh(new _h([])),r=new Cm(n,t),i=new Cm(n,t+1),s=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),s.push(t.key)})),s},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Rh(new _h([])),n=new Cm(e,t),r=new Cm(e,t+1),i=Af();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Cm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Cm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Rh.comparator(t.key,e.key)||hh(t.ns,e.ns)},t.Hn=function(t,e){return hh(t.ns,e.ns)||Rh.comparator(t.key,e.key)},t}(),Im=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new wf(Cm.Gn)}return t.prototype.checkEmpty=function(t){return zp.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new ng(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new Cm(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return zp.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return zp.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return zp.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zp.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return zp.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Cm(e,0),i=new Cm(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);s.push(e)})),zp.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new wf(hh);return e.forEach((function(t){var e=new Cm(t,0),i=new Cm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),zp.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Rh.isDocumentKey(i)||(i=i.child(""));var s=new Cm(new Rh(i),0),o=new wf(hh);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)}),s),zp.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ah(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return zp.forEach(e.mutations,(function(i){var s=new Cm(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Cm(e,0),r=this.rs.firstAfterOrEqual(n);return zp.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return zp.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),xm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new vf(Rh.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zp.resolve(n?n.document.clone():Yh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Tf();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Yh.newInvalidDocument(t))})),zp.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Tf(),i=new Rh(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||jd(e,u)&&(r=r.insert(u.key,u.clone()))}return zp.resolve(r)},t.prototype.fs=function(t,e){return zp.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new km(this)},t.prototype.getSize=function(t){return zp.resolve(this.size)},t}(),km=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Ho.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),zp.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Gg),Am=function(){function t(t){this.persistence=t,this.ds=new zg((function(t){return Jh(t)}),td),this.lastRemoteSnapshotVersion=gh.min(),this.highestTargetId=0,this.ws=0,this._s=new Om,this.targetCount=0,this.ys=Pg.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),zp.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zp.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zp.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),zp.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),zp.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Pg(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,zp.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),zp.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,zp.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),zp.waitFor(s).next((function(){return i}))},t.prototype.getTargetCount=function(t){return zp.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return zp.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),zp.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),zp.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),zp.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return zp.resolve(n)},t.prototype.containsKey=function(t,e){return zp.resolve(this._s.containsKey(e))},t}(),jm=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Zl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Am(this),this.Ut=new bg,this.Ue=function(t,e){return new xm(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new sg(e),this.Ke=new Tm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Im(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;nh("MemoryPersistence","Starting transaction:",t);var i=new Pm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return zp.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Pm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Ho.c)(e,t),e}(Bp),Nm=function(){function t(t){this.persistence=t,this.As=new Om,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw oh()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),zp.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),zp.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),zp.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zp.forEach(this.vs,(function(r){var i=Rh.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return zp.or([function(){return zp.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Rm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Dm(t,e){return"firestore_clients_"+t+"_"+e}function Lm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Fm(t,e){return"firestore_targets_"+t+"_"+e}Rm.UNAUTHENTICATED=new Rm(null),Rm.GOOGLE_CREDENTIALS=new Rm("google-credentials-uid"),Rm.FIRST_PARTY=new Rm("first-party-uid"),Rm.MOCK_USER=new Rm("mock-user");var Mm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Jl(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(rh("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Um=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Jl(i.error.code,i.error.message)),s?new t(e,i.state,r):(rh("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Pf(),o=0;i&&o<r.activeTargetIds.length;++o)i=Nh(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(rh("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),qm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(rh("SharedClientState","Failed to parse online state: "+e),null)},t}(),Bm=function(){function t(){this.activeTargetIds=Pf()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hm=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new vf(hh),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Dm(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Bm),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Ho.d)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Dm(this.persistenceKey,r)))&&(s=Vm.Vs(r,i))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Fm(this.persistenceKey,t));if(n){var r=Um.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Fm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return nh("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){nh("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){nh("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(nh("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void rh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(Ho.b)(e,void 0,void 0,(function(){var t,e,r,i,s,o;return Object(Ho.d)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Zl.o;if(null!=t)try{var n=JSON.parse(t);ah("number"==typeof n),e=n}catch(t){rh("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Zl.o&&this.sequenceNumberHandler(o);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Mm(this.currentUser,t,e,n),i=Lm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Lm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Fm(this.persistenceKey,t),i=new Um(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Vm.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Mm.Vs(new Rm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Um.Vs(r,e)},t.prototype.js=function(t){return qm.Vs(t)},t.prototype.ii=function(t){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(nh("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),s=this.Gs(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.syncEngine.hi(o,a).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Pf();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),zm=function(){function t(){this.li=new Bm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Bm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Gm=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Km=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){nh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){nh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),$m={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wm=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Qm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(Ho.c)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,s){var o=new Yl;o.listenOnce(Kl.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Gl.NO_ERROR:var e=o.getResponseJson();nh("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Gl.TIMEOUT:nh("Connection",'RPC "'+t+'" timed out'),s(new Jl(Xl.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:var n=o.getStatus();if(nh("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Xl).indexOf(e)>=0?e:Xl.UNKNOWN}(r.status);s(new Jl(a,r.message))}else s(new Jl(Xl.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Jl(Xl.UNAVAILABLE,"Connection failed."));break;default:oh()}}finally{nh("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);o.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Vl,i=Ru(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Wl({})),this.ki(s.initMessageHeaders,e),Object(zo.o)()||Object(zo.q)()||Object(zo.m)()||Object(zo.n)()||Object(zo.s)()||Object(zo.l)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");nh("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Wm({Ei:function(t){c?nh("Connection","Not sending because WebChannel is closed:",t):(u||(nh("Connection","Opening WebChannel transport."),a.open(),u=!0),nh("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,Ql.EventType.OPEN,(function(){c||nh("Connection","WebChannel transport opened.")})),h(a,Ql.EventType.CLOSE,(function(){c||(c=!0,nh("Connection","WebChannel transport closed"),l.Vi())})),h(a,Ql.EventType.ERROR,(function(t){c||(c=!0,ih("Connection","WebChannel transport errored:",t),l.Vi(new Jl(Xl.UNAVAILABLE,"The operation could not be completed")))})),h(a,Ql.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];ah(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){nh("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=hf[t];if(void 0!==e)return yf(e)}(i),o=r.message;void 0===s&&(s=Xl.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Jl(s,o)),a.close()}else nh("Connection","WebChannel received:",n),l.Si(n)}})),h(i,$l.STAT_EVENT,(function(t){10===t.stat?nh("Connection","Detected buffering proxy"):11===t.stat&&nh("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);nh("RestConnection","Sending: ",i,n);var s={};return this.ki(s,r),this.Fi(t,i,s,n).then((function(t){return nh("RestConnection","Received: ",t),t}),(function(e){throw ih("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+$m[t]},t}());function Ym(){return"undefined"!=typeof window?window:null}function Zm(){return"undefined"!=typeof document?document:null}function Xm(t){return new zf(t,!0)}var Jm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&nh("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),ty=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Jm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Xl.RESOURCE_EXHAUSTED?(rh(e.toString()),rh("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Xl.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Jl(Xl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Object(Ho.b)(t,void 0,void 0,(function(){return Object(Ho.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return nh("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(nh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ey=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(Ho.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:oh()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(ah(void 0===e||"string"==typeof e),Th.fromBase64String(e||"")):(ah(void 0===e||e instanceof Uint8Array),Th.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Xl.UNKNOWN:yf(t.code);return new Jl(e,t.message||"")}(a);n=new Ff(r,i,s,o||null)}else if("documentChange"in e){i=Xf(t,(r=e.documentChange).document.name),s=Wf(r.document.updateTime);var a=new Wh({mapValue:{fields:r.document.fields}}),u=(o=Yh.newFoundDocument(i,s,a),r.targetIds||[]);n=new Df(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Xf(t,(r=e.documentDelete).document),s=r.readTime?Wf(r.readTime):gh.min(),a=Yh.newNoDocument(i,s),n=new Df([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Xf(t,(r=e.documentRemove).document),n=new Df([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return oh();var c=e.filter;i=new gf(r=c.count||0),n=new Lf(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return gh.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?gh.min():e.readTime?Wf(e.readTime):gh.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ep(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=ed(r)?{documents:ap(t,r)}:{query:up(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Kf(t,e.resumeToken):e.snapshotVersion.compareTo(gh.min())>0&&(n.readTime=Gf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oh()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ep(this.R),e.removeTarget=t,this.cr(e)},e}(ty),ny=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(Ho.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(ah(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ah(void 0!==e),t.map((function(t){return function(t,e){var n=Wf(t.updateTime?t.updateTime:e);return n.isEqual(gh.min())&&(n=Wf(e)),new Yd(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Wf(t.commitTime);return this.listener.Tr(n,e)}return ah(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ep(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return sp(e.R,t)}))};this.cr(n)},e}(ty),ry=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Ho.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Jl(Xl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Xl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Jl(Xl.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Xl.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Jl(Xl.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),iy=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(rh(e),this.Vr=!1):nh("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),sy=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Object(Ho.b)(s,void 0,void 0,(function(){return Object(Ho.d)(this,(function(t){switch(t.label){case 0:return py(this)?(nh("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return(e=uh(t)).Or.add(4),[4,ay(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,oy(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new iy(n,r)};function oy(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e,n;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:if(!py(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ay(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e,n;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function uy(t,e){var n=uh(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),fy(n)?dy(n):ky(n).er()&&ly(n,e))}function cy(t,e){var n=uh(t),r=ky(n);n.$r.delete(e),r.er()&&hy(n,e),0===n.$r.size&&(r.er()?r.ir():py(n)&&n.Br.set("Unknown"))}function ly(t,e){t.qr.U(e.targetId),ky(t).mr(e)}function hy(t,e){t.qr.U(e),ky(t).yr(e)}function dy(t){t.qr=new Uf({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),ky(t).start(),t.Br.Sr()}function fy(t){return py(t)&&!ky(t).tr()&&t.$r.size>0}function py(t){return 0===uh(t).Or.size}function gy(t){t.qr=void 0}function my(t){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){return t.$r.forEach((function(e,n){ly(t,e)})),[2]}))}))}function yy(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(n){return gy(t),fy(t)?(t.Br.Nr(e),dy(t)):t.Br.set("Unknown"),[2]}))}))}function vy(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r,i,s;return Object(Ho.d)(this,(function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Ff&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i,s;return Object(Ho.d)(this,(function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),nh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,by(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Df?t.qr.X(e):e instanceof Lf?t.qr.rt(e):t.qr.et(e),n.isEqual(gh.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,dm(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Th.EMPTY_BYTE_STRING,n.snapshotVersion)),hy(t,e);var r=new ig(n.target,e,1,n.sequenceNumber);ly(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return nh("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,by(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))}function by(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r=this;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:if(!Qp(e))throw e;return t.Or.add(1),[4,ay(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return dm(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(Ho.b)(r,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return nh("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,oy(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function _y(t,e){return e().catch((function(n){return by(t,n,e)}))}function wy(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e,n,r,i,s;return Object(Ho.d)(this,(function(o){switch(o.label){case 0:e=uh(t),n=Ay(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return py(t)&&t.Fr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,gm(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=Ay(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,by(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Ey(e)&&Sy(e),[2]}}))}))}function Ey(t){return py(t)&&!Ay(t).tr()&&t.Fr.length>0}function Sy(t){Ay(t).start()}function Ty(t){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){return Ay(t).Ar(),[2]}))}))}function Oy(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Ho.d)(this,(function(i){for(e=Ay(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Cy(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r,i;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return r=t.Fr.shift(),i=rg.from(r,e,n),[4,_y(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return s.sent(),[4,wy(t)];case 2:return s.sent(),[2]}}))}))}function Iy(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return e&&Ay(t).pr?[4,function(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return mf(r=e.code)&&r!==Xl.ABORTED?(n=t.Fr.shift(),Ay(t).sr(),[4,_y(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,wy(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ey(t)&&Sy(t),[2]}}))}))}function xy(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return n=uh(t),e?(n.Or.delete(2),[4,oy(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,ay(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ky(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=uh(t);return r.br(),new ey(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:my.bind(null,t),Ri:yy.bind(null,t),_r:vy.bind(null,t)}),t.Mr.push((function(n){return Object(Ho.b)(e,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),fy(t)?dy(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),gy(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Ay(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=uh(t);return r.br(),new ny(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Ty.bind(null,t),Ri:Iy.bind(null,t),Ir:Oy.bind(null,t),Tr:Cy.bind(null,t)}),t.Mr.push((function(n){return Object(Ho.b)(e,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,wy(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(nh("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var jy=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jl(Xl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Py(t,e){if(rh("AsyncQueue",e+": "+t),Qp(t))return new Jl(Xl.UNAVAILABLE,e+": "+t);throw t}var Ny=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Rh.comparator(e.key,n.key)}:function(t,e){return Rh.comparator(t.key,e.key)},this.keyedMap=Cf(),this.sortedSet=new vf(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Ry=function(){function t(){this.Qr=new vf(Rh.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):oh():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Dy=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,Ny.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ly=function(){this.Wr=void 0,this.listeners=[]},Fy=function(){this.queries=new zg((function(t){return kd(t)}),xd),this.onlineState="Unknown",this.Gr=new Set};function My(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(Ho.d)(this,(function(c){switch(c.label){case 0:if(n=uh(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Ly),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Py(a,"Initialization of query '"+Ad(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&By(n),[2]}}))}))}function Uy(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Ho.d)(this,(function(a){return n=uh(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Vy(t,e){for(var n=uh(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&By(n)}function qy(t,e,n){var r=uh(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function By(t){t.Gr.forEach((function(t){t.next()}))}var Hy=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Dy(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Dy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),zy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Gy=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Xf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?ip(this.R,t.document,!1):Yh.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Wf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Gy(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Af()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return[4,Em(this.localStore,new Gy(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Sm(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new im(Object.assign({},this.progress),t))]}}))}))}}();var Ky=function(t){this.key=t},$y=function(t){this.key=t},Wy=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Af(),this.mutatedKeys=Af(),this.lo=Pd(t),this.fo=new Ny(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Ry,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=_d(this.query)&&i.size===this.query.limit?i.last():null,c=wd(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=jd(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),_d(this.query)||wd(this.query))for(;o.size>this.query.limit;){var l=_d(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oh()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new Dy(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Ry,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Af(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new $y(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Ky(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Af();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Dy.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Qy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yy=function(t){this.key=t,this.bo=!1},Zy=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new zg((function(t){return kd(t)}),xd),this.Vo=new Map,this.So=new Set,this.Do=new vf(Rh.comparator),this.Co=new Map,this.No=new Om,this.xo={},this.ko=new Map,this.Fo=Pg.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Xy(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Ho.d)(this,(function(a){switch(a.label){case 0:return n=Iv(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,mm(n.localStore,Cd(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,Jy(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&uy(n.remoteStore,s),a.label=4;case 4:return[2,r]}}))}))}function Jy(t,e,n,r){return Object(Ho.b)(this,void 0,void 0,(function(){var i,s,o,a,u,c;return Object(Ho.d)(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(Ho.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Ho.d)(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,vm(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(dv(t,e.targetId,o.To),o.snapshot)]}}))}))}(t,e,n,r)},[4,vm(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Wy(e,i.Bn),o=s._o(i.documents),a=Rf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),dv(t,n,u.To),c=new Qy(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function tv(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return n=uh(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!xd(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ym(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),cy(n.remoteStore,r.targetId),lv(n,r.targetId)})).catch(Fg)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return lv(n,r.targetId),[4,ym(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))}function ev(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Ho.d)(this,(function(a){switch(a.label){case 0:r=xv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=uh(t),i=ph.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Af());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=nf(c,n.get(c.key));null!=l&&o.push(new af(c.key,l,Qh(l.value.mapValue),Zd.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new vf(hh)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,gv(r,i.changes)];case 3:return a.sent(),[4,wy(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Py(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}}))}))}function nv(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:n=uh(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,fm(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(ah(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ah(r.bo):t.removedDocuments.size>0&&(ah(r.bo),r.bo=!1))})),[4,gv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Fg(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function rv(t,e,n){var r=uh(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=uh(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)})),r&&By(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iv(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u;return Object(Ho.d)(this,(function(c){switch(c.label){case 0:return(r=uh(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new vf(Rh.comparator)).insert(s,Yh.newNoDocument(s,gh.min())),a=Af().add(s),u=new Nf(gh.min(),new Map,new wf(hh),o,a),[4,nv(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),pv(r),[3,4];case 2:return[4,ym(r.localStore,e,!1).then((function(){return lv(r,e,n)})).catch(Fg)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function sv(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:n=uh(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,hm(n.localStore,e)];case 2:return i=s.sent(),cv(n,r,null),uv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,gv(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Fg(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function ov(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r,i;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:r=uh(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=uh(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return ah(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=s.sent(),cv(r,e,n),uv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,gv(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Fg(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}}))}))}function av(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i,s,o;return Object(Ho.d)(this,(function(a){switch(a.label){case 0:py((n=uh(t)).remoteStore)||nh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=uh(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return s=a.sent(),o=Py(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}}))}))}function uv(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function cv(t,e,n){var r=uh(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function lv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||hv(t,e)}))}function hv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(cy(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),pv(t))}function dv(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Ky?(t.No.addReference(s.key,e),fv(t,s)):s instanceof $y?(nh("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||hv(t,s.key)):oh()}}function fv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(nh("SyncEngine","New document in limbo: "+n),t.So.add(r),pv(t))}function pv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Rh(_h.fromString(e)),r=t.Fo.next();t.Co.set(r,new Yy(n)),t.Do=t.Do.insert(n,r),uy(t.remoteStore,new ig(Cd(bd(n.path)),r,2,Zl.o))}}function gv(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r,i,s,o;return Object(Ho.d)(this,(function(a){switch(a.label){case 0:return r=uh(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){o.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=om.Pn(a.targetId,t);s.push(e)}})))})),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c;return Object(Ho.d)(this,(function(l){switch(l.label){case 0:n=uh(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return zp.forEach(e,(function(e){return zp.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return zp.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Qp(r=l.sent()))throw r;return nh("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.kn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(a,c));return[2]}}))}))}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function mv(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return(n=uh(t)).currentUser.isEqual(e)?[3,3]:(nh("SyncEngine","User change. New user:",e.toKey()),[4,lm(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new Jl(Xl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,gv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function yv(t,e){var n=uh(t),r=n.Co.get(e);if(r&&r.bo)return Af().add(r.key);var i=Af(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function vv(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return[4,vm((n=uh(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&dv(n,e.targetId,i.To),i)]}}))}))}function bv(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){return[2,_m((e=uh(t)).localStore).then((function(t){return gv(e,t)}))]}))}))}function _v(t,e,n,r){return Object(Ho.b)(this,void 0,void 0,(function(){var i,s;return Object(Ho.d)(this,(function(o){switch(o.label){case 0:return[4,function(t,e){var n=uh(t),r=uh(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):zp.resolve(null)}))}))}((i=uh(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,wy(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(cv(i,e,r||null),uv(i,e),function(t,e){uh(uh(t)._n).Gt(e)}(i.localStore,e)):oh(),o.label=4;case 4:return[4,gv(i,s)];case 5:return o.sent(),[3,7];case 6:nh("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}}))}))}function wv(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u;return Object(Ho.d)(this,(function(c){switch(c.label){case 0:return Iv(n=uh(t)),xv(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ev(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,xy(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)uy(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then((function(){return lv(n,e),ym(n.localStore,e,!0)})),cy(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,Ev(n,a)];case 5:return c.sent(),function(t){var e=uh(t);e.Co.forEach((function(t,n){cy(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new vf(Rh.comparator)}(n),n.$o=!1,[4,xy(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Ev(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(Ho.d)(this,(function(g){switch(g.label){case 0:n=uh(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,mm(n.localStore,Cd(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,vv(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,bm(n.localStore,a)];case 8:return p=g.sent(),[4,mm(n.localStore,p)];case 9:return u=g.sent(),[4,Jy(n,Sv(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Sv(t){return vd(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Tv(t){var e=uh(t);return uh(uh(e.localStore).persistence).fn()}function Ov(t,e,n,r){return Object(Ho.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Ho.d)(this,(function(a){switch(a.label){case 0:return(i=uh(t)).$o?(nh("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_m(i.localStore)];case 3:return s=a.sent(),o=Nf.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,gv(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,ym(i.localStore,e,!0)];case 6:return a.sent(),lv(i,e,r),[3,8];case 7:oh(),a.label=8;case 8:return[2]}}))}))}function Cv(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r,i,s,o,a,u,c,l,h;return Object(Ho.d)(this,(function(d){switch(d.label){case 0:if(!(r=Iv(t)).$o)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(nh("SyncEngine","Adding an already active target "+o),[3,5]):[4,bm(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,mm(r.localStore,a)];case 3:return u=d.sent(),[4,Jy(r,Sv(a),u.targetId,!1)];case 4:d.sent(),uy(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,ym(r.localStore,t,!1).then((function(){cy(r.remoteStore,t),lv(r,t)})).catch(Fg)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Iv(t){var e=uh(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iv.bind(null,e),e.vo._r=Vy.bind(null,e.eventManager),e.vo.Mo=qy.bind(null,e.eventManager),e}function xv(t){var e=uh(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ov.bind(null,e),e}var kv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return this.R=Xm(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return cm(this.persistence,new am,t.initialUser,this.R)},t.prototype.qo=function(t){return new jm(Nm.bs,this.R)},t.prototype.Bo=function(t){return new zm},t.prototype.terminate=function(){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Av=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ho.c)(e,t),e.prototype.initialize=function(e){return Object(Ho.b)(this,void 0,void 0,(function(){var n=this;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,wm(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,xv(this.Qo.syncEngine)];case 4:return r.sent(),[4,wy(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return cm(this.persistence,new am,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Vg(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=rm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Tg.withCacheSize(this.cacheSizeBytes):Tg.DEFAULT;return new tm(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ym(),Zm(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new zm},e}(kv),jv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ho.c)(e,t),e.prototype.initialize=function(e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Hm?(this.sharedClientState.syncEngine={ui:_v.bind(null,n),ai:Ov.bind(null,n),hi:Cv.bind(null,n),fn:Tv.bind(null,n),ci:bv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Object(Ho.b)(r,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return[4,wv(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Ym();if(!Hm.yt(e))throw new Jl(Xl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Hm(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Av),Pv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n=this;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return rv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=mv.bind(null,this.syncEngine),[4,xy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Fy},t.prototype.createDatastore=function(t){var e=Xm(t.databaseInfo.databaseId),n=new Qm(t.databaseInfo);return function(t,e,n){return new ry(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return rv(o.syncEngine,t,0)},s=Km.yt()?new Km:new Gm,new sy(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Zy(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return e=uh(t),nh("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,ay(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),Nv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Rv=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Hp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new zy(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t,e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t,e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Jl(Xl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i,s,o,a;return Object(Ho.d)(this,(function(u){switch(u.label){case 0:return n=uh(t),r=ep(n.R)+"/documents",i={documents:e.map((function(t){return Zf(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){ah(!!e.found);var n=Xf(t,e.found.name),r=Wf(e.found.updateTime),i=new Wh({mapValue:{fields:e.found.fields}});return Yh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ah(!!e.missing),ah(!!e.readTime);var n=Xf(t,e.missing),r=Wf(e.readTime);return Yh.newNoDocument(n,r)}(t,e):oh()}(n.R,t);o.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=o.get(t.toString());ah(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ff(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Rh.fromPath(n);e.mutations.push(new pf(r,e.precondition(r)))})),[4,function(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return n=uh(t),r=ep(n.R)+"/documents",i={writes:e.map((function(t){return sp(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw oh();e=gh.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Jl(Xl.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Zd.updateTime(e):Zd.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(gh.min()))throw new Jl(Xl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zd.updateTime(e)}return Zd.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Dv=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Jm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Object(Ho.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Ho.d)(this,(function(r){return t=new Rv(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!jh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!mf(e)}return!1},t}(),Lv=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Rm.UNAUTHENTICATED,this.clientId=lh.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Object(Ho.b)(r,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return nh("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Jl(Xl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Hp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Ho.b)(t,void 0,void 0,(function(){var t,n;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Py(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function Fv(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),nh("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Object(Ho.b)(i,void 0,void 0,(function(){return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,lm(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Mv(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Uv(t)];case 1:return n=i.sent(),nh("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return(n=uh(t)).asyncQueue.verifyOperationInProgress(),nh("RemoteStore","RemoteStore received new credentials"),r=py(n),n.Or.add(3),[4,ay(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,oy(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function Uv(t){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(nh("FirestoreClient","Using default OfflineComponentProvider"),[4,Fv(t,new kv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Vv(t){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(nh("FirestoreClient","Using default OnlineComponentProvider"),[4,Mv(t,new Pv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function qv(t){return Uv(t).then((function(t){return t.persistence}))}function Bv(t){return Uv(t).then((function(t){return t.localStore}))}function Hv(t){return Vv(t).then((function(t){return t.remoteStore}))}function zv(t){return Vv(t).then((function(t){return t.syncEngine}))}function Gv(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e,n;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return[4,Vv(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Xy.bind(null,e.syncEngine),n.onUnlisten=tv.bind(null,e.syncEngine),n)]}}))}))}function Kv(t,e,n){var r=this;void 0===n&&(n={});var i=new Hp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(r,void 0,void 0,(function(){var r;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Nv({next:function(s){e.enqueueAndForget((function(){return Uy(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Jl(Xl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Jl(Xl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Hy(bd(n.path),s,{includeMetadataChanges:!0,so:!0});return My(t,o)},[4,Gv(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function $v(t,e,n){var r=this;void 0===n&&(n={});var i=new Hp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(r,void 0,void 0,(function(){var r;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Nv({next:function(n){e.enqueueAndForget((function(){return Uy(t,o)})),n.fromCache&&"server"===r.source?i.reject(new Jl(Xl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Hy(n,s,{includeMetadataChanges:!0,so:!0});return My(t,o)},[4,Gv(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var Wv=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},Qv=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Yv=new Map,Zv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Xv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Rm.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Jv=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),tb=function(){function t(t){var e=this;this.currentUser=Rm.UNAUTHENTICATED,this.oc=new Hp,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){nh("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(nh("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(nh("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ah("string"==typeof n.accessToken),new Zv(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return Object(Ho.b)(n,void 0,void 0,(function(){return Object(Ho.d)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ah(null===t||"string"==typeof t),new Rm(t)},t}(),eb=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Rm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),nb=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new eb(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Rm.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function rb(t,e,n){if(!n)throw new Jl(Xl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ib(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function sb(t,e,n,r){if(!0===e&&!0===r)throw new Jl(Xl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ob(t){if(!Rh.isDocumentKey(t))throw new Jl(Xl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ab(t){if(Rh.isDocumentKey(t))throw new Jl(Xl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ub(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":oh()}function cb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Jl(Xl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ub(t);throw new Jl(Xl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function lb(t,e){if(e<=0)throw new Jl(Xl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var hb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Jl(Xl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Jl(Xl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),db=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hb({}),this._settingsFrozen=!1,t instanceof Qv?(this._databaseId=t,this._credentials=new Xv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Jl(Xl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qv(t.options.projectId)}(t),this._credentials=new tb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Jl(Xl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Jl(Xl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Xv;switch(t.type){case"gapi":var e=t.client;return ah(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new nb(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Jl(Xl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Yv.get(this))&&(nh("ComponentProvider","Removing Datastore"),Yv.delete(this),t.terminate()),Promise.resolve();var t},t}(),fb=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new gb(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),pb=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),gb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,bd(r))||this)._path=r,i.type="collection",i}return Object(Ho.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new fb(this.firestore,null,new Rh(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(pb);function mb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(zo.i)(t),rb("collection","path",e),t instanceof db)return ab(n=_h.fromString.apply(_h,Object(Ho.f)([e],r))),new gb(t,null,n);if(!(t instanceof fb||t instanceof gb))throw new Jl(Xl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ab(n=_h.fromString.apply(_h,Object(Ho.f)([t.path],r)).child(_h.fromString(e))),new gb(t.firestore,null,n)}function yb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(zo.i)(t),1===arguments.length&&(e=lh.u()),rb("doc","path",e),t instanceof db)return ob(n=_h.fromString.apply(_h,Object(Ho.f)([e],r))),new fb(t,null,new Rh(n));if(!(t instanceof fb||t instanceof gb))throw new Jl(Xl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ob(n=t._path.child(_h.fromString.apply(_h,Object(Ho.f)([e],r)))),new fb(t.firestore,t instanceof gb?t.converter:null,new Rh(n))}function vb(t,e){return t=Object(zo.i)(t),e=Object(zo.i)(e),(t instanceof fb||t instanceof gb)&&(e instanceof fb||e instanceof gb)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function bb(t,e){return t=Object(zo.i)(t),e=Object(zo.i)(e),t instanceof pb&&e instanceof pb&&t.firestore===e.firestore&&xd(t._query,e._query)&&t.converter===e.converter}var _b=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Jm(this,"async_queue_retry"),this.Ic=function(){var e=Zm();e&&nh("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Zm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Zm();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Hp;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Qp(t=n.sent()))throw t;return nh("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,rh("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=jy.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&oh()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t;return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function wb(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Hp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Eb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new _b,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Ho.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Tb(this),this._firestoreClient.terminate()},e}(db);function Sb(t){return t._firestoreClient||Tb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Tb(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Wv(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Lv(t._credentials,t._queue,r)}function Ob(t,e,n){var r=this,i=new Hp;return t.asyncQueue.enqueue((function(){return Object(Ho.b)(r,void 0,void 0,(function(){var r;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Fv(t,n)];case 1:return s.sent(),[4,Mv(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Xl.FAILED_PRECONDITION||t.code===Xl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Cb(t){if(t._initialized||t._terminated)throw new Jl(Xl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ib=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Eh(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),xb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Th.fromBase64String(e))}catch(e){throw new Jl(Xl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Th.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),kb=function(t){this._methodName=t},Ab=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Jl(Xl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Jl(Xl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return hh(this._lat,t._lat)||hh(this._long,t._long)},t}(),jb=/^__.*__$/,Pb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new af(t,this.data,this.fieldMask,e,this.fieldTransforms):new of(t,this.data,e,this.fieldTransforms)},t}(),Nb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new af(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Rb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oh()}}var Db=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return e_(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Rb(this.Nc)&&jb.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Lb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Xm(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Db({Nc:t,methodName:e,qc:n,path:Eh.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Fb(t){var e=t._freezeSettings(),n=Xm(t._databaseId);return new Lb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Mb(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Uc(s.merge||s.mergeFields?2:0,e,n,i);Zb("Data must be an object, but it was:",o,r);var a,u,c=Qb(r,o);if(s.merge)a=new Sh(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=Xb(e,d[h],n);if(!o.contains(f))throw new Jl(Xl.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");n_(l,f)||l.push(f)}a=new Sh(l),u=o.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=o.fieldTransforms;return new Pb(new Wh(c),a,u)}var Ub=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ho.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(kb);function Vb(t,e,n){return new Db({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ho.c)(e,t),e.prototype._toFieldTransform=function(t){return new Qd(t.path,new qd)},e.prototype.isEqual=function(t){return t instanceof e},e}(kb),Bb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ho.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Vb(this,t,!0),n=this.Kc.map((function(t){return Wb(t,e)})),r=new Bd(n);return new Qd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(kb),Hb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Ho.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Vb(this,t,!0),n=this.Kc.map((function(t){return Wb(t,e)})),r=new zd(n);return new Qd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(kb),zb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(Ho.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Kd(t.R,Ld(t.R,this.Qc));return new Qd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(kb);function Gb(t,e,n,r){var i=t.Uc(1,e,n);Zb("Data must be an object, but it was:",i,r);var s=[],o=Wh.empty();yh(r,(function(t,r){var a=t_(e,t,n);r=Object(zo.i)(r);var u=i.Oc(a);if(r instanceof Ub)s.push(a);else{var c=Wb(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new Sh(s);return new Nb(o,a,i.fieldTransforms)}function Kb(t,e,n,r,i,s){var o=t.Uc(1,e,n),a=[Xb(e,r,n)],u=[i];if(s.length%2!=0)throw new Jl(Xl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Xb(e,s[c])),u.push(s[c+1]);for(var l=[],h=Wh.empty(),d=a.length-1;d>=0;--d)if(!n_(l,a[d])){var f=a[d],p=u[d];p=Object(zo.i)(p);var g=o.Oc(f);if(p instanceof Ub)l.push(f);else{var m=Wb(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new Sh(l);return new Nb(h,y,o.fieldTransforms)}function $b(t,e,n,r){return void 0===r&&(r=!1),Wb(n,t.Uc(r?4:3,e))}function Wb(t,e){if(Yb(t=Object(zo.i)(t)))return Zb("Unsupported field value:",e,t),Qb(t,e);if(t instanceof kb)return function(t,e){if(!Rb(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Wb(s[i],e.Mc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(zo.i)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ld(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ph.fromDate(t);return{timestampValue:Gf(e.R,n)}}if(t instanceof ph)return n=new ph(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Gf(e.R,n)};if(t instanceof Ab)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof xb)return{bytesValue:Kf(e.R,t._byteString)};if(t instanceof fb){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Qf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+ub(t))}(t,e)}function Qb(t,e){var n={};return vh(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yh(t,(function(t,r){var i=Wb(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Yb(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ph||t instanceof Ab||t instanceof xb||t instanceof fb||t instanceof kb)}function Zb(t,e,n){if(!Yb(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ub(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Xb(t,e,n){if((e=Object(zo.i)(e))instanceof Ib)return e._internalPath;if("string"==typeof e)return t_(t,e);throw e_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Jb=new RegExp("[~\\*/\\[\\]]");function t_(t,e,n){if(e.search(Jb)>=0)throw e_("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ib.bind.apply(Ib,Object(Ho.f)([void 0],e.split(".")))))._internalPath}catch(nw){throw e_("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function e_(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Jl(Xl.INVALID_ARGUMENT,(a+=". ")+t+u)}function n_(t,e){return t.some((function(t){return t.isEqual(e)}))}var r_=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new fb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new i_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(s_("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),i_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ho.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(r_);function s_(t,e){return"string"==typeof e?t_(t,e):e instanceof Ib?e._internalPath:e._delegate._internalPath}var o_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),a_=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Ho.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new u_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(s_("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(r_),u_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ho.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(a_),c_=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new o_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new u_(n._firestore,n._userDataWriter,r.key,r,new o_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Jl(Xl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new u_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new o_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new u_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new o_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:l_(e.type),doc:n,oldIndex:i,newIndex:s}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function l_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oh()}}function h_(t,e){return t instanceof a_&&e instanceof a_?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof c_&&e instanceof c_&&t._firestore===e._firestore&&bb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function d_(t){if(wd(t)&&0===t.explicitOrderBy.length)throw new Jl(Xl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var f_=function(){};function p_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var g_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(Ho.c)(e,t),e.prototype._apply=function(t){var e=Fb(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){E_(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(w_(r,t,l[c]));a={arrayValue:{values:u}}}else a=w_(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||E_(o,s),a=$b(n,"where",o,"in"===s||"not-in"===s);var h=nd.create(i,s,a);return function(t,e){if(e.g()){var n=Sd(t);if(null!==n&&!n.isEqual(e.field))throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ed(t);null!==r&&S_(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Jl(Xl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new pb(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(f_),m_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(Ho.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fd(e,n);return function(t,e){if(null===Ed(t)){var n=Sd(t);null!==n&&S_(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new pb(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new yd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(f_),y_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Ho.c)(e,t),e.prototype._apply=function(t){return new pb(t.firestore,t.converter,Id(t._query,this.Hc,this.Jc))},e}(f_),v_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(Ho.c)(e,t),e.prototype._apply=function(t){var e=__(t,this.type,this.Yc,this.Xc);return new pb(t.firestore,t.converter,function(t,e){return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(f_),b_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(Ho.c)(e,t),e.prototype._apply=function(t){var e=__(t,this.type,this.Yc,this.Xc);return new pb(t.firestore,t.converter,function(t,e){return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(f_);function __(t,e,n,r){if(n[0]=Object(zo.i)(n[0]),n[0]instanceof r_)return function(t,e,n,r,i){if(!r)throw new Jl(Xl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Od(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(qh(e,r.key));else{var c=r.data.field(u.field);if(kh(c))throw new Jl(Xl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new hd(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Fb(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Jl(Xl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Td(t)&&-1!==c.indexOf("/"))throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(_h.fromString(c));if(!Rh.isDocumentKey(l))throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Rh(l);a.push(qh(e,h))}else{var d=$b(n,r,c);a.push(d)}}return new hd(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function w_(t,e,n){if("string"==typeof(n=Object(zo.i)(n))){if(""===n)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Td(e)&&-1!==n.indexOf("/"))throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(_h.fromString(n));if(!Rh.isDocumentKey(r))throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return qh(t,new Rh(r))}if(n instanceof fb)return qh(t,n._key);throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ub(n)+".")}function E_(t,e){if(!Array.isArray(t)||0===t.length)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function S_(t,e,n){if(!n.isEqual(e))throw new Jl(Xl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var T_=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Dh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ih(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw oh()}},t.prototype.convertObject=function(t,e){var n=this,r={};return yh(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Ab(Ih(t.latitude),Ih(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return kh(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ah(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ch(t);return new ph(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=_h.fromString(t);ah(bp(n));var r=new Qv(n.get(1),n.get(3)),i=new Rh(n.popFirst(5));return r.isEqual(e)||rh("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function O_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var C_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ho.c)(e,t),e.prototype.convertBytes=function(t){return new xb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new fb(this.firestore,null,e)},e}(T_),I_=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Fb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=x_(t,this._firestore),i=O_(r.converter,e,n),s=Mb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Zd.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=x_(t,this._firestore);return s="string"==typeof(e=Object(zo.i)(e))||e instanceof Ib?Kb(this._dataReader,"WriteBatch.update",o._key,e,n,r):Gb(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Zd.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=x_(t,this._firestore);return this._mutations=this._mutations.concat(new ff(e._key,Zd.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Jl(Xl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function x_(t,e){if((t=Object(zo.i)(t)).firestore!==e)throw new Jl(Xl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var k_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ho.c)(e,t),e.prototype.convertBytes=function(t){return new xb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new fb(this.firestore,null,e)},e}(T_);function A_(t,e,n){t=cb(t,fb);var r=cb(t.firestore,Eb),i=O_(t.converter,e,n);return N_(r,[Mb(Fb(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Zd.none())])}function j_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=cb(t,fb);var s=cb(t.firestore,Eb),o=Fb(s);return N_(s,[("string"==typeof(e=Object(zo.i)(e))||e instanceof Ib?Kb(o,"updateDoc",t._key,e,n,r):Gb(o,"updateDoc",t._key,e)).toMutation(t._key,Zd.exists(!0))])}function P_(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(zo.i)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||wb(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(wb(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof fb)c=cb(t.firestore,Eb),l=bd(t._key.path),u={next:function(e){i[a]&&i[a](R_(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=cb(t,pb);c=cb(f.firestore,Eb),l=f._query;var p=new k_(c);u={next:function(t){i[a]&&i[a](new c_(c,p,f,t))},error:i[a+1],complete:i[a+2]},d_(t._query)}return function(t,e,n,r){var i=this,s=new Nv(r),o=new Hy(e,s,n);return t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(i,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return e=My,[4,Gv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))})),function(){s.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(i,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return e=Uy,[4,Gv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}}))}))}))}}(Sb(c),l,h,u)}function N_(t,e){return function(t,e){var n=this,r=new Hp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(n,void 0,void 0,(function(){var n;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return n=ev,[4,zv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Sb(t),e)}function R_(t,e,n){var r=n.docs.get(e._key),i=new k_(t);return new a_(t,i,e._key,r,new o_(n.hasPendingWrites,n.fromCache),e.converter)}var D_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Ho.c)(e,t),e.prototype.get=function(e){var n=this,r=x_(e,this._firestore),i=new k_(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new a_(n._firestore,i,r._key,t._document,new o_(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Fb(t)}return t.prototype.get=function(t){var e=this,n=x_(t,this._firestore),r=new C_(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return oh();var i=t[0];if(i.isFoundDocument())return new r_(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new r_(e._firestore,r,n._key,null,n.converter);throw oh()}))},t.prototype.set=function(t,e,n){var r=x_(t,this._firestore),i=O_(r.converter,e,n),s=Mb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=x_(t,this._firestore);return s="string"==typeof(e=Object(zo.i)(e))||e instanceof Ib?Kb(this._dataReader,"Transaction.update",o._key,e,n,r):Gb(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=x_(t,this._firestore);return this._transaction.delete(e._key),this},t}());function L_(){if("undefined"==typeof Uint8Array)throw new Jl(Xl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function F_(){if("undefined"==typeof atob)throw new Jl(Xl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var M_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return F_(),new t(xb.fromBase64String(e))},t.fromUint8Array=function(e){return L_(),new t(xb.fromUint8Array(e))},t.prototype.toBase64=function(){return F_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return L_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),U_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Cb(t=cb(t,Eb));var n=Sb(t),r=t._freezeSettings(),i=new Pv;return Ob(n,i,new Av(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Cb(t=cb(t,Eb));var e=Sb(t),n=t._freezeSettings(),r=new Pv;return Ob(e,r,new jv(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Jl(Xl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Hp;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(Ho.b)(e,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ho.b)(this,void 0,void 0,(function(){return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return Kp.yt()?[4,Kp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(rm(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),V_=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Qv||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||ih("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var s=(t=cb(t,db))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&ih("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Rm.MOCK_USER;else{o=Object(zo.e)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Jl(Xl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Rm(u)}t._credentials=new Jv(new Zv(o,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Ho.b)(e,void 0,void 0,(function(){var e,n;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return[4,qv(t)];case 1:return e=r.sent(),[4,Hv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=uh(t);return e.Or.delete(0),oy(e)}(n))]}}))}))}))}(Sb(cb(this._delegate,Eb)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(Ho.b)(e,void 0,void 0,(function(){var e,n;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return[4,qv(t)];case 1:return e=r.sent(),[4,Hv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return(e=uh(t)).Or.add(0),[4,ay(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Sb(cb(this._delegate,Eb)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&sb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Hp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(e,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return e=av,[4,zv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Sb(cb(this._delegate,Eb)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Nv(e);return t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(n,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){uh(t).Gr.add(e),e.next()},[4,Gv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(n,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){uh(t).Gr.delete(e)},[4,Gv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Sb(t=cb(t,Eb)),wb(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Jl(Xl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new tw(this,mb(this._delegate,t))}catch(t){throw K_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new G_(this,yb(this._delegate,t))}catch(t){throw K_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Z_(this,function(t,e){if(t=cb(t,db),rb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new pb(t,null,function(t){return new yd(_h.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw K_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Hp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(n,void 0,void 0,(function(){var n;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Vv(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Dv(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Sb(t),(function(n){return e(new D_(t,n))}))}(this._delegate,(function(n){return t(new B_(e,n))}))},t.prototype.batch=function(){var t=this;return Sb(this._delegate),new H_(new I_(this._delegate,(function(e){return N_(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Jl(Xl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Jl(Xl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),q_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ho.c)(e,t),e.prototype.convertBytes=function(t){return new M_(new xb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return G_.eu(e,this.firestore,null)},e}(T_),B_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new q_(t)}return t.prototype.get=function(t){var e=this,n=ew(t);return this._delegate.get(n).then((function(t){return new Q_(e._firestore,new a_(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=ew(t);return n?(ib("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=ew(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Ho.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=ew(t);return this._delegate.delete(e),this},t}(),H_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=ew(t);return n?(ib("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=ew(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Ho.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=ew(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),z_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new u_(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Y_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new q_(e),n),i.set(n,s)),s},t}();z_.su=new WeakMap;var G_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new q_(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Jl(Xl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new fb(n._delegate,r,new Rh(e)))},t.eu=function(e,n,r){return new t(n,new fb(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new tw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new tw(this.firestore,mb(this._delegate,t))}catch(t){throw K_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(zo.i)(t))instanceof fb&&vb(this._delegate,t)},t.prototype.set=function(t,e){e=ib("DocumentReference.set",e);try{return e?A_(this._delegate,t,e):A_(this._delegate,t)}catch(t){throw K_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?j_(this._delegate,t):j_.apply(void 0,Object(Ho.f)([this._delegate,t,e],n))}catch(t){throw K_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return N_(cb((t=this._delegate).firestore,Eb),[new ff(t._key,Zd.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$_(e),i=W_(e,(function(e){return new Q_(t.firestore,new a_(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return P_(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cb(t,fb);var e=cb(t.firestore,Eb),n=Sb(e),r=new k_(e);return function(t,e){var n=this,r=new Hp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(n,void 0,void 0,(function(){var n;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r,i;return Object(Ho.d)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=uh(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Jl(Xl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Py(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Bv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new a_(e,r,t._key,n,new o_(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cb(t,fb);var e=cb(t.firestore,Eb);return Kv(Sb(e),t._key,{source:"server"}).then((function(n){return R_(e,t,n)}))}(this._delegate):function(t){t=cb(t,fb);var e=cb(t.firestore,Eb);return Kv(Sb(e),t._key).then((function(n){return R_(e,t,n)}))}(this._delegate)).then((function(t){return new Q_(e.firestore,new a_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?z_.nu(this.firestore,e):null))},t}();function K_(t,e,n){return t.message=t.message.replace(e,n),t}function $_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!wb(r))return r}return{}}function W_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=wb(t[0])?t[0]:wb(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Q_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new G_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return h_(this._delegate,t._delegate)},t}(),Y_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ho.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Q_),Z_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new q_(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,p_(this._delegate,function(t,e,n){var r=e,i=s_("where",t);return new g_(i,r,n)}(e,n,r)))}catch(e){throw K_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,p_(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=s_("orderBy",t);return new m_(r,n)}(e,n)))}catch(e){throw K_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,p_(this._delegate,function(t){return lb("limit",t),new y_("limit",t,"F")}(e)))}catch(e){throw K_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,p_(this._delegate,function(t){return lb("limitToLast",t),new y_("limitToLast",t,"L")}(e)))}catch(e){throw K_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,p_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new v_("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw K_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,p_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new v_("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw K_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,p_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new b_("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw K_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,p_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new b_("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw K_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return bb(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=cb(t,pb);var e=cb(t.firestore,Eb),n=Sb(e),r=new k_(e);return function(t,e){var n=this,r=new Hp;return t.asyncQueue.enqueueAndForget((function(){return Object(Ho.b)(n,void 0,void 0,(function(){var n;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ho.b)(this,void 0,void 0,(function(){var r,i,s,o,a;return Object(Ho.d)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,vm(t,e,!0)];case 1:return a=u.sent(),r=new Wy(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Py(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,Bv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new c_(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=cb(t,pb);var e=cb(t.firestore,Eb),n=Sb(e),r=new k_(e);return $v(n,t._query,{source:"server"}).then((function(n){return new c_(e,r,t,n)}))}(this._delegate):function(t){t=cb(t,pb);var e=cb(t.firestore,Eb),n=Sb(e),r=new k_(e);return d_(t._query),$v(n,t._query).then((function(n){return new c_(e,r,t,n)}))}(this._delegate)).then((function(t){return new J_(e.firestore,new c_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=$_(e),i=W_(e,(function(e){return new J_(t.firestore,new c_(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return P_(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?z_.nu(this.firestore,e):null))},t}(),X_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Y_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),J_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Z_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Y_(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new X_(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Y_(n._firestore,r))}))},t.prototype.isEqual=function(t){return h_(this._delegate,t._delegate)},t}(),tw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Ho.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new G_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new G_(this.firestore,void 0===t?yb(this._delegate):yb(this._delegate,t))}catch(t){throw K_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=cb(t.firestore,Eb),r=yb(t),i=O_(t.converter,e);return N_(n,[Mb(Fb(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Zd.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new G_(e.firestore,t)}))},e.prototype.isEqual=function(t){return vb(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?z_.nu(this.firestore,t):null))},e}(Z_);function ew(t){return cb(t,fb)}var nw,rw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ib.bind.apply(Ib,Object(Ho.f)([void 0],t)))}return t.documentId=function(){return new t(Eh.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(zo.i)(t))instanceof Ib&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),iw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new qb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Ub("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bb("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hb("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new zb("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),sw=n("/6Yf"),ow={Firestore:V_,GeoPoint:Ab,Timestamp:ph,Blob:M_,Transaction:B_,WriteBatch:H_,DocumentReference:G_,DocumentSnapshot:Q_,Query:Z_,QueryDocumentSnapshot:Y_,QuerySnapshot:J_,CollectionReference:tw,FieldPath:rw,FieldValue:iw,setLogLevel:function(t){th.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new sw.a("firestore",(function(t){return function(t,e){return new V_(t,new Eb(t,e),new U_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},ow)))})(nw=Bo.a),nw.registerVersion("@firebase/firestore","2.4.1"),n("VRyK");var aw=n("qgXg"),uw=n("Ylt2");class cw extends Vn.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new lw(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new qn.a;if(this.isStopped||this.hasError?s=qr.a.EMPTY:(this.observers.push(t),s=new uw.a(this,t)),r&&t.add(t=new Uo.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||aw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class lw{constructor(t,e){this.time=t,this.value=e}}function hw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){o++,i&&!a||(a=!1,i=new cw(t,e,r),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}n("tf+s");const dw=new r.q("angularfire2.auth.use-emulator");function fw(t,e){return function(t,e=No.a){return new Hn.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function pw(t,e){return fw(t,e).pipe(Object(er.a)(t=>({payload:t,type:"query"})))}function gw(t,e){return pw(t,e).pipe(Lr(void 0),Ro(),Object(er.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function mw(t,e,n){return gw(t,n).pipe(Fr((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return yw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return yw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Fo(void 0,void 0)),Object(er.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function yw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function vw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class bw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=gw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(er.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Lr(void 0),Ro(),sr(([t,e])=>e.length>0||!t),Object(er.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Fr((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vw(t);return mw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return pw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(er.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Un.a)(this.query.get(t)).pipe(Object(Uo.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new _w(this.ref.doc(t),this.afs)}}class _w{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Cw(n,e);return new bw(r,i,this.afs)}snapshotChanges(){return fw(this.ref,this.afs.schedulers.outsideAngular).pipe(Lr(void 0),Ro(),Object(er.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(er.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Un.a)(this.ref.get(t)).pipe(Object(Uo.b)(this.afs.schedulers.insideAngular))}}class ww{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?gw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(er.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),sr(t=>t.length>0),this.afs.keepUnstableUntilFirst):gw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Fr((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=vw(t);return mw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return pw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(er.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Un.a)(this.query.get(t)).pipe(Object(Uo.b)(this.afs.schedulers.insideAngular))}}const Ew=new r.q("angularfire2.enableFirestorePersistence"),Sw=new r.q("angularfire2.firestore.persistenceSettings"),Tw=new r.q("angularfire2.firestore.settings"),Ow=new r.q("angularfire2.firestore.use-emulator");function Cw(t,e=(t=>t)){return{query:e(t),ref:t}}let Iw=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Vo.d(s),this.keepUnstableUntilFirst=Object(Vo.h)(this.schedulers);const c=Object(Vo.g)(t,s,e);!qo.a.auth&&u&&Object(Vo.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Vo.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(Un.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(nw){return"undefined"!=typeof console&&console.warn(nw),Object(Mn.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Mn.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Cw(n,e),s=this.schedulers.ngZone.run(()=>r);return new bw(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ww(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new _w(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Vo.c),r.Tb(Vo.b,8),r.Tb(Ew,8),r.Tb(Tw,8),r.Tb(r.B),r.Tb(r.z),r.Tb(Sw,8),r.Tb(Ow,8),r.Tb(dw,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(Vo.c),Object(r.Tb)(Vo.b,8),Object(r.Tb)(Ew,8),Object(r.Tb)(Tw,8),Object(r.Tb)(r.B),Object(r.Tb)(r.z),Object(r.Tb)(Sw,8),Object(r.Tb)(Ow,8),Object(r.Tb)(dw,8))},token:t,providedIn:"any"}),t})(),xw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Ew,useValue:!0},{provide:Sw,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Iw]}),t})();const kw=["*"];let Aw=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-divider"]],ngContentSelectors:kw,decls:5,vars:0,consts:[[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"]],template:function(t,e){1&t&&(r.dc(),r.Pb(0,"section",0),r.Lb(1,"div",1),r.Pb(2,"div",2),r.cc(3),r.Ob(),r.Lb(4,"div",1),r.Ob())},styles:[""]}),t})(),jw=(()=>{class t{constructor(){this.styleType="comp",this.styleIndependent=""}ngOnInit(){this.styleIndependent="comp"===this.styleType?"height: 300px;":"height: 3.9em;"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-loading"]],inputs:{styleType:"styleType"},decls:5,vars:2,consts:[[1,"container"],[1,"d-flex","justify-content-center","align-items-center","h-100"],["role","status",1,"spinner-border","text-custom"],[1,"sr-only"]],template:function(t,e){1&t&&(r.Pb(0,"section",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"span",3),r.qc(4,"Loading..."),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&r.nc(e.styleIndependent)},styles:[""]}),t})();function Pw(t){return!!t&&(t instanceof Hn.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var Nw=n("XoHu");function Rw(...t){if(1===t.length){const e=t[0];if(Object(Kn.a)(e))return Dw(e,null);if(Object(Nw.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Dw(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Dw(t=1===t.length&&Object(Kn.a)(t[0])?t[0]:t,null).pipe(Object(er.a)(t=>e(...t)))}return Dw(t,null)}function Dw(t,e){return new Hn.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(Un.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Lw{}let Fw=(()=>{class t extends Lw{getTranslation(t){return Object(Mn.a)({})}}return t.\u0275fac=function(e){return Mw(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Mw=r.Rb(Fw);class Uw{}let Vw=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function qw(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,r,i,s=typeof t;if(s==typeof e&&"object"==s){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(r in i=Object.create(null),t){if(!qw(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&void 0!==e[r])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(r=0;r<n;r++)if(!qw(t[r],e[r]))return!1;return!0}}return!1}function Bw(t){return null!=t}function Hw(t){return t&&"object"==typeof t&&!Array.isArray(t)}class zw{}let Gw=(()=>{class t extends zw{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!Bw(t)||!Bw(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let r=this.getValue(e,n);return Bw(r)?r:t}):t}}return t.\u0275fac=function(e){return Kw(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Kw=r.Rb(Gw);class $w{}let Ww=(()=>{class t extends $w{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(e){return Qw(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Qw=r.Rb(Ww);class Yw{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new r.n,this.onLangChange=new r.n,this.onDefaultLangChange=new r.n}}const Zw=new r.q("USE_STORE"),Xw=new r.q("USE_DEFAULT_LANG"),Jw=new r.q("DEFAULT_LANGUAGE"),tE=new r.q("USE_EXTEND");let eE=(()=>{class t{constructor(t,e,n,i,s,o=!0,a=!1,u=!1,c){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=i,this.missingTranslationHandler=s,this.useDefaultLang=o,this.isolate=a,this.extend=u,this.pending=!1,this._onTranslationChange=new r.n,this._onLangChange=new r.n,this._onDefaultLangChange=new r.n,this._langs=[],this._translations={},this._translationRequests={},c&&this.setDefaultLang(c)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(Tr(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return Object(Mn.a)(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(Tr(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),Object(Mn.a)(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(hw(1),Tr(1));return this.loadingTranslations=e.pipe(Object(er.a)(e=>this.compiler.compileTranslations(e,t)),hw(1),Tr(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},e),this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?function t(e,n){let r=Object.assign({},e);return Hw(e)&&Hw(n)&&Object.keys(n).forEach(i=>{Hw(n[i])?i in e?r[i]=t(e[i],n[i]):Object.assign(r,{[i]:n[i]}):Object.assign(r,{[i]:n[i]})}),r}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let r;if(e instanceof Array){let r={},i=!1;for(let s of e)r[s]=this.getParsedResult(t,s,n),Pw(r[s])&&(i=!0);return i?Rw(e.map(t=>Pw(r[t])?r[t]:Object(Mn.a)(r[t]))).pipe(Object(er.a)(t=>{let n={};return t.forEach((t,r)=>{n[e[r]]=t}),n})):r}if(t&&(r=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===r&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===r){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),r=this.missingTranslationHandler.handle(t)}return void 0!==r?r:e}get(t,e){if(!Bw(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Vr(n=>Pw(n=this.getParsedResult(n,t,e))?n:Object(Mn.a)(n)));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return Pw(n)?n:Object(Mn.a)(n)}}getStreamOnTranslationChange(t,e){if(!Bw(t)||!t.length)throw new Error('Parameter "key" required');return Dr(tr(()=>this.get(t,e)),this.onTranslationChange.pipe(Pr(n=>{const r=this.getParsedResult(n.translations,t,e);return"function"==typeof r.subscribe?r:Object(Mn.a)(r)})))}stream(t,e){if(!Bw(t)||!t.length)throw new Error('Parameter "key" required');return Dr(tr(()=>this.get(t,e)),this.onLangChange.pipe(Pr(n=>{const r=this.getParsedResult(n.translations,t,e);return Pw(r)?r:Object(Mn.a)(r)})))}instant(t,e){if(!Bw(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(Pw(n)){if(t instanceof Array){let e={};return t.forEach((n,r)=>{e[t[r]]=t[r]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Yw),r.Tb(Lw),r.Tb($w),r.Tb(zw),r.Tb(Uw),r.Tb(Xw),r.Tb(Zw),r.Tb(tE),r.Tb(Jw))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),nE=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let r=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let i=this.translate.getParsedResult(n,t,e);Pw(i.subscribe)?i.subscribe(r):r(i)}this.translate.get(t,e).subscribe(r)}transform(t,...e){if(!t||!t.length)return t;if(qw(t,this.lastKey)&&qw(e,this.lastParams))return this.value;let n;if(Bw(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(nw){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+e[0])}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(eE),r.Vb())},t.\u0275pipe=r.Jb({name:"translate",type:t,pure:!1}),t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),rE=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:Lw,useClass:Fw},e.compiler||{provide:$w,useClass:Ww},e.parser||{provide:zw,useClass:Gw},e.missingTranslationHandler||{provide:Uw,useClass:Vw},Yw,{provide:Zw,useValue:e.isolate},{provide:Xw,useValue:e.useDefaultLang},{provide:tE,useValue:e.extend},{provide:Jw,useValue:e.defaultLanguage},eE]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:Lw,useClass:Fw},e.compiler||{provide:$w,useClass:Ww},e.parser||{provide:zw,useClass:Gw},e.missingTranslationHandler||{provide:Uw,useClass:Vw},{provide:Zw,useValue:e.isolate},{provide:Xw,useValue:e.useDefaultLang},{provide:tE,useValue:e.extend},{provide:Jw,useValue:e.defaultLanguage},eE]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),iE=(()=>{class t{constructor(){this.styleType="comp",this.styleIndependent=""}ngOnInit(){this.styleIndependent="comp"===this.styleType?"height: 300px;":"height: 3.9em;"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-alert"]],inputs:{styleType:"styleType"},decls:11,vars:8,consts:[[1,"container"],[1,"d-flex","justify-content-center","align-items-center","h-100"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","mb-0"],["type","button","data-dismiss","alert","aria-label","Close",1,"close"],["aria-hidden","true"]],template:function(t,e){1&t&&(r.Pb(0,"section",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"strong"),r.qc(4),r.Zb(5,"translate"),r.Ob(),r.qc(6),r.Zb(7,"translate"),r.Pb(8,"button",3),r.Pb(9,"span",4),r.qc(10,"\xd7"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.nc(e.styleIndependent),r.yb(4),r.rc(r.ac(5,4,"HOME.ALERT-ERROR.TITLE")),r.yb(2),r.sc(" ",r.ac(7,6,"HOME.ALERT-ERROR.MESSAGE")," "))},pipes:[nE],styles:[""]}),t})();function sE(t,e){1&t&&r.Lb(0,"app-loading")}function oE(t,e){1&t&&r.Lb(0,"app-alert")}const aE=[[["","body-section",""]]],uE=["[body-section]"];let cE=(()=>{class t{constructor(){this.titleSection="",this.iconSection="",this.loading=!0,this.error=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-base-content"]],inputs:{titleSection:"titleSection",iconSection:"iconSection",loading:"loading",error:"error"},ngContentSelectors:uE,decls:9,vars:8,consts:[[1,"container","pt-5","animated","fadeIn"],[1,"page-section-heading","text-center","text-uppercase","mb-0"],[4,"ngIf"]],template:function(t,e){1&t&&(r.dc(aE),r.Pb(0,"section",0),r.Pb(1,"h2",1),r.qc(2),r.Zb(3,"translate"),r.Ob(),r.Pb(4,"app-divider"),r.Lb(5,"i"),r.Ob(),r.pc(6,sE,1,0,"app-loading",2),r.pc(7,oE,1,0,"app-alert",2),r.cc(8),r.Ob()),2&t&&(r.yb(2),r.sc(" ",r.ac(3,6,e.titleSection)," "),r.yb(3),r.Bb(e.iconSection),r.yb(1),r.ec("ngIf",e.loading),r.yb(1),r.ec("ngIf",e.error))},directives:[Aw,R,jw,iE],pipes:[nE],styles:[".container[_ngcontent-%COMP%]{max-width:100vw!important;overflow-x:hidden!important}"]}),t})(),lE=(()=>{class t{transform(t,e,n){if(Array.isArray(t))return t.sort((t,r)=>{if(t[e]<r[e]){if("ASC"==n)return-1;if("DESC"==n)return 1}else{if(!(t[e]>r[e]))return 0;if("ASC"==n)return 1;if("DESC"==n)return-1}}),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Jb({name:"sort",type:t,pure:!0}),t})();function hE(t,e){if(1&t&&(r.Pb(0,"div",4),r.Pb(1,"div",5),r.Lb(2,"i"),r.Ob(),r.Pb(3,"div",6),r.Pb(4,"h5",7),r.qc(5),r.Zb(6,"translate"),r.Ob(),r.Pb(7,"p",8),r.qc(8),r.Zb(9,"translate"),r.Ob(),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.ec("@slideInRight",void 0),r.yb(2),r.Bb(t.icon),r.yb(3),r.sc(" ",r.ac(6,5,t.name),""),r.yb(3),r.sc(" ",r.ac(9,7,t.description)," ")}}function dE(t,e){if(1&t&&(r.Pb(0,"div",2),r.pc(1,hE,10,9,"div",3),r.Zb(2,"sort"),r.Ob()),2&t){const t=r.Yb();r.ec("@slideInRightList",void 0),r.yb(1),r.ec("ngForOf",r.bc(2,2,t.services,"name","ASC"))}}let fE=(()=>{class t{constructor(t){this.db=t,this.services=new Array,this.loading=!0,this.error=!1}ngOnInit(){this.services.length=0,this.db.collection("service").get().subscribe(t=>{t.docs.forEach(t=>{const e=t.data();e.id=t.id,this.services.push(e)}),this.loading=!1},t=>{this.error=!0,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Iw))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-activities"]],decls:2,vars:5,consts:[[3,"titleSection","iconSection","loading","error"],["class","row d-flex justify-content-center container-card","body-section","",4,"ngIf"],["body-section","",1,"row","d-flex","justify-content-center","container-card"],["class","card p-3","style","width: 18rem;",4,"ngFor","ngForOf"],[1,"card","p-3",2,"width","18rem"],[1,"card-header","text-center",2,"font-size","2em !important"],[1,"card-body"],[1,"card-title","text-center","subtitle-card"],[1,"card-text","text-justify","font-italic"]],template:function(t,e){1&t&&(r.Pb(0,"app-base-content",0),r.pc(1,dE,3,6,"div",1),r.Ob()),2&t&&(r.ec("titleSection","MENU.ITEM-SERVICES")("iconSection","fas fa-laptop-code")("loading",e.loading)("error",e.error),r.yb(1),r.ec("ngIf",!e.loading&&!e.error))},directives:[cE,R,P],pipes:[lE,nE],styles:[""],data:{animation:[jo,Po]}}),t})();const pE=yt("fadeInOut",[wt(":enter",[_t({opacity:0,transform:"translateY(50px)"}),vt("1.3s",_t({opacity:1,transform:"translateY(0)"}))]),wt(":leave",[vt("1.3s",_t({opacity:0,transform:"translateY(50px)"}))])]);class gE{static setHTMLContentTooltip(t){return`<i class="${t}"></i>  <i class="fas fa-external-link-alt ml-3"></i>`}static getLinksFooter(){return[{href:"https://api.whatsapp.com/send?phone=542616934658&text=Hi!",icon:"fab fa-whatsapp"},{href:"https://mail.google.com/mail/u/0/?view=cm&fs=1&tf=1&to=aldo.castillo.13@gmail.com&compose=Consulta&body=Hi!",icon:"far fa-envelope"},{href:"https://www.linkedin.com/in/dev-aac/",icon:"fab fa-fw fa-linkedin-in"},{href:"https://m.me/dev.aldo.adrian.castillo",icon:"fab fa-facebook-messenger"}]}static getSectionFooter(){return[{title:"FOOTER.COLUMN-THREE.LABEL",content:"FOOTER.COLUMN-THREE.DESCRIPTION"},{title:"FOOTER.COLUMN-SECOND.LABEL",custom:!0},{title:"FOOTER.COLUMN-ONE.LABEL",content:"Godoy Cruz, Mendoza, Argentina.",custom:!0}]}static getLinksMenu(){return[{title:"MENU.ITEM-SKILL",href:"skills",icon:"fas fa-list"},{title:"MENU.ITEM-PORTFOLIO",href:"portfolio",icon:"far fa-address-card"},{title:"MENU.ITEM-FEATS",href:"feats",icon:"fas fa-users"},{title:"MENU.ITEM-SERVICES",href:"services",icon:"fas fa-laptop-code"}]}static getLinks(t){let e="";switch(t){case"GB":e="https://github.com/eng-aac/";break;case"IN":e="https://www.linkedin.com/in/dev-aac/"}return e}static getUrlResume(){return`https://firebasestorage.googleapis.com/v0/b/${i.storageBucket}/o/resumes%2Faldo_castillo_developer.pdf?alt=media&token=5328334b-edeb-4f1b-8888-2f0701b8d280`}}function mE(t,e){if(1&t&&r.Lb(0,"img",5),2&t){const t=r.Yb();r.ec("src",t.entity.imgUrl,r.lc)}}function yE(t,e){if(1&t&&(r.Pb(0,"div",6),r.qc(1),r.Ob()),2&t){const t=r.Yb();r.yb(1),r.sc(" ",t.entity.name," ")}}function vE(t,e){if(1&t&&(r.Pb(0,"a",12),r.qc(1),r.Zb(2,"translate"),r.Lb(3,"i",13),r.Lb(4,"i",14),r.Ob()),2&t){const t=r.Yb(2);r.fc("href","",t.linkGB,"",t.entity.name,"",r.lc),r.yb(1),r.sc(" ",r.ac(2,3,"PORTFOLIO.BUTTON-GITHUB")," ")}}function bE(t,e){if(1&t&&(r.Pb(0,"section"),r.Pb(1,"h5",7),r.qc(2),r.Ob(),r.Lb(3,"hr",8),r.Pb(4,"h6",9),r.qc(5),r.Ob(),r.Lb(6,"hr",8),r.Pb(7,"p",10),r.qc(8),r.Zb(9,"translate"),r.Ob(),r.pc(10,vE,5,5,"a",11),r.Ob()),2&t){const t=r.Yb();r.yb(2),r.sc(" ",t.entity.name,""),r.yb(3),r.sc(" ",t.entity.year,""),r.yb(3),r.sc(" ",r.ac(9,4,t.entity.description)," "),r.yb(2),r.ec("ngIf",t.isButtonGB)}}function _E(t,e){1&t&&r.cc(0,0,["*ngIf","mode === 'sp'"])}const wE=["*"];let EE=(()=>{class t{constructor(){this.entity={},this.linkGB=gE.getLinks("GB")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-card"]],inputs:{entity:"entity",mode:"mode",isButtonGB:"isButtonGB"},ngContentSelectors:wE,decls:7,vars:6,consts:[[1,"card","p-3"],["width","100%","height","250px","class","card-img-top image-entity zoom-in","alt","entity-image",3,"src",4,"ngIf"],["class","text-center subtitle-card",4,"ngIf"],[1,"card-body"],[4,"ngIf"],["width","100%","height","250px","alt","entity-image",1,"card-img-top","image-entity","zoom-in",3,"src"],[1,"text-center","subtitle-card"],[1,"card-title","text-center","subtitle-card"],[1,"bg-light"],[1,"card-title","text-center"],[1,"card-text","text-justify","font-italic"],["class","btn btn-block btn-purple","target","_blank",3,"href",4,"ngIf"],["target","_blank",1,"btn","btn-block","btn-purple",3,"href"],[1,"fab","fa-github","ml-1"],[1,"fas","fa-external-link-alt","ml-3"]],template:function(t,e){1&t&&(r.dc(),r.Pb(0,"div",0),r.Pb(1,"picture"),r.pc(2,mE,1,1,"img",1),r.Ob(),r.pc(3,yE,2,1,"div",2),r.Pb(4,"div",3),r.pc(5,bE,11,6,"section",4),r.pc(6,_E,1,0,"ng-content",4),r.Ob(),r.Ob()),2&t&&(r.oc("width","sp"===e.mode?"18rem":"23rem"),r.yb(2),r.ec("ngIf","comp"===e.mode),r.yb(1),r.ec("ngIf","sp"===e.mode),r.yb(2),r.ec("ngIf","comp"===e.mode),r.yb(1),r.ec("ngIf","sp"===e.mode))},directives:[R],pipes:[nE],styles:[".zoom-in[_ngcontent-%COMP%]{transition:.3s ease-in-out}.zoom-in[_ngcontent-%COMP%]:hover{transform:scale(1.3);cursor:zoom-in}picture[_ngcontent-%COMP%]{overflow:hidden}"]}),t})();function SE(t,e){if(1&t&&r.Lb(0,"li"),2&t){const t=e.index,n=r.Yb();r.Cb("active",0===t),r.Ab("data-target","#",n.idCarousel,""),r.zb("data-slide-to",t)}}function TE(t,e){if(1&t&&(r.Pb(0,"div",10),r.Pb(1,"section",11),r.Lb(2,"app-card",12),r.Ob(),r.Ob()),2&t){const t=e.$implicit,n=e.index,i=r.Yb();r.Cb("active",0===n),r.yb(2),r.ec("entity",t)("mode",i.modeCard)("isButtonGB",i.isButtonGB)}}let OE=(()=>{class t{constructor(){this.arrayEntity=[],this.propOrderSort="",this.codeCarousel="",this.modeCard="comp",this.idCarousel=""}ngOnInit(){this.idCarousel="carouselIndicators"+this.codeCarousel}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-carousel"]],inputs:{arrayEntity:"arrayEntity",propOrderSort:"propOrderSort",codeCarousel:"codeCarousel",modeCard:"modeCard",isButtonGB:"isButtonGB"},decls:15,vars:13,consts:[["data-ride","carousel",1,"carousel","slide",3,"id"],[1,"carousel-indicators"],[3,"active",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item pt-3 pb-5",3,"active",4,"ngFor","ngForOf"],["type","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["type","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"carousel-item","pt-3","pb-5"],[1,"row","d-flex","justify-content-center","container-card"],[3,"entity","mode","isButtonGB"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"ol",1),r.pc(2,SE,1,4,"li",2),r.Zb(3,"sort"),r.Ob(),r.Pb(4,"div",3),r.pc(5,TE,3,5,"div",4),r.Zb(6,"sort"),r.Ob(),r.Pb(7,"button",5),r.Lb(8,"span",6),r.Pb(9,"span",7),r.qc(10,"Previous"),r.Ob(),r.Ob(),r.Pb(11,"button",8),r.Lb(12,"span",9),r.Pb(13,"span",7),r.qc(14,"Next"),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.ec("id",e.idCarousel),r.yb(2),r.ec("ngForOf",r.bc(3,5,e.arrayEntity,e.propOrderSort,"DESC")),r.yb(3),r.ec("ngForOf",r.bc(6,9,e.arrayEntity,e.propOrderSort,"DESC")),r.yb(2),r.Ab("data-target","#",e.idCarousel,""),r.yb(4),r.Ab("data-target","#",e.idCarousel,""))},directives:[P,EE],pipes:[lE],styles:[""]}),t})();function CE(t,e){if(1&t&&r.Lb(0,"app-carousel",2),2&t){const t=r.Yb();r.ec("arrayEntity",t.feats)("propOrderSort","year")("codeCarousel","feat")("@fadeInOut",void 0)}}let IE=(()=>{class t{constructor(t){this.db=t,this.feats=new Array,this.loading=!0,this.error=!1}ngOnInit(){this.feats.length=0,this.db.collection("feat").get().subscribe(t=>{t.docs.forEach(t=>{const e=t.data();e.id=t.id,this.feats.push(e)}),this.loading=!1},t=>{this.error=!0,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Iw))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-featuring"]],decls:2,vars:5,consts:[[3,"titleSection","iconSection","loading","error"],["body-section","",3,"arrayEntity","propOrderSort","codeCarousel",4,"ngIf"],["body-section","",3,"arrayEntity","propOrderSort","codeCarousel"]],template:function(t,e){1&t&&(r.Pb(0,"app-base-content",0),r.pc(1,CE,1,4,"app-carousel",1),r.Ob()),2&t&&(r.ec("titleSection","MENU.ITEM-FEATS")("iconSection","fas fa-users")("loading",e.loading)("error",e.error),r.yb(1),r.ec("ngIf",!e.loading&&!e.error))},directives:[cE,R,OE],styles:[""],data:{animation:[pE]}}),t})();function xE(t,e){if(1&t&&r.Lb(0,"app-carousel",2),2&t){const t=r.Yb();r.ec("arrayEntity",t.projects)("propOrderSort","year")("codeCarousel","project")("isButtonGB",!0)("@fadeInOut",void 0)}}let kE=(()=>{class t{constructor(t){this.db=t,this.projects=new Array,this.loading=!0,this.error=!1}ngOnInit(){this.projects.length=0,this.db.collection("project").get().subscribe(t=>{t.docs.forEach(t=>{const e=t.data();e.id=t.id,this.projects.push(e)}),this.loading=!1},t=>{this.error=!0,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Iw))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-portfolio"]],decls:2,vars:5,consts:[[3,"titleSection","iconSection","loading","error"],["body-section","",3,"arrayEntity","propOrderSort","codeCarousel","isButtonGB",4,"ngIf"],["body-section","",3,"arrayEntity","propOrderSort","codeCarousel","isButtonGB"]],template:function(t,e){1&t&&(r.Pb(0,"app-base-content",0),r.pc(1,xE,1,5,"app-carousel",1),r.Ob()),2&t&&(r.ec("titleSection","MENU.ITEM-PORTFOLIO")("iconSection","far fa-address-card")("loading",e.loading)("error",e.error),r.yb(1),r.ec("ngIf",!e.loading&&!e.error))},directives:[cE,R,OE],styles:[".image-project[_ngcontent-%COMP%]{height:150px;border-radius:10px}"],data:{animation:[pE]}}),t})();const AE="undefined"!=typeof window&&window||{};let jE;function PE(){return void 0===AE||(void 0===AE.__theme?(jE||(jE=function(){if("undefined"==typeof document)return null;const t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");const e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()),"bs3"===jE):"bs4"!==AE.__theme)}function NE(t,e){if(1&t&&(r.Pb(0,"bar",2),r.cc(1),r.Ob()),2&t){const t=r.Yb();r.ec("type",t.type)("value",t._value)("max",t._max)}}function RE(t,e){if(1&t&&(r.Pb(0,"bar",2),r.qc(1),r.Ob()),2&t){const t=e.$implicit;r.ec("type",t.type)("value",t.value)("max",t.max),r.yb(1),r.rc(t.label)}}function DE(t,e){if(1&t&&r.pc(0,RE,2,4,"bar",3),2&t){const t=r.Yb();r.ec("ngForOf",t._value)}}"undefined"==typeof console||console;const LE=["*"];let FE=(()=>{class t{constructor(){this.animate=!1,this.max=100}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ME=(()=>{class t{constructor(t){this.isStacked=!1,this._max=100,this.addClass=!0,this.bars=[],Object.assign(this,t)}set animate(t){this._animate=t,this.bars.forEach(e=>{e.animate=t})}set striped(t){this._striped=t,this.bars.forEach(e=>{e.striped=t})}set value(t){this.isStacked=Array.isArray(t),this._value=t}get isBs3(){return PE()}get max(){return this._max}set max(t){this._max=t,this.bars.forEach(t=>{t.recalculatePercentage()})}addBar(t){t.animate=this._animate,t.striped=this._striped,this.bars.push(t)}removeBar(t){this.bars.splice(this.bars.indexOf(t),1)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(FE))},t.\u0275cmp=r.Eb({type:t,selectors:[["progressbar"]],hostVars:3,hostBindings:function(t,e){2&t&&(r.zb("max",e.max),r.Cb("progress",e.addClass))},inputs:{animate:"animate",striped:"striped",value:"value",max:"max",type:"type"},ngContentSelectors:LE,decls:2,vars:2,consts:[[3,"type","value","max",4,"ngIf"],[3,"ngIf"],[3,"type","value","max"],[3,"type","value","max",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.dc(),r.pc(0,NE,2,3,"bar",0),r.pc(1,DE,1,1,"ng-template",1)),2&t&&(r.ec("ngIf",!e.isStacked),r.yb(1),r.ec("ngIf",e.isStacked))},directives:function(){return[R,UE,P]},styles:["[_nghost-%COMP%] {\n      width: 100%;\n      display: flex;\n    }"]}),t})(),UE=(()=>{class t{constructor(t,e,n){this.el=t,this.renderer=n,this.addClass=!0,this.percent=0,this.progress=e}get setBarWidth(){return this.recalculatePercentage(),this.percent}get isBs3(){return PE()}ngOnInit(){this.progress.addBar(this)}ngOnDestroy(){this.progress.removeBar(this)}ngOnChanges(t){if(t.value){if(!t.value.currentValue&&0!==t.value.currentValue)return;this.value=t.value.currentValue,this.recalculatePercentage()}t.type&&(this.type=t.type.currentValue,this.applyTypeClasses())}recalculatePercentage(){this.percent=+(this.value/this.progress.max*100).toFixed(2);const t=this.progress.bars.reduce((function(t,e){return t+e.percent}),0);t>100&&(this.percent-=t-100)}applyTypeClasses(){if(this._prevType){const t="bg-"+this._prevType;this.renderer.removeClass(this.el.nativeElement,"progress-bar-"+this._prevType),this.renderer.removeClass(this.el.nativeElement,t),this._prevType=null}if(this.type){const t="bg-"+this.type;this.renderer.addClass(this.el.nativeElement,"progress-bar-"+this.type),this.renderer.addClass(this.el.nativeElement,t),this._prevType=this.type}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(ME,1),r.Kb(r.D))},t.\u0275cmp=r.Eb({type:t,selectors:[["bar"]],hostAttrs:["role","progressbar","aria-valuemin","0"],hostVars:15,hostBindings:function(t,e){2&t&&(r.zb("aria-valuenow",e.value)("aria-valuetext",e.percent?e.percent.toFixed(0)+"%":"")("aria-valuemax",e.max),r.oc("height","100","%")("width",e.setBarWidth,"%"),r.Cb("progress-bar-animated",!e.isBs3&&e.animate)("progress-bar-striped",e.striped)("active",e.isBs3&&e.animate)("progress-bar",e.addClass))},inputs:{value:"value",type:"type",max:"max"},features:[r.wb],ngContentSelectors:LE,decls:1,vars:0,template:function(t,e){1&t&&(r.dc(),r.cc(0))},encapsulation:2}),t})(),VE=(()=>{class t{static forRoot(){return{ngModule:t,providers:[]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[F]]}),t})();function qE(t,e){if(1&t&&(r.Pb(0,"app-card",4),r.Pb(1,"div",5),r.Lb(2,"progressbar",6),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.ec("entity",t)("mode","sp")("@slideInRight",void 0),r.yb(2),r.ec("value",t.percentage)("striped",!0)("animate",!0)}}function BE(t,e){if(1&t&&(r.Pb(0,"div",2),r.pc(1,qE,3,6,"app-card",3),r.Zb(2,"sort"),r.Ob()),2&t){const t=r.Yb();r.ec("@slideInRightList",void 0),r.yb(1),r.ec("ngForOf",r.bc(2,2,t.skills,"name","ASC"))}}const HE=[{path:"portfolio",component:kE},{path:"feats",component:IE},{path:"services",component:fE},{path:"skills",component:(()=>{class t{constructor(t){this.db=t,this.skills=new Array,this.loading=!0,this.error=!1}ngOnInit(){this.skills.length=0,this.db.collection("skill").get().subscribe(t=>{t.docs.forEach(t=>{const e=t.data();e.id=t.id,this.skills.push(e)}),this.loading=!1},t=>{this.error=!0,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Iw))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-skills"]],decls:2,vars:5,consts:[[3,"titleSection","iconSection","loading","error"],["class","row d-flex justify-content-center container-card","body-section","",4,"ngIf"],["body-section","",1,"row","d-flex","justify-content-center","container-card"],[3,"entity","mode",4,"ngFor","ngForOf"],[3,"entity","mode"],[1,"d-flex","h-100","align-items-center"],["id","skillProgressbar","max","100","type","dark",3,"value","striped","animate"]],template:function(t,e){1&t&&(r.Pb(0,"app-base-content",0),r.pc(1,BE,3,6,"div",1),r.Ob()),2&t&&(r.ec("titleSection","MENU.ITEM-SKILL")("iconSection","fas fa-list")("loading",e.loading)("error",e.error),r.yb(1),r.ec("ngIf",!e.loading&&!e.error))},directives:[cE,R,P,EE,ME],pipes:[lE],styles:[""],data:{animation:[jo,Po]}}),t})()},{path:"**",pathMatch:"full",redirectTo:"portfolio"}];let zE=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Eo.forRoot(HE,{useHash:!0})],Eo]}),t})();class GE{}class KE{}class $E{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof $E?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new $E;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $E?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class WE{encodeKey(t){return QE(t)}encodeValue(t){return QE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function QE(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class YE{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new WE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new YE({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function ZE(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function XE(t){return"undefined"!=typeof Blob&&t instanceof Blob}function JE(t){return"undefined"!=typeof FormData&&t instanceof FormData}class tS{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new $E),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new YE,this.urlWithParams=e}serializeBody(){return null===this.body?null:ZE(this.body)||XE(this.body)||JE(this.body)||"string"==typeof this.body?this.body:this.body instanceof YE?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||JE(this.body)?null:XE(this.body)?this.body.type||null:ZE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof YE?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new tS(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var eS=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class nS{constructor(t,e=200,n="OK"){this.headers=t.headers||new $E,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class rS extends nS{constructor(t={}){super(t),this.type=eS.ResponseHeader}clone(t={}){return new rS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class iS extends nS{constructor(t={}){super(t),this.type=eS.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new iS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class sS extends nS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function oS(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let aS=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof tS)r=t;else{let i=void 0;i=n.headers instanceof $E?n.headers:new $E(n.headers);let s=void 0;n.params&&(s=n.params instanceof YE?n.params:new YE({fromObject:n.params})),r=new tS(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Mn.a)(r).pipe(Vr(t=>this.handler.handle(t)));if(t instanceof tS||"events"===n.observe)return i;const s=i.pipe(sr(t=>t instanceof iS));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(er.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(er.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(er.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(er.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new YE).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,oS(n,e))}post(t,e,n={}){return this.request("POST",t,oS(n,e))}put(t,e,n={}){return this.request("PUT",t,oS(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(GE))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class uS{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const cS=new r.q("HTTP_INTERCEPTORS");let lS=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const hS=/^\)\]\}',?\n/;class dS{}let fS=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),pS=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Hn.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new $E(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new rS({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(hS,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new iS({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new sS({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new sS({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:eS.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:eS.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:eS.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(dS))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const gS=new r.q("XSRF_COOKIE_NAME"),mS=new r.q("XSRF_HEADER_NAME");class yS{}let vS=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=k(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(r.B),r.Tb(gS))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),bS=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(yS),r.Tb(mS))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),_S=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(cS,[]);this.chain=t.reduceRight((t,e)=>new uS(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(KE),r.Tb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),wS=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:bS,useClass:lS}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:gS,useValue:e.cookieName}:[],e.headerName?{provide:mS,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[bS,{provide:cS,useExisting:bS,multi:!0},{provide:yS,useClass:vS},{provide:gS,useValue:"XSRF-TOKEN"},{provide:mS,useValue:"X-XSRF-TOKEN"}]}),t})(),ES=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[aS,{provide:GE,useClass:_S},pS,{provide:KE,useExisting:pS},fS,{provide:dS,useExisting:fS}],imports:[[wS.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const SS=new r.q("NgValueAccessor"),TS={provide:SS,useExisting:Object(r.T)(()=>OS),multi:!0};let OS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([TS])]}),t})();const CS={provide:SS,useExisting:Object(r.T)(()=>xS),multi:!0},IS=new r.q("CompositionEventMode");let xS=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(IS,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Wb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.xb([CS])]}),t})(),kS=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),AS=(()=>{class t extends kS{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return jS(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.vb]}),t})();const jS=r.Rb(AS);function PS(){throw new Error("unimplemented")}class NS extends kS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return PS()}get asyncValidator(){return PS()}}class RS{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let DS=(()=>{class t extends RS{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(NS,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),LS=(()=>{class t extends RS{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(AS,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();function FS(t){return null==t||0===t.length}function MS(t){return null!=t&&"number"==typeof t.length}const US=new r.q("NgValidators"),VS=new r.q("NgAsyncValidators"),qS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class BS{static min(t){return e=>{if(FS(e.value)||FS(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(FS(e.value)||FS(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return FS(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return FS(t.value)||qS.test(t.value)?null:{email:!0}}static minLength(t){return e=>FS(e.value)||!MS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>MS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return BS.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(FS(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(HS);return 0==e.length?null:function(t){return GS(KS(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(HS);return 0==e.length?null:function(t){return Rw(KS(t,e).map(zS)).pipe(Object(er.a)(GS))}}}function HS(t){return null!=t}function zS(t){const e=Object(r.qb)(t)?Object(Un.a)(t):t;if(!Object(r.pb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function GS(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function KS(t,e){return e.map(e=>e(t))}function $S(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const WS={provide:SS,useExisting:Object(r.T)(()=>QS),multi:!0};let QS=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([WS])]}),t})();const YS={provide:SS,useExisting:Object(r.T)(()=>XS),multi:!0};let ZS=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),XS=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(NS),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(ZS),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([YS])]}),t})();const JS={provide:SS,useExisting:Object(r.T)(()=>tT),multi:!0};let tT=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([JS])]}),t})();const eT='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',nT='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',rT={provide:SS,useExisting:Object(r.T)(()=>sT),multi:!0};function iT(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let sT=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=iT(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([rT])]}),t})(),oT=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(iT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.D),r.Kb(sT,9))},t.\u0275dir=r.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const aT={provide:SS,useExisting:Object(r.T)(()=>cT),multi:!0};function uT(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let cT=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([aT])]}),t})(),lT=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(uT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(uT(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.D),r.Kb(cT,9))},t.\u0275dir=r.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function hT(t,e){return[...e.path,t]}function dT(t,e){t||pT(e,"Cannot find control with"),e.valueAccessor||pT(e,"No value accessor for form control with"),t.validator=BS.compose([t.validator,e.validator]),t.asyncValidator=BS.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&fT(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&fT(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function fT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pT(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function gT(t){return null!=t?BS.compose($S(t)):null}function mT(t){return null!=t?BS.composeAsync($S(t)):null}const yT=[OS,tT,QS,sT,cT,XS];function vT(t){const e=_T(t)?t.validators:t;return Array.isArray(e)?gT(e):e||null}function bT(t,e){const n=_T(e)?e.asyncValidators:t;return Array.isArray(n)?mT(n):n||null}function _T(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class wT{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=vT(t)}setAsyncValidators(t){this.asyncValidator=bT(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=zS(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof ST?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof TT&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_T(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class ET extends wT{constructor(t=null,e,n){super(vT(e),bT(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ST extends wT{constructor(t,e,n){super(vT(e),bT(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ET?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class TT extends wT{constructor(t,e,n){super(vT(e),bT(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ET?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const OT={provide:AS,useExisting:Object(r.T)(()=>IT)},CT=(()=>Promise.resolve(null))();let IT=(()=>{class t extends AS{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new ST({},gT(t),mT(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){CT.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),dT(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){CT.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){CT.then(()=>{const e=this._findContainer(t.path),n=new ST({});(function(t,e){null==t&&pT(e,"Cannot find control with"),t.validator=BS.compose([t.validator,e.validator]),t.asyncValidator=BS.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){CT.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){CT.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(US,10),r.Kb(VS,10))},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([OT]),r.vb]}),t})(),xT=(()=>{class t extends AS{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return hT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return gT(this._validators)}get asyncValidator(){return mT(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return kT(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.vb]}),t})();const kT=r.Rb(xT);class AT{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${eT}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${nT}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${eT}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${nT}`)}}const jT={provide:AS,useExisting:Object(r.T)(()=>PT)};let PT=(()=>{class t extends xT{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof IT||AT.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(AS,5),r.Kb(US,10),r.Kb(VS,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.xb([jT]),r.vb]}),t})();const NT={provide:NS,useExisting:Object(r.T)(()=>DT)},RT=(()=>Promise.resolve(null))();let DT=(()=>{class t extends NS{constructor(t,e,n,i){super(),this.control=new ET,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||pT(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var s;e.constructor===xS?n=e:(s=e,yT.some(t=>s.constructor===t)?(r&&pT(t,"More than one built-in value accessor matches form control with"),r=e):(i&&pT(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(pT(t,"No valid value accessor for form control with"),null)}(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?hT(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return gT(this._rawValidators)}get asyncValidator(){return mT(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dT(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof PT)&&this._parent instanceof xT?AT.formGroupNameException():this._parent instanceof PT||this._parent instanceof IT||AT.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||AT.missingNameException()}_updateValue(t){RT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;RT.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(AS,9),r.Kb(US,10),r.Kb(VS,10),r.Kb(SS,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([NT]),r.vb,r.wb]}),t})(),LT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),FT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),MT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[ZS],imports:[FT]}),t})();class UT{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new VT(t,this.dueTime,this.scheduler))}}class VT extends ir.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(qT,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function qT(t){t.debouncedNext()}var BT=function(t){function e(n,r){var i=t.call(this,HT(n),"Firebase Storage: "+r+" ("+HT(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(Ho.c)(e,t),e.prototype._codeEquals=function(t){return HT(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(zo.c);function HT(t){return"storage/"+t}function zT(){return new BT("unknown","An unknown error occurred, please check the error payload for server response.")}function GT(){return new BT("canceled","User canceled the upload/download.")}function KT(){return new BT("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function $T(t){return new BT("invalid-argument",t)}function WT(){return new BT("app-deleted","The Firebase app was deleted.")}function QT(t){return new BT("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function YT(t,e){return new BT("invalid-format","String does not match format '"+t+"': "+e)}function ZT(t){throw new BT("internal-error","Internal error: "+t)}var XT={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},JT=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function tO(t,e){switch(t){case XT.RAW:return new JT(eO(e));case XT.BASE64:case XT.BASE64URL:return new JT(nO(t,e));case XT.DATA_URL:return new JT((n=new rO(e)).base64?nO(XT.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(nw){throw YT(XT.DATA_URL,"Malformed data URL.")}return eO(e)}(n.rest),function(t){return new rO(t).contentType}(e))}var n;throw zT()}function eO(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function nO(t,e){switch(t){case XT.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw YT(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case XT.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw YT(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(nw){throw YT(t,"Invalid character found")}for(var a=new Uint8Array(o.length),u=0;u<o.length;u++)a[u]=o.charCodeAt(u);return a}var rO=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw YT(XT.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),iO={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sO(t){switch(t){case"running":case"pausing":case"canceling":return iO.RUNNING;case"paused":return iO.PAUSED;case"success":return iO.SUCCESS;case"canceled":return iO.CANCELED;case"error":default:return iO.ERROR}}var oO=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),aO=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=oO.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=oO.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=oO.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw ZT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw ZT("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw ZT("cannot .getStatus() before sending");try{return this.xhr_.status}catch(nw){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw ZT("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),uO=function(){function t(){}return t.prototype.createConnection=function(){return new aO},t}(),cO=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(nw){return new t(e,"")}if(""===r.path)return r;throw new BT("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var o=n.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===n?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),r=new t(l[c.indices.bucket],h),c.postModify(r);break}}if(null==r)throw function(t){return new BT("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),lO=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function hO(t){return"string"==typeof t||t instanceof String}function dO(t){return fO()&&t instanceof Blob}function fO(){return"undefined"!=typeof Blob}function pO(t,e,n,r){if(r<e)throw $T("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw $T("Invalid value for '"+t+"'. Expected "+n+" or less.")}function gO(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function mO(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var yO=function(){function t(t,e,n,r,i,s,o,a,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(nw){s(nw)}else null!==o?((r=zT()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?WT():GT():new BT("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new vO(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){s=setTimeout((function(){s=null,function(e,n){if(n)e(!1,new vO(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===oO.NO_ERROR,s=r.getStatus();if(n&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new vO(o,r))}else{var a=r.getErrorCode()===oO.ABORT;e(!1,new vO(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())}),e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Ho.f)([null,t],e));else{var r,s=u()||o;s?l.call.apply(l,Object(Ho.f)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,c||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout((function(){o=!0,p(!0)}),r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),vO=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function bO(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _O(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=bO();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(fO())return new Blob(t);throw new BT("unsupported-environment","This browser doesn't seem to support creating Blobs")}var wO=function(){function t(t,e){var n=0,r="";dO(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(dO(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(fO()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(_O.apply(null,r))}var i=e.map((function(t){return hO(t)?tO(XT.RAW,t).data:t.data_})),s=0;i.forEach((function(t){s+=t.byteLength}));var o=new Uint8Array(s),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]})),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}();function EO(t){var e,n;try{e=JSON.parse(t)}catch(nw){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function SO(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function TO(t,e){return e}var OO=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||TO}}(),CO=null;function IO(){if(CO)return CO;var t=[];t.push(new OO("bucket")),t.push(new OO("generation")),t.push(new OO("metageneration")),t.push(new OO("name","fullPath",!0));var e=new OO("name");e.xform=function(t,e){return function(t){return!hO(t)||t.length<2?t:SO(t)}(e)},t.push(e);var n=new OO("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new OO("timeCreated")),t.push(new OO("updated")),t.push(new OO("md5Hash",null,!0)),t.push(new OO("cacheControl",null,!0)),t.push(new OO("contentDisposition",null,!0)),t.push(new OO("contentEncoding",null,!0)),t.push(new OO("contentLanguage",null,!0)),t.push(new OO("contentType",null,!0)),t.push(new OO("metadata","customMetadata",!0)),CO=t}function xO(t,e,n){var r=EO(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new cO(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function kO(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var AO=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function jO(t){if(!t)throw zT()}function PO(t,e){return function(n,r){var i=xO(t,r,e);return jO(null!==i),i}}function NO(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new BT("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new BT("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new BT("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new BT("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function RO(t){var e=NO(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new BT("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function DO(t,e,n){var r=gO(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new AO(r,"GET",PO(t,n),i);return s.errorHandler=RO(e),s}function LO(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var FO=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function MO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(nw){jO(!1)}return jO(!!n&&-1!==(e||["active"]).indexOf(n)),n}var UO=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function VO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var qO=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=IO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=LO(e,r,i),a={name:o.fullPath},u=gO(s,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=kO(o,n),h=new AO(u,"POST",(function(t){var e;MO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(nw){jO(!1)}return jO(hO(e)),e}),t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=NO(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=new AO(n,"POST",(function(t){var e=MO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(nw){jO(!1)}n||jO(!1);var i=Number(n);return jO(!isNaN(i)),new FO(i,r.size(),"final"===e)}),t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=NO(e),i}(t._ref.storage,t._ref._location,e,t._blob),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new FO(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,s){var o;try{o=function(t,e,n,r,i,s,o,a){var u=new FO(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new BT("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},f=r.slice(h,h+l);if(null===f)throw KT();var p=new AO(n,"POST",(function(t,n){var i,o=MO(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===o?PO(e,s)(t,n):null,new FO(a,c,"final"===o,i)}),e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=NO(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(nw){return t._error=nw,void t._transition("error")}var a=t._ref.storage._makeRequest(o,i,s);t._request=a,a.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=DO(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var u=LO(e,r,i),c=kO(u,n),l=wO.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw KT();var h={name:u.fullPath},d=gO(s,t.host),f=t.maxUploadRetryTime,p=new AO(d,"POST",PO(t,n),f);return p.urlParams=h,p.headers=o,p.body=l.uploadData(),p.errorHandler=NO(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=GT(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=sO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new UO(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(sO(this._state)){case iO.SUCCESS:VO(this._resolve.bind(null,this.snapshot))();break;case iO.CANCELED:case iO.ERROR:VO(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(sO(this._state)){case iO.RUNNING:case iO.PAUSED:t.next&&VO(t.next.bind(t,this.snapshot))();break;case iO.SUCCESS:t.complete&&VO(t.complete.bind(t))();break;case iO.CANCELED:case iO.ERROR:t.error&&VO(t.error.bind(t,this._error))();break;default:t.error&&VO(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),BO=function(){function t(t,e){this._service=t,this._location=e instanceof cO?e:cO.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new cO(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return SO(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new cO(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw QT(t)},t}();function HO(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n,r;return Object(Ho.d)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&pO("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=gO(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new AO(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=EO(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t._makeStorageReference(new cO(e,o));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new cO(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return jO(null!==i),i}}(t,e.bucket),a);return u.urlParams=s,u.errorHandler=NO(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function zO(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new cO(t._location.bucket,n);return new BO(t.storage,r)}function GO(t){return/^[A-Za-z]+:\/\//.test(t)}function KO(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:cO.makeFromBucketSpec(n,t)}var $O=function(){function t(t,e,n,r,i,s){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?cO.makeFromBucketSpec(i,this._host):KO(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?cO.makeFromBucketSpec(this._url,t):KO(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){pO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){pO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t,e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Object(Ho.b)(this,void 0,void 0,(function(){var t;return Object(Ho.d)(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new BO(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new lO(WT());var i=function(t,e,n,r,i,s){var o=mO(t.urlParams),a=t.url+o,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new yO(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}}))}))},t}();function WO(t,e){return function(t,e){if(e&&GO(e)){if(t instanceof $O)return new BO(t,e);throw $T("To use ref(service, url), the first argument must be a Storage instance.")}return function t(e,n){if(e instanceof $O){var r=e;if(null==r._bucket)throw new BT("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var i=new BO(r,r._bucket);return null!=n?t(i,n):i}return void 0!==n?zO(e,n):e}(t,e)}(t=Object(zo.i)(t),e)}var QO,YO,ZO=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),XO=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new ZO(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new ZO(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new ZO(t,i,i._ref))}:{next:e.next?function(t){return e.next(new ZO(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),JO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new tC(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new tC(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),tC=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return zO(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new XO(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new qO(t,new wO(e),n)}(t=Object(zo.i)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=XT.RAW),this._throwIfRoot("putString");var r=tO(e,t),i=Object(Ho.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new XO(new qO(this._delegate,new wO(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,function(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Object(Ho.b)(this,void 0,void 0,(function(){var i,s,o;return Object(Ho.d)(this,(function(a){switch(a.label){case 0:return[4,HO(e,{pageToken:r})];case 1:return i=a.sent(),(s=n.prefixes).push.apply(s,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}(t=Object(zo.i)(t))).then((function(t){return new JO(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return HO(t=Object(zo.i)(t),e)}(this._delegate,t||void 0).then((function(t){return new JO(t,e.storage)}))},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=DO(t.storage,t._location,IO()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(zo.i)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(Ho.b)(this,void 0,void 0,(function(){var n;return Object(Ho.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=gO(e.fullServerUrl(),t.host),s=kO(n,r),o=t.maxOperationRetryTime,a=new AO(i,"PATCH",PO(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=RO(e),a}(t.storage,t._location,e,IO()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=Object(zo.i)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=gO(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,s=new AO(r,"GET",function(t,e){return function(n,r){var i=xO(t,r,e);return jO(null!==i),function(t,e,n){var r=EO(e);if(null===r)return null;if(!hO(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var s=encodeURIComponent;return i.split(",").map((function(e){var r=t.fullPath;return gO("/b/"+s(t.bucket)+"/o/"+s(r),n)+mO({alt:"media",token:e})}))[0]}(i,r,t.host)}}(t,n),i);return s.errorHandler=RO(e),s}(t.storage,t._location,IO()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new BT("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}(t=Object(zo.i)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(Ho.b)(this,void 0,void 0,(function(){var e;return Object(Ho.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=gO(e.fullServerUrl(),t.host),r=new AO(n,"DELETE",(function(t,e){}),t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=RO(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=Object(zo.i)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw QT(t)},t}(),eC=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(GO(t))throw $T("ref() expected a child path but got a URL, use refFromURL instead.");return new tC(WO(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!GO(t))throw $T("refFromURL() expected a full URL but got a child path, use ref() instead.");try{cO.makeFromUrl(t,this._delegate.host)}catch(nw){throw $T("refFromUrl() expected a valid full URL but got an invalid one.")}return new tC(WO(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"==typeof i?i:Object(zo.e)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,t,e,n)},t}();function nC(t){const e=function(t){return new Hn.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=No.a){return n=>n.lift(new UT(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(er.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function rC(t,e,n){return{getDownloadURL:()=>Object(Mn.a)(void 0).pipe(Object(Uo.b)(e.outsideAngular),Pr(()=>t.getDownloadURL()),n),getMetadata:()=>Object(Mn.a)(void 0).pipe(Object(Uo.b)(e.outsideAngular),Pr(()=>t.getMetadata()),n),delete:()=>Object(Un.a)(t.delete()),child:r=>rC(t.child(r),e,n),updateMetadata:e=>Object(Un.a)(t.updateMetadata(e)),put:(e,n)=>nC(t.put(e,n)),putString:(e,n,r)=>nC(t.putString(e,n,r)),listAll:()=>Object(Un.a)(t.listAll())}}YO={TaskState:iO,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:XT,Storage:$O,Reference:tC},(QO=Bo.a).INTERNAL.registerComponent(new sw.a("storage",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new eC(r,new $O(r,i,s,new uO,n,Bo.a.SDK_VERSION))}),"PUBLIC").setServiceProps(YO).setMultipleInstances(!0)),QO.registerVersion("@firebase/storage","0.7.1");const iC=new r.q("angularfire2.storageBucket"),sC=new r.q("angularfire2.storage.maxUploadRetryTime"),oC=new r.q("angularfire2.storage.maxOperationRetryTime");let aC=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new Vo.d(i),this.keepUnstableUntilFirst=Object(Vo.h)(this.schedulers);const a=Object(Vo.g)(t,i,e);this.storage=Object(Vo.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return rC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return rC(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return rC(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Vo.c),r.Tb(Vo.b,8),r.Tb(iC,8),r.Tb(r.B),r.Tb(r.z),r.Tb(sC,8),r.Tb(oC,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(Vo.c),Object(r.Tb)(Vo.b,8),Object(r.Tb)(iC,8),Object(r.Tb)(r.B),Object(r.Tb)(r.z),Object(r.Tb)(sC,8),Object(r.Tb)(oC,8))},token:t,providedIn:"any"}),t})(),uC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),cC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[aC],imports:[uC]}),t})(),lC=(()=>{class t{constructor(){this.isDark=new Bn(!0)}onThemeChange(){return this.isDark.asObservable()}setTheme(t){this.toggleTheme(t)}toggleTheme(t){this.isDark.next(t),t?this.setPropDarkMode():this.setPropLightMode(),document.documentElement.style.overflow=""}setPropDarkMode(){document.documentElement.setAttribute("data-color-scheme","dark"),document.body.classList.add("dark-theme"),document.body.classList.remove("light-theme")}setPropLightMode(){document.documentElement.setAttribute("data-color-scheme","light"),document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hC=(()=>{class t{constructor(){this.selectedLanguage="en",this.classListIconButton="",this.isSendLanguage=new r.n,this.isSendTheme=new r.n}sendLanguage(t){this.isSendLanguage.emit(t)}sendTheme(){this.isSendTheme.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-actions"]],inputs:{selectedLanguage:"selectedLanguage",classListIconButton:"classListIconButton"},outputs:{isSendLanguage:"isSendLanguage",isSendTheme:"isSendTheme"},decls:14,vars:4,consts:[[1,"d-lg-flex"],[1,"form-inline","my-2","my-lg-1","ml-lg-3"],[1,"form-group"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"fas","fa-language"],["id","selectIdiom","name","lang",1,"form-control",3,"ngModel","ngModelChange","change"],["value","en"],["value","es"],["type","button",1,"btn","btn-purple","my-2","my-lg-1","ml-lg-3",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"section",0),r.Pb(1,"form",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.Pb(4,"div",4),r.Pb(5,"div",5),r.Lb(6,"i",6),r.Ob(),r.Ob(),r.Pb(7,"select",7),r.Wb("ngModelChange",(function(t){return e.selectedLanguage=t}))("change",(function(t){return e.sendLanguage(t.target.value)})),r.Pb(8,"option",8),r.qc(9,"\ud83c\uddfa\ud83c\uddf8"),r.Ob(),r.Pb(10,"option",9),r.qc(11,"\ud83c\uddea\ud83c\uddf8"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(12,"button",10),r.Wb("click",(function(){return e.sendTheme()})),r.Lb(13,"i"),r.Ob(),r.Ob()),2&t&&(r.yb(7),r.ec("ngModel",e.selectedLanguage),r.yb(6),r.Bb(e.classListIconButton))},directives:[LT,LS,IT,sT,DS,DT,oT,lT],styles:[""]}),t})();function dC(t,e){if(1&t&&(r.Pb(0,"li",10),r.Pb(1,"a",11),r.Lb(2,"i"),r.qc(3),r.Zb(4,"translate"),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.yb(1),r.ec("routerLink",t.href),r.yb(1),r.Bb(t.icon),r.yb(1),r.sc(" ",r.ac(4,5,t.title)," ")}}const fC=function(t,e){return{"navbar-dark":t,"navbar-light":e}};let pC=(()=>{class t{constructor(t,e,n){this.translate=t,this.renderer=e,this._srvTheme=n,this.selectedLanguage="en",this.setContentTooltip="",this.baseClassListIconButton="fas fa-",this.classListIconButton="",this.arrayMenu=[],this.linkGB=gE.getLinks("GB"),this.translate.setDefaultLang(this.selectedLanguage),this.translate.use(this.selectedLanguage)}ngOnInit(){this.setContentTooltip=gE.setHTMLContentTooltip("fab fa-github ml-1"),this.getTheme(),this.setClassListToggle(),this.getMenu()}getTheme(){this.suscriptionTheme=this._srvTheme.onThemeChange().subscribe(t=>this.isDark=t)}scrollToId(t){setTimeout(()=>{this.renderer.selectRootElement("#"+t,!0).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},100)}selectLanguage(t){this.translate.use(t)}setTheme(){this.isDark=!this.isDark,this._srvTheme.setTheme(this.isDark),this.setClassListToggle()}setClassListToggle(){this.classListIconButton=`${this.baseClassListIconButton}${this.isDark?"moon":"lightbulb"}`}getMenu(){this.arrayMenu=gE.getLinksMenu()}ngOnDestroy(){this.suscriptionTheme.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(eE),r.Kb(r.D),r.Kb(lC))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-navbar"]],decls:14,vars:9,consts:[[1,"navbar","navbar-expand-lg","bg-light-purple","bg-purple","fixed-top","pt-1","pb-1",3,"ngClass"],[1,"menu","container"],["target","_blank","data-toggle","tooltip","data-placement","bottom",1,"navbar-brand","font-weight-bold","font-italic",3,"href","title"],[1,"mb-0","text-nav"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto","mb-lg-0","mb-3",3,"click"],["class","nav-item","routerLinkActive","active",4,"ngFor","ngForOf"],[3,"selectedLanguage","classListIconButton","isSendLanguage","isSendTheme"],["routerLinkActive","active",1,"nav-item"],[1,"nav-link",3,"routerLink"]],template:function(t,e){1&t&&(r.Pb(0,"nav",0),r.Pb(1,"section",1),r.Pb(2,"a",2),r.Pb(3,"p",3),r.qc(4,"<"),r.Pb(5,"span"),r.qc(6,"ac"),r.Ob(),r.qc(7," /> "),r.Ob(),r.Ob(),r.Pb(8,"button",4),r.Lb(9,"span",5),r.Ob(),r.Pb(10,"div",6),r.Pb(11,"ul",7),r.Wb("click",(function(){return e.scrollToId("body-aac")})),r.pc(12,dC,5,7,"li",8),r.Ob(),r.Pb(13,"app-actions",9),r.Wb("isSendLanguage",(function(t){return e.selectLanguage(t)}))("isSendTheme",(function(){return e.setTheme()})),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.ec("ngClass",r.hc(6,fC,e.isDark,!e.isDark)),r.yb(2),r.ec("href",e.linkGB,r.lc)("title",e.setContentTooltip),r.yb(10),r.ec("ngForOf",e.arrayMenu),r.yb(1),r.ec("selectedLanguage",e.selectedLanguage)("classListIconButton",e.classListIconButton))},directives:[A,P,hC,lo,uo],pipes:[nE],styles:["p.text-nav[_ngcontent-%COMP%]{color:#f7e951!important}"]}),t})(),gC=(()=>{class t{constructor(){}ngOnInit(){particlesJS.load("particles-js","../assets/particles/particles.json",null)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-particles"]],decls:2,vars:0,consts:[["id","particles-js",1,"canvas"],[1,"particles-js-canvas-el"]],template:function(t,e){1&t&&(r.Pb(0,"section",0),r.Lb(1,"canvas",1),r.Ob())},styles:[""]}),t})();function mC(t,e){if(1&t&&r.Lb(0,"app-loading",10),2&t){const t=r.Yb();r.ec("styleType",t.sp)}}function yC(t,e){if(1&t&&r.Lb(0,"app-alert",10),2&t){const t=r.Yb();r.ec("styleType",t.sp)}}let vC=(()=>{class t{constructor(t){this._srvHttpClient=t,this.loading=!1,this.error=!1,this.setContentTooltipIn="",this.linkIN=""}ngOnInit(){this.linkIN=gE.getLinks("IN"),this.setContentTooltipIn=gE.setHTMLContentTooltip("fab fa-fw fa-linkedin-in ml-1")}getResume(){this.loading=!0,this.error=!1;const t=gE.getUrlResume();let e=new $E;e.set("Content-Type","application/json"),this._srvHttpClient.get(t,{observe:"response",headers:e,responseType:"arraybuffer"}).subscribe(t=>{const e=t.headers.get("content-type"),n={data:t.body?t.body:new ArrayBuffer(0),type:e||".pdf",name:"aldo_castillo_developer.pdf"};this.setAndDownloadFile(n)||console.error(),setTimeout(()=>this.loading=!1,1e3)},t=>{this.error=!0,this.loading=!1})}setAndDownloadFile(t){var e;const{data:n,type:r}=t;try{const t=new Blob([n],{type:r}),i=URL.createObjectURL(t),s=document.createElement("iframe");return s.style.display="none",s.src=i,document.body.appendChild(s),null===(e=s.contentWindow)||void 0===e||e.print(),!0}catch(i){return!1}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(aS))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-header"]],decls:19,vars:13,consts:[["data-animation","center",1,"menu"],[1,"text-banner","text-center","text-lg-left"],[1,"header-greeting","text-custom"],["target","_blank","data-toggle","tooltip","data-placement","top",1,"nav-link","p-0",3,"href","title"],[1,"mb-0",2,"font-size","4em"],[1,"header-degree","font-weight-bold","mb-0","pb-4",2,"font-size","2em"],[1,"d-flex","justify-content-center","justify-content-lg-start"],["type","button",1,"btn","btn-purple-solid",3,"click"],[1,"fas","fa-file-download","fa-2x"],[3,"styleType",4,"ngIf"],[3,"styleType"]],template:function(t,e){1&t&&(r.Pb(0,"header",0),r.Pb(1,"section",1),r.Pb(2,"p",2),r.qc(3),r.Zb(4,"translate"),r.Ob(),r.Pb(5,"a",3),r.Pb(6,"h1",4),r.qc(7,"ALDO CASTILLO"),r.Ob(),r.Ob(),r.Pb(8,"p",5),r.qc(9),r.Zb(10,"translate"),r.Ob(),r.Ob(),r.Pb(11,"div",6),r.Pb(12,"button",7),r.Wb("click",(function(){return e.getResume()})),r.Lb(13,"i",8),r.Pb(14,"p"),r.qc(15),r.Zb(16,"translate"),r.Ob(),r.Ob(),r.pc(17,mC,1,1,"app-loading",9),r.pc(18,yC,1,1,"app-alert",9),r.Ob(),r.Ob()),2&t&&(r.yb(3),r.sc(" ",r.ac(4,7,"HOME.GREETING")," "),r.yb(2),r.ec("href",e.linkIN,r.lc)("title",e.setContentTooltipIn),r.yb(4),r.sc(" ",r.ac(10,9,"HOME.DEGREE")," "),r.yb(6),r.rc(r.ac(16,11,"HOME.BUTTON-DOWNLOAD")),r.yb(2),r.ec("ngIf",e.loading),r.yb(1),r.ec("ngIf",e.error))},directives:[R,jw,iE],pipes:[nE],styles:["header[_ngcontent-%COMP%] > .text-banner[_ngcontent-%COMP%] > .header-greeting[_ngcontent-%COMP%]{font-size:2em;padding-bottom:1.2em;padding-top:.2em}.btn-purple-solid[_ngcontent-%COMP%]{display:inline-flex;font-size:1.5rem;justify-content:center;align-items:center}.btn-purple-solid[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-bottom:0;margin-left:.5em}@media screen and (max-width:500px) and (min-width:360px){h1[_ngcontent-%COMP%]{font-size:2.2em!important}header[_ngcontent-%COMP%] > .text-banner[_ngcontent-%COMP%] > .header-degree[_ngcontent-%COMP%], header[_ngcontent-%COMP%] > .text-banner[_ngcontent-%COMP%] > .header-greeting[_ngcontent-%COMP%]{font-size:1.1em!important}.btn-purple-solid[_ngcontent-%COMP%]{font-size:.8em!important}}@media screen and (max-width:783px) and (min-width:501px){h1[_ngcontent-%COMP%]{font-size:2.8em!important}header[_ngcontent-%COMP%] > .text-banner[_ngcontent-%COMP%] > .header-degree[_ngcontent-%COMP%], header[_ngcontent-%COMP%] > .text-banner[_ngcontent-%COMP%] > .header-greeting[_ngcontent-%COMP%]{font-size:1.5em!important}.btn-purple-solid[_ngcontent-%COMP%]{font-size:1em!important}}@media screen and (max-width:1000px) and (min-width:784px){h1[_ngcontent-%COMP%]{font-size:3.2em!important}header[_ngcontent-%COMP%] > .text-banner[_ngcontent-%COMP%] > .header-degree[_ngcontent-%COMP%], header[_ngcontent-%COMP%] > .text-banner[_ngcontent-%COMP%] > .header-greeting[_ngcontent-%COMP%]{font-size:1.8em!important}.btn-purple-solid[_ngcontent-%COMP%]{font-size:1.5em!important}}@media screen and (max-width:1200px) and (min-width:1001px){h1[_ngcontent-%COMP%]{font-size:3.5em!important}header[_ngcontent-%COMP%] > .text-banner[_ngcontent-%COMP%] > .header-degree[_ngcontent-%COMP%], header[_ngcontent-%COMP%] > .text-banner[_ngcontent-%COMP%] > .header-greeting[_ngcontent-%COMP%]{font-size:1.9em!important}.btn-purple-solid[_ngcontent-%COMP%]{font-size:1.5em!important}}"]}),t})(),bC=(()=>{class t{constructor(){}}var e;return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-profile"]],decls:9,vars:1,consts:[[1,"profile"],["animated","","fadeIn","",1,"banner","d-flex","align-items-center","justify-content-center","justify-content-lg-between","container"],[1,"d-lg-flex","justify-content-between","h-100","align-items-end"],[1,"col-12","col-lg-7","p-0"],[1,"col-12","col-lg-5","pr-0","pl-0","pt-5","pt-lg-0","w-100","h-100"],[1,"ml-auto","mt-auto","w-100","h-100"],["src","assets/img/aac-profile.jpeg","alt","img-profile",1,"img-profile"]],template:function(t,e){1&t&&(r.Pb(0,"section",0),r.Lb(1,"app-particles"),r.Pb(2,"div",1),r.Pb(3,"div",2),r.Pb(4,"div",3),r.Lb(5,"app-header"),r.Ob(),r.Pb(6,"div",4),r.Pb(7,"picture",5),r.Lb(8,"img",6),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.yb(3),r.ec("@enterState",void 0))},directives:[gC,vC],styles:[".img-profile[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border:.2em solid #fff;border-radius:.7em;box-shadow:7px 7px 7px #5e376d;transition:all .3s ease-in-out}.img-profile[_ngcontent-%COMP%]:hover{transition:all .3s ease-in-out;animation:spin .35s linear;border-radius:50%!important;box-shadow:0 0 7px 7px #5e376d!important}@keyframes spin{to{transform:rotate(1turn)}}.profile[_ngcontent-%COMP%]{height:100vh!important;width:100%!important;padding-top:30vh}.banner[_ngcontent-%COMP%]{transition:all .3s;z-index:1!important;padding-bottom:10%}@media screen and (max-width:500px) and (min-width:360px){.profile[_ngcontent-%COMP%]{padding-top:15vh}}@media screen and (max-width:783px) and (min-width:501px){.profile[_ngcontent-%COMP%]{padding-top:10vh}.img-profile[_ngcontent-%COMP%]{height:300px!important}}@media screen and (max-width:1000px) and (min-width:784px){.profile[_ngcontent-%COMP%]{padding-top:10vh}.img-profile[_ngcontent-%COMP%]{height:300px!important}}"],data:{animation:[yt("enterState",[(e=_t({transform:"translateX(-150%)",opacity:0}),{type:0,name:"void",styles:e,options:void 0}),wt(":enter",[vt(2e3,_t({transform:"translateX(0)",opacity:.5}))])])]}}),t})();function _C(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",1),r.Wb("click",(function(){return r.kc(t),r.Yb().gotoTop()})),r.Lb(1,"i",2),r.Ob()}}let wC=(()=>{class t{constructor(){this.topPosToStartShowing=500}checkScroll(){const t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.isShow=t>=this.topPosToStartShowing}gotoTop(){window.scroll({top:0,left:0,behavior:"smooth"})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-button-scroll-zero"]],hostBindings:function(t,e){1&t&&r.Wb("scroll",(function(){return e.checkScroll()}),!1,r.jc)},decls:1,vars:1,consts:[["id","scroll","class","btn btn-light btn-purple-solid btn-social btn-float",3,"click",4,"ngIf"],["id","scroll",1,"btn","btn-light","btn-purple-solid","btn-social","btn-float",3,"click"],[1,"fas","fa-arrow-up"]],template:function(t,e){1&t&&r.pc(0,_C,2,0,"button",0),2&t&&r.ec("ngIf",e.isShow)},directives:[R],styles:[""]}),t})(),EC=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-button-link"]],decls:2,vars:0,consts:[["id","link","href","https://api.whatsapp.com/send?phone=542616934658&text=Hi!","target","_blank",1,"btn","btn-light","btn-purple-solid","btn-social","btn-float"],[1,"fab","fa-whatsapp"]],template:function(t,e){1&t&&(r.Pb(0,"a",0),r.Lb(1,"i",1),r.Ob())},styles:[""]}),t})();function SC(t,e){if(1&t&&(r.Pb(0,"p",4),r.qc(1),r.Zb(2,"translate"),r.Ob()),2&t){const t=r.Yb();r.yb(1),r.sc(" ",r.ac(2,1,t.content)," ")}}const TC=["*"];let OC=(()=>{class t{constructor(){this.title="",this.content="",this.mode="comp"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-base-footer"]],inputs:{title:"title",content:"content",mode:"mode"},ngContentSelectors:TC,decls:7,vars:4,consts:[[1,"d-flex","h-100","align-content-start","flex-wrap","justify-content-center"],[1,"text-uppercase","mb-4","text-custom",2,"display","block !important"],[1,"d-flex","w-100","h-100","align-content-baseline","flex-wrap","justify-content-center"],["class","lead mb-0",4,"ngIf"],[1,"lead","mb-0"]],template:function(t,e){1&t&&(r.dc(),r.Pb(0,"section",0),r.Pb(1,"h4",1),r.qc(2),r.Zb(3,"translate"),r.Ob(),r.Pb(4,"div",2),r.pc(5,SC,3,3,"p",3),r.cc(6),r.Ob(),r.Ob()),2&t&&(r.yb(2),r.sc(" ",r.ac(3,2,e.title)," "),r.yb(3),r.ec("ngIf",e.content))},directives:[R],pipes:[nE],styles:[""]}),t})();function CC(t,e){if(1&t&&(r.Pb(0,"a",10),r.Lb(1,"i"),r.Ob()),2&t){const t=e.$implicit;r.ec("href",t.href,r.lc),r.yb(1),r.Bb(t.icon)}}function IC(t,e){if(1&t&&(r.Nb(0),r.pc(1,CC,2,3,"a",9),r.Mb()),2&t){const t=r.Yb(2);r.yb(1),r.ec("ngForOf",t.arrayLinks)}}function xC(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"picture",11),r.Lb(2,"img",12),r.Ob(),r.Mb()),2&t){const t=r.Yb(2);r.yb(2),r.ec("src",t.urlImage,r.lc)}}const kC=function(t){return{"mb-5 mb-lg-0":t}};function AC(t,e){if(1&t&&(r.Pb(0,"app-base-footer",7),r.pc(1,IC,2,1,"ng-container",8),r.pc(2,xC,3,1,"ng-container",8),r.Ob()),2&t){const t=e.$implicit,n=e.index;r.ec("title",t.title)("content",t.content)("ngClass",r.gc(5,kC,n<2)),r.yb(1),r.ec("ngIf",t.custom&&1===n),r.yb(1),r.ec("ngIf",t.custom&&2===n)}}let jC=(()=>{class t{constructor(t){this._srvTheme=t,this.year=(new Date).getFullYear(),this.arrayLinks=[],this.arraySections=[],this.urlImage=""}ngOnInit(){this.getTheme(),this.getLinks(),this.getSections()}getTheme(){this.suscriptionTheme=this._srvTheme.onThemeChange().subscribe(t=>{this.urlImage=`assets/img/${t?"ac-logo":"ac-logo--neg"}.png`})}getLinks(){this.arrayLinks=gE.getLinksFooter()}getSections(){this.arraySections=gE.getSectionFooter()}ngOnDestroy(){this.suscriptionTheme.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(lC))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-footer"]],decls:10,vars:5,consts:[[1,"pt-5"],[1,"footer","bg-light-purple","bg-purple","text-center","pt-5"],[1,"container"],[1,"row"],["class","col-lg-4",3,"title","content","ngClass",4,"ngFor","ngForOf"],[1,"copyright","py-4","text-center"],[1,"container","h4","mb-0"],[1,"col-lg-4",3,"title","content","ngClass"],[4,"ngIf"],["class","btn btn-purple btn-social mx-1","target","_blank",3,"href",4,"ngFor","ngForOf"],["target","_blank",1,"btn","btn-purple","btn-social","mx-1",3,"href"],[1,"pb-4","cont--img-logo"],["alt","ac-logo",1,"img-logo",3,"src"]],template:function(t,e){1&t&&(r.Pb(0,"section",0),r.Pb(1,"footer",1),r.Pb(2,"div",2),r.Pb(3,"div",3),r.pc(4,AC,3,7,"app-base-footer",4),r.Ob(),r.Ob(),r.Ob(),r.Pb(5,"div",5),r.Pb(6,"div",6),r.Pb(7,"small"),r.qc(8),r.Zb(9,"translate"),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.yb(4),r.ec("ngForOf",e.arraySections),r.yb(4),r.tc("",r.ac(9,3,"FOOTER.COPY-R")," \xa9 | ac | 2019 - ",e.year,""))},directives:[P,OC,A,R],pipes:[nE],styles:[".footer[_ngcontent-%COMP%]{display:block;padding-top:4rem;padding-bottom:4rem}.btn-social[_ngcontent-%COMP%]{border-radius:100%;display:inline-flex;width:3.25rem;height:3.25rem;font-size:1.25rem;justify-content:center;align-items:center}.img-logo[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;border-radius:.7em;box-shadow:7px 7px 7px #303030}"]}),t})(),PC=(()=>{class t{constructor(t){this._srvTheme=t,this.title="portfolio-daac"}ngOnInit(){this._srvTheme.setTheme(!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(lC))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:6,vars:0,consts:[["id","body-aac"]],template:function(t,e){1&t&&(r.Lb(0,"app-navbar"),r.Lb(1,"app-profile"),r.Lb(2,"router-outlet",0),r.Lb(3,"app-button-scroll-zero"),r.Lb(4,"app-button-link"),r.Lb(5,"app-footer"))},directives:[pC,bC,ho,wC,EC,jC],styles:[""]}),t})();class NC{constructor(t,e="/assets/i18n/",n=".json"){this.http=t,this.prefix=e,this.suffix=n}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}function RC(t){return new NC(t,"./assets/i18n/",".json")}let DC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[PC]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[lC],imports:[[gt,ES,Fn,zE,MT,rE.forRoot({defaultLanguage:"en",loader:{provide:Lw,useFactory:RC,deps:[aS]}}),VE.forRoot(),Vo.a.initializeApp(i),cC,xw]]}),t})();Object(r.S)(),ft().bootstrapModule(DC).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);